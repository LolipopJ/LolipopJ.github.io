{"version":3,"file":"dark.js","mappings":"MAAA,IAIMA,EAJAC,EAAsBC,EAAE,qBAmBxBC,EAA8B,SAACC,GAC/BA,EACFH,EAAoBI,YAAY,6BAEhCJ,EAAoBK,SAAS,4BAEjC,EAGMC,EAAkB,SAAUC,GAChCL,GAA4B,GAC5B,IAAMM,EAAsBP,EAAE,cAADQ,OAAeF,EAAI,mBACb,IAA/BC,EAAoBE,QACtBF,EAAoBG,SACpBC,aAAab,mBAAqB,UAElCE,EAAE,UACCY,KAAK,CACJC,IAAK,aACLC,KAAM,WACNC,KAAM,GAAFP,OAAKF,EAAI,kBAEdU,SAAS,QACZL,aAAab,mBAAqB,QAEpCG,GAA4B,EAC9B,EAIEA,GAA4B,GAII,YAjD5BH,EAAqBa,aAAab,oBASpCA,EAA4C,SAAvBA,EAAgC,OAAS,SAN9DA,EAAqBmB,OAAOC,WAAW,gCACpCC,QACC,OACA,QACJR,aAAab,mBAAqBA,GAI7BA,IAuCLO,EAAgBY,OAAOG,SAASd,MAGlCP,EAAoBsB,OAAM,WACxBhB,EAAgBY,OAAOG,SAASd,KAClC,IAEAL,GAA4B,E","sources":["webpack://hexo-theme-archer/./src/js/dark.js"],"sourcesContent":["const $themeModeSwitchBtn = $('.header-theme-btn')\n\n// 获取用户偏好的主题颜色模式\nconst getPreferredThemeMode = function () {\n  let preferredThemeMode = localStorage.preferredThemeMode\n  if (!preferredThemeMode) {\n    // 首次访问时，设置用户偏好主题颜色模式为系统偏好主题颜色模式\n    preferredThemeMode = window.matchMedia('(prefers-color-scheme: dark)')\n      .matches\n      ? 'dark'\n      : 'light'\n    localStorage.preferredThemeMode = preferredThemeMode\n  } else {\n    preferredThemeMode = preferredThemeMode === 'dark' ? 'dark' : 'light'\n  }\n  return preferredThemeMode\n}\n\n// 设置切换主题按钮可点击\nconst setThemeModeSwitchBtnActive = (active) => {\n  if (active) {\n    $themeModeSwitchBtn.removeClass('header-theme-btn-disabled')\n  } else {\n    $themeModeSwitchBtn.addClass('header-theme-btn-disabled')\n  }\n}\n\n// 切换主题颜色模式\nconst switchThemeMode = function (root) {\n  setThemeModeSwitchBtnActive(false)\n  const $darkModeSourceLink = $(`LINK[href='${root}css/dark.css']`)\n  if ($darkModeSourceLink.length === 1) {\n    $darkModeSourceLink.remove()\n    localStorage.preferredThemeMode = 'light'\n  } else {\n    $('<link>')\n      .attr({\n        rel: 'stylesheet',\n        type: 'text/css',\n        href: `${root}css/dark.css`,\n      })\n      .appendTo('head')\n    localStorage.preferredThemeMode = 'dark'\n  }\n  setThemeModeSwitchBtnActive(true)\n}\n\n// 初始化切换主题颜色模式功能\nconst initThemeModeSwitchButton = function () {\n  setThemeModeSwitchBtnActive(false)\n\n  // 默认情况下，加载暗色主题\n  // 若用户偏好浅色主题，则切换主题颜色模式\n  if (getPreferredThemeMode() === 'light') {\n    switchThemeMode(window.siteMeta.root)\n  }\n\n  $themeModeSwitchBtn.click(function () {\n    switchThemeMode(window.siteMeta.root)\n  })\n\n  setThemeModeSwitchBtnActive(true)\n}\n\ninitThemeModeSwitchButton()\n"],"names":["preferredThemeMode","$themeModeSwitchBtn","$","setThemeModeSwitchBtnActive","active","removeClass","addClass","switchThemeMode","root","$darkModeSourceLink","concat","length","remove","localStorage","attr","rel","type","href","appendTo","window","matchMedia","matches","siteMeta","click"],"sourceRoot":""}