{"version":3,"file":"dark.js","mappings":"MAAA,IAIMA,EAJAC,EAAsBC,EAAE,qBAmBxBC,EAA8B,SAACC,GAC/BA,EACFH,EAAoBI,YAAY,6BAEhCJ,EAAoBK,SAAS,8BAK3BC,EAAkB,SAAUC,GAChCL,GAA4B,GAC5B,IAAMM,EAAsBP,EAAE,cAAD,OAAeM,EAAf,mBACM,IAA/BC,EAAoBC,QACtBD,EAAoBE,SACpBC,aAAaZ,mBAAqB,UAElCE,EAAE,UACCW,KAAK,CACJC,IAAK,aACLC,KAAM,WACNC,KAAM,GAAF,OAAKR,EAAL,kBAELS,SAAS,QACZL,aAAaZ,mBAAqB,QAEpCG,GAA4B,IAK5BA,GAA4B,GAII,YAjD5BH,EAAqBY,aAAaZ,oBASpCA,EAA4C,SAAvBA,EAAgC,OAAS,SAN9DA,EAAqBkB,OAAOC,WAAW,gCACpCC,QACC,OACA,QACJR,aAAaZ,mBAAqBA,GAI7BA,IAuCLO,EAAgBW,OAAOG,SAASb,MAGlCP,EAAoBqB,OAAM,WACxBf,EAAgBW,OAAOG,SAASb,SAGlCL,GAA4B,I","sources":["webpack://hexo-theme-archer/./src/js/dark.js"],"sourcesContent":["const $themeModeSwitchBtn = $('.header-theme-btn')\r\n\r\n// 获取用户偏好的主题颜色模式\r\nconst getPreferredThemeMode = function () {\r\n  let preferredThemeMode = localStorage.preferredThemeMode\r\n  if (!preferredThemeMode) {\r\n    // 首次访问时，设置用户偏好主题颜色模式为系统偏好主题颜色模式\r\n    preferredThemeMode = window.matchMedia('(prefers-color-scheme: dark)')\r\n      .matches\r\n      ? 'dark'\r\n      : 'light'\r\n    localStorage.preferredThemeMode = preferredThemeMode\r\n  } else {\r\n    preferredThemeMode = preferredThemeMode === 'dark' ? 'dark' : 'light'\r\n  }\r\n  return preferredThemeMode\r\n}\r\n\r\n// 设置切换主题按钮可点击\r\nconst setThemeModeSwitchBtnActive = (active) => {\r\n  if (active) {\r\n    $themeModeSwitchBtn.removeClass('header-theme-btn-disabled')\r\n  } else {\r\n    $themeModeSwitchBtn.addClass('header-theme-btn-disabled')\r\n  }\r\n}\r\n\r\n// 切换主题颜色模式\r\nconst switchThemeMode = function (root) {\r\n  setThemeModeSwitchBtnActive(false)\r\n  const $darkModeSourceLink = $(`LINK[href='${root}css/dark.css']`)\r\n  if ($darkModeSourceLink.length === 1) {\r\n    $darkModeSourceLink.remove()\r\n    localStorage.preferredThemeMode = 'light'\r\n  } else {\r\n    $('<link>')\r\n      .attr({\r\n        rel: 'stylesheet',\r\n        type: 'text/css',\r\n        href: `${root}css/dark.css`,\r\n      })\r\n      .appendTo('head')\r\n    localStorage.preferredThemeMode = 'dark'\r\n  }\r\n  setThemeModeSwitchBtnActive(true)\r\n}\r\n\r\n// 初始化切换主题颜色模式功能\r\nconst initThemeModeSwitchButton = function () {\r\n  setThemeModeSwitchBtnActive(false)\r\n\r\n  // 默认情况下，加载暗色主题\r\n  // 若用户偏好浅色主题，则切换主题颜色模式\r\n  if (getPreferredThemeMode() === 'light') {\r\n    switchThemeMode(window.siteMeta.root)\r\n  }\r\n\r\n  $themeModeSwitchBtn.click(function () {\r\n    switchThemeMode(window.siteMeta.root)\r\n  })\r\n\r\n  setThemeModeSwitchBtnActive(true)\r\n}\r\n\r\ninitThemeModeSwitchButton()\r\n"],"names":["preferredThemeMode","$themeModeSwitchBtn","$","setThemeModeSwitchBtnActive","active","removeClass","addClass","switchThemeMode","root","$darkModeSourceLink","length","remove","localStorage","attr","rel","type","href","appendTo","window","matchMedia","matches","siteMeta","click"],"sourceRoot":""}