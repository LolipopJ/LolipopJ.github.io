{"version":3,"file":"search.js","mappings":"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","sources":["webpack://hexo-theme-archer/./node_modules/@algolia/events/events.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/index.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/DerivedHelper/index.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/SearchParameters/index.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/SearchResults/index.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/algoliasearch.helper.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/compact.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/defaultsPure.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/escapeFacetValue.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/find.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/findIndex.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/formatSort.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/inherits.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/intersection.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/merge.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/objectHasKeys.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/omit.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/orderBy.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/functions/valToNumber.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/requestBuilder.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/utils/isValidUserToken.js","webpack://hexo-theme-archer/./node_modules/algoliasearch-helper/src/version.js","webpack://hexo-theme-archer/./node_modules/algoliasearch/dist/algoliasearch-lite.umd.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/a-callable.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/a-possible-prototype.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/add-to-unscopables.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/advance-string-index.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/an-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/array-includes.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/array-iteration.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/array-species-constructor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/array-species-create.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/classof-raw.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/classof.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/create-property-descriptor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/define-built-in.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/define-global-property.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/descriptors.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/document-all.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/document-create-element.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/engine-user-agent.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/engine-v8-version.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/enum-bug-keys.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/export.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/fails.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/function-apply.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/function-bind-context.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/function-bind-native.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/function-call.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/function-name.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/function-uncurry-this-accessor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/function-uncurry-this-clause.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/function-uncurry-this.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/get-built-in.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/get-method.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/get-substitution.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/global.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/has-own-property.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/hidden-keys.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/html.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/ie8-dom-define.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/indexed-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/inherit-if-required.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/inspect-source.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/internal-state.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-array.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-callable.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-constructor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-forced.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-pure.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-regexp.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/is-symbol.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/length-of-array-like.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/make-built-in.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/math-trunc.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/number-parse-int.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-create.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-define-properties.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-define-property.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-keys-internal.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-keys.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/object-to-string.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/own-keys.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/proxy-accessor.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-exec.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-flags.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-get-flags.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/require-object-coercible.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/same-value.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/set-species.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/shared-key.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/shared-store.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/shared.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/string-multibyte.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/string-trim.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-absolute-index.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-indexed-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-length.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-object.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-primitive.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-property-key.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-string-tag-support.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/to-string.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/try-to-string.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/uid.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/well-known-symbol.js","webpack://hexo-theme-archer/./node_modules/core-js/internals/whitespaces.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.array.find.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.object.to-string.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.parse-int.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.regexp.constructor.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.regexp.dot-all.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.regexp.exec.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.regexp.sticky.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.regexp.test.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.regexp.to-string.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.string.replace.js","webpack://hexo-theme-archer/./node_modules/core-js/modules/es.string.search.js","webpack://hexo-theme-archer/./node_modules/hogan.js/lib/compiler.js","webpack://hexo-theme-archer/./node_modules/hogan.js/lib/hogan.js","webpack://hexo-theme-archer/./node_modules/hogan.js/lib/template.js","webpack://hexo-theme-archer/./node_modules/qs/lib/formats.js","webpack://hexo-theme-archer/./node_modules/qs/lib/index.js","webpack://hexo-theme-archer/./node_modules/qs/lib/parse.js","webpack://hexo-theme-archer/./node_modules/qs/lib/stringify.js","webpack://hexo-theme-archer/./node_modules/qs/lib/utils.js","webpack://hexo-theme-archer/webpack/bootstrap","webpack://hexo-theme-archer/webpack/runtime/compat get default export","webpack://hexo-theme-archer/webpack/runtime/define property getters","webpack://hexo-theme-archer/webpack/runtime/global","webpack://hexo-theme-archer/webpack/runtime/hasOwnProperty shorthand","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/suit.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/escape-html.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/isPlainObject.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/highlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/concatHighlightedParts.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getHighlightFromSiblings.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/reverseHighlightedParts.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getHighlightedParts.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/reverseHighlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/snippet.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/reverseSnippet.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/serializer.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/insights.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/get-insights-anonymous-user-token.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/safelyRunOnBrowser.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/isEqual.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/infiniteHitsCache/sessionStorage.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/noop.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/find.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/middlewares/createInsightsMiddleware.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/render-args.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/middlewares/createMetadataMiddleware.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/routers/history.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/stateMappings/simple.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/middlewares/createRouterMiddleware.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/documentation.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/isIndexWidget.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/uniq.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/findIndex.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/index/index.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/resolveSearchParameters.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/formatNumber.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/createHelpers.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/defer.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/setIndexHelperState.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/version.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/InstantSearch.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getAppIdAndApiKey.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/logger.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/index.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/configure/connectConfigure.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/configure/configure.js","webpack://hexo-theme-archer/./node_modules/@algolia/ui-components-shared/dist/esm/cx.js","webpack://hexo-theme-archer/./node_modules/preact/dist/preact.module.js","webpack://hexo-theme-archer/./node_modules/htm/dist/htm.module.js","webpack://hexo-theme-archer/./node_modules/htm/preact/index.module.js","webpack://hexo-theme-archer/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://hexo-theme-archer/./node_modules/@algolia/ui-components-highlight-vdom/dist/esm/Highlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/InternalHighlight/InternalHighlight.js","webpack://hexo-theme-archer/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://hexo-theme-archer/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Highlight/Highlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/toArray.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/components/Highlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/ReverseHighlight/ReverseHighlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/components/ReverseHighlight.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Snippet/Snippet.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/components/Snippet.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/ReverseSnippet/ReverseSnippet.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/helpers/components/ReverseSnippet.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/templating/renderTemplate.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Template/Template.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/SearchBox/SearchBox.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getObjectType.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/search-box/connectSearchBox.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/getContainerNode.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/isDomElement.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/search-box/defaultTemplates.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/search-box/search-box.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/insights/listener.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Hits/Hits.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/hits-absolute-position.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/hits-query-id.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/hits/connectHits.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/insights/client.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/templating/prepareTemplateProps.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/hits/defaultTemplates.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/omit.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/hits/hits.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Stats/Stats.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/stats/connectStats.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/stats/stats.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/components/Pagination/Pagination.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/isSpecialClick.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/lib/utils/range.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/pagination/Paginator.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/connectors/pagination/connectPagination.js","webpack://hexo-theme-archer/./node_modules/instantsearch.js/es/widgets/pagination/pagination.js","webpack://hexo-theme-archer/./src/js/util.js","webpack://hexo-theme-archer/./src/js/search.js"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\n// EventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","'use strict';\n\nvar AlgoliaSearchHelper = require('./src/algoliasearch.helper');\n\nvar SearchParameters = require('./src/SearchParameters');\nvar SearchResults = require('./src/SearchResults');\n\n/**\n * The algoliasearchHelper module is the function that will let its\n * contains everything needed to use the Algoliasearch\n * Helper. It is a also a function that instanciate the helper.\n * To use the helper, you also need the Algolia JS client v3.\n * @example\n * //using the UMD build\n * var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');\n * var helper = algoliasearchHelper(client, 'bestbuy', {\n *   facets: ['shipping'],\n *   disjunctiveFacets: ['category']\n * });\n * helper.on('result', function(event) {\n *   console.log(event.results);\n * });\n * helper\n *   .toggleFacetRefinement('category', 'Movies & TV Shows')\n *   .toggleFacetRefinement('shipping', 'Free shipping')\n *   .search();\n * @example\n * // The helper is an event emitter using the node API\n * helper.on('result', updateTheResults);\n * helper.once('result', updateTheResults);\n * helper.removeListener('result', updateTheResults);\n * helper.removeAllListeners('result');\n * @module algoliasearchHelper\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the name of the index to query\n * @param  {SearchParameters|object} opts an object defining the initial config of the search. It doesn't have to be a {SearchParameters}, just an object containing the properties you need from it.\n * @return {AlgoliaSearchHelper} The helper instance\n */\nfunction algoliasearchHelper(client, index, opts) {\n  return new AlgoliaSearchHelper(client, index, opts);\n}\n\n/**\n * The version currently used\n * @member module:algoliasearchHelper.version\n * @type {number}\n */\nalgoliasearchHelper.version = require('./src/version');\n\n/**\n * Constructor for the Helper.\n * @member module:algoliasearchHelper.AlgoliaSearchHelper\n * @type {AlgoliaSearchHelper}\n */\nalgoliasearchHelper.AlgoliaSearchHelper = AlgoliaSearchHelper;\n\n/**\n * Constructor for the object containing all the parameters of the search.\n * @member module:algoliasearchHelper.SearchParameters\n * @type {SearchParameters}\n */\nalgoliasearchHelper.SearchParameters = SearchParameters;\n\n/**\n * Constructor for the object containing the results of the search.\n * @member module:algoliasearchHelper.SearchResults\n * @type {SearchResults}\n */\nalgoliasearchHelper.SearchResults = SearchResults;\n\nmodule.exports = algoliasearchHelper;\n","'use strict';\n\nvar EventEmitter = require('@algolia/events');\nvar inherits = require('../functions/inherits');\n\n/**\n * A DerivedHelper is a way to create sub requests to\n * Algolia from a main helper.\n * @class\n * @classdesc The DerivedHelper provides an event based interface for search callbacks:\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n * @param {AlgoliaSearchHelper} mainHelper the main helper\n * @param {function} fn the function to create the derived state\n */\nfunction DerivedHelper(mainHelper, fn) {\n  this.main = mainHelper;\n  this.fn = fn;\n  this.lastResults = null;\n}\n\ninherits(DerivedHelper, EventEmitter);\n\n/**\n * Detach this helper from the main helper\n * @return {undefined}\n * @throws Error if the derived helper is already detached\n */\nDerivedHelper.prototype.detach = function () {\n  this.removeAllListeners();\n  this.main.detachDerivedHelper(this);\n};\n\nDerivedHelper.prototype.getModifiedState = function (parameters) {\n  return this.fn(parameters);\n};\n\nmodule.exports = DerivedHelper;\n","'use strict';\n\n/**\n * Functions to manipulate refinement lists\n *\n * The RefinementList is not formally defined through a prototype but is based\n * on a specific structure.\n *\n * @module SearchParameters.refinementList\n *\n * @typedef {string[]} SearchParameters.refinementList.Refinements\n * @typedef {Object.<string, SearchParameters.refinementList.Refinements>} SearchParameters.refinementList.RefinementList\n */\n\nvar defaultsPure = require('../functions/defaultsPure');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar lib = {\n  /**\n   * Adds a refinement to a RefinementList\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement, if the value is not a string it will be converted\n   * @return {RefinementList} a new and updated refinement list\n   */\n  addRefinement: function addRefinement(refinementList, attribute, value) {\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return refinementList;\n    }\n\n    var valueAsString = '' + value;\n\n    var facetRefinement = !refinementList[attribute]\n      ? [valueAsString]\n      : refinementList[attribute].concat(valueAsString);\n\n    var mod = {};\n\n    mod[attribute] = facetRefinement;\n\n    return defaultsPure({}, mod, refinementList);\n  },\n  /**\n   * Removes refinement(s) for an attribute:\n   *  - if the value is specified removes the refinement for the value on the attribute\n   *  - if no value is specified removes all the refinements for this attribute\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} [value] the value of the refinement\n   * @return {RefinementList} a new and updated refinement lst\n   */\n  removeRefinement: function removeRefinement(\n    refinementList,\n    attribute,\n    value\n  ) {\n    if (value === undefined) {\n      // we use the \"filter\" form of clearRefinement, since it leaves empty values as-is\n      // the form with a string will remove the attribute completely\n      return lib.clearRefinement(refinementList, function (v, f) {\n        return attribute === f;\n      });\n    }\n\n    var valueAsString = '' + value;\n\n    return lib.clearRefinement(refinementList, function (v, f) {\n      return attribute === f && valueAsString === v;\n    });\n  },\n  /**\n   * Toggles the refinement value for an attribute.\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement\n   * @return {RefinementList} a new and updated list\n   */\n  toggleRefinement: function toggleRefinement(\n    refinementList,\n    attribute,\n    value\n  ) {\n    if (value === undefined)\n      throw new Error('toggleRefinement should be used with a value');\n\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return lib.removeRefinement(refinementList, attribute, value);\n    }\n\n    return lib.addRefinement(refinementList, attribute, value);\n  },\n  /**\n   * Clear all or parts of a RefinementList. Depending on the arguments, three\n   * kinds of behavior can happen:\n   *  - if no attribute is provided: clears the whole list\n   *  - if an attribute is provided as a string: clears the list for the specific attribute\n   *  - if an attribute is provided as a function: discards the elements for which the function returns true\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} [attribute] the attribute or function to discard\n   * @param {string} [refinementType] optional parameter to give more context to the attribute function\n   * @return {RefinementList} a new and updated refinement list\n   */\n  clearRefinement: function clearRefinement(\n    refinementList,\n    attribute,\n    refinementType\n  ) {\n    if (attribute === undefined) {\n      // return the same object if the list is already empty\n      // this is mainly for tests, as it doesn't have much impact on performance\n      if (!objectHasKeys(refinementList)) {\n        return refinementList;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(refinementList, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n\n      var newRefinementList = Object.keys(refinementList).reduce(function (\n        memo,\n        key\n      ) {\n        var values = refinementList[key] || [];\n        var facetList = values.filter(function (value) {\n          return !attribute(value, key, refinementType);\n        });\n\n        if (facetList.length !== values.length) {\n          hasChanged = true;\n        }\n        // eslint-disable-next-line no-param-reassign\n        memo[key] = facetList;\n\n        return memo;\n      },\n      {});\n\n      if (hasChanged) return newRefinementList;\n      return refinementList;\n    }\n\n    // We return nothing if the attribute is not undefined, a string or a function,\n    // as it is not a valid value for a refinement\n    return undefined;\n  },\n  /**\n   * Test if the refinement value is used for the attribute. If no refinement value\n   * is provided, test if the refinementList contains any refinement for the\n   * given attribute.\n   * @param {RefinementList} refinementList the list of refinement\n   * @param {string} attribute name of the attribute\n   * @param {string} [refinementValue] value of the filter/refinement\n   * @return {boolean} true if the attribute is refined, false otherwise\n   */\n  isRefined: function isRefined(refinementList, attribute, refinementValue) {\n    var containsRefinements =\n      Boolean(refinementList[attribute]) &&\n      refinementList[attribute].length > 0;\n\n    if (refinementValue === undefined || !containsRefinements) {\n      return containsRefinements;\n    }\n\n    var refinementValueAsString = '' + refinementValue;\n\n    return refinementList[attribute].indexOf(refinementValueAsString) !== -1;\n  },\n};\n\nmodule.exports = lib;\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar intersection = require('../functions/intersection');\nvar find = require('../functions/find');\nvar valToNumber = require('../functions/valToNumber');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\nvar isValidUserToken = require('../utils/isValidUserToken');\n\nvar RefinementList = require('./RefinementList');\n\n/**\n * isEqual, but only for numeric refinement values, possible values:\n * - 5\n * - [5]\n * - [[5]]\n * - [[5,5],[4]]\n * @param {any} a numeric refinement value\n * @param {any} b numeric refinement value\n * @return {boolean} true if the values are equal\n */\nfunction isEqualNumericRefinement(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return (\n      a.length === b.length &&\n      a.every(function (el, i) {\n        return isEqualNumericRefinement(b[i], el);\n      })\n    );\n  }\n  return a === b;\n}\n\n/**\n * like _.find but using deep equality to be able to use it\n * to find arrays.\n * @private\n * @param {any[]} array array to search into (elements are base or array of base)\n * @param {any} searchedValue the value we're looking for (base or array of base)\n * @return {any} the searched value or undefined\n */\nfunction findArray(array, searchedValue) {\n  return find(array, function (currentValue) {\n    return isEqualNumericRefinement(currentValue, searchedValue);\n  });\n}\n\n/**\n * The facet list is the structure used to store the list of values used to\n * filter a single attribute.\n * @typedef {string[]} SearchParameters.FacetList\n */\n\n/**\n * Structure to store numeric filters with the operator as the key. The supported operators\n * are `=`, `>`, `<`, `>=`, `<=` and `!=`.\n * @typedef {Object.<string, Array.<number|number[]>>} SearchParameters.OperatorList\n */\n\n/**\n * SearchParameters is the data structure that contains all the information\n * usable for making a search to Algolia API. It doesn't do the search itself,\n * nor does it contains logic about the parameters.\n * It is an immutable object, therefore it has been created in a way that each\n * changes does not change the object itself but returns a copy with the\n * modification.\n * This object should probably not be instantiated outside of the helper. It will\n * be provided when needed. This object is documented for reference as you'll\n * get it from events generated by the {@link AlgoliaSearchHelper}.\n * If need be, instantiate the Helper from the factory function {@link SearchParameters.make}\n * @constructor\n * @classdesc contains all the parameters of a search\n * @param {object|SearchParameters} newParameters existing parameters or partial object\n * for the properties of a new SearchParameters\n * @see SearchParameters.make\n * @example <caption>SearchParameters of the first query in\n *   <a href=\"http://demos.algolia.com/instant-search-demo/\">the instant search demo</a></caption>\n{\n   \"query\": \"\",\n   \"disjunctiveFacets\": [\n      \"customerReviewCount\",\n      \"category\",\n      \"salePrice_range\",\n      \"manufacturer\"\n  ],\n   \"maxValuesPerFacet\": 30,\n   \"page\": 0,\n   \"hitsPerPage\": 10,\n   \"facets\": [\n      \"type\",\n      \"shipping\"\n  ]\n}\n */\nfunction SearchParameters(newParameters) {\n  var params = newParameters\n    ? SearchParameters._parseNumbers(newParameters)\n    : {};\n\n  if (params.userToken !== undefined && !isValidUserToken(params.userToken)) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      '[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\\n  - Format: [a-zA-Z0-9_-]{1,64}'\n    );\n  }\n  /**\n   * This attribute contains the list of all the conjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.facets = params.facets || [];\n  /**\n   * This attribute contains the list of all the disjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.disjunctiveFacets = params.disjunctiveFacets || [];\n  /**\n   * This attribute contains the list of all the hierarchical facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * Hierarchical facets are a sub type of disjunctive facets that\n   * let you filter faceted attributes hierarchically.\n   * @member {string[]|object[]}\n   */\n  this.hierarchicalFacets = params.hierarchicalFacets || [];\n\n  // Refinements\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsRefinements = params.facetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * excluded from the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters excluded for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsExcludes = params.facetsExcludes || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the disjunctive facets. Each facet must be properly\n   * defined in the `disjunctiveFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.disjunctiveFacetsRefinements = params.disjunctiveFacetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the numeric attributes.\n   *\n   * The key is the name of the attribute, and the value is the\n   * filters to apply to this attribute.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `numericFilters` attribute.\n   * @member {Object.<string, SearchParameters.OperatorList>}\n   */\n  this.numericRefinements = params.numericRefinements || {};\n  /**\n   * This attribute contains all the tags used to refine the query.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `tagFilters` attribute.\n   * @member {string[]}\n   */\n  this.tagRefinements = params.tagRefinements || [];\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the hierarchical facets. Each facet must be properly\n   * defined in the `hierarchicalFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name. The FacetList values\n   * are structured as a string that contain the values for each level\n   * separated by the configured separator.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.hierarchicalFacetsRefinements =\n    params.hierarchicalFacetsRefinements || {};\n\n  // eslint-disable-next-line consistent-this\n  var self = this;\n  Object.keys(params).forEach(function (paramName) {\n    var isKeyKnown = SearchParameters.PARAMETERS.indexOf(paramName) !== -1;\n    var isValueDefined = params[paramName] !== undefined;\n\n    if (!isKeyKnown && isValueDefined) {\n      self[paramName] = params[paramName];\n    }\n  });\n}\n\n/**\n * List all the properties in SearchParameters and therefore all the known Algolia properties\n * This doesn't contain any beta/hidden features.\n * @private\n */\nSearchParameters.PARAMETERS = Object.keys(new SearchParameters());\n\n/**\n * @private\n * @param {object} partialState full or part of a state\n * @return {object} a new object with the number keys as number\n */\nSearchParameters._parseNumbers = function (partialState) {\n  // Do not parse numbers again in SearchParameters, they ought to be parsed already\n  if (partialState instanceof SearchParameters) return partialState;\n\n  var numbers = {};\n\n  var numberKeys = [\n    'aroundPrecision',\n    'aroundRadius',\n    'getRankingInfo',\n    'minWordSizefor2Typos',\n    'minWordSizefor1Typo',\n    'page',\n    'maxValuesPerFacet',\n    'distinct',\n    'minimumAroundRadius',\n    'hitsPerPage',\n    'minProximity',\n  ];\n\n  numberKeys.forEach(function (k) {\n    var value = partialState[k];\n    if (typeof value === 'string') {\n      var parsedValue = parseFloat(value);\n      // global isNaN is ok to use here, value is only number or NaN\n      numbers[k] = isNaN(parsedValue) ? value : parsedValue;\n    }\n  });\n\n  // there's two formats of insideBoundingBox, we need to parse\n  // the one which is an array of float geo rectangles\n  if (Array.isArray(partialState.insideBoundingBox)) {\n    numbers.insideBoundingBox = partialState.insideBoundingBox.map(function (\n      geoRect\n    ) {\n      if (Array.isArray(geoRect)) {\n        return geoRect.map(function (value) {\n          return parseFloat(value);\n        });\n      }\n      return geoRect;\n    });\n  }\n\n  if (partialState.numericRefinements) {\n    var numericRefinements = {};\n    Object.keys(partialState.numericRefinements).forEach(function (attribute) {\n      var operators = partialState.numericRefinements[attribute] || {};\n      numericRefinements[attribute] = {};\n      Object.keys(operators).forEach(function (operator) {\n        var values = operators[operator];\n        var parsedValues = values.map(function (v) {\n          if (Array.isArray(v)) {\n            return v.map(function (vPrime) {\n              if (typeof vPrime === 'string') {\n                return parseFloat(vPrime);\n              }\n              return vPrime;\n            });\n          } else if (typeof v === 'string') {\n            return parseFloat(v);\n          }\n          return v;\n        });\n        numericRefinements[attribute][operator] = parsedValues;\n      });\n    });\n    numbers.numericRefinements = numericRefinements;\n  }\n\n  return merge({}, partialState, numbers);\n};\n\n/**\n * Factory for SearchParameters\n * @param {object|SearchParameters} newParameters existing parameters or partial\n * object for the properties of a new SearchParameters\n * @return {SearchParameters} frozen instance of SearchParameters\n */\nSearchParameters.make = function makeSearchParameters(newParameters) {\n  var instance = new SearchParameters(newParameters);\n\n  var hierarchicalFacets = newParameters.hierarchicalFacets || [];\n  hierarchicalFacets.forEach(function (facet) {\n    if (facet.rootPath) {\n      var currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (\n        currentRefinement.length > 0 &&\n        currentRefinement[0].indexOf(facet.rootPath) !== 0\n      ) {\n        instance = instance.clearRefinements(facet.name);\n      }\n\n      // get it again in case it has been cleared\n      currentRefinement = instance.getHierarchicalRefinement(facet.name);\n      if (currentRefinement.length === 0) {\n        instance = instance.toggleHierarchicalFacetRefinement(\n          facet.name,\n          facet.rootPath\n        );\n      }\n    }\n  });\n\n  return instance;\n};\n\n/**\n * Validates the new parameters based on the previous state\n * @param {SearchParameters} currentState the current state\n * @param {object|SearchParameters} parameters the new parameters to set\n * @return {Error|null} Error if the modification is invalid, null otherwise\n */\nSearchParameters.validate = function (currentState, parameters) {\n  var params = parameters || {};\n\n  if (\n    currentState.tagFilters &&\n    params.tagRefinements &&\n    params.tagRefinements.length > 0\n  ) {\n    return new Error(\n      '[Tags] Cannot switch from the managed tag API to the advanced API. It is probably ' +\n        'an error, if it is really what you want, you should first clear the tags with clearTags method.'\n    );\n  }\n\n  if (currentState.tagRefinements.length > 0 && params.tagFilters) {\n    return new Error(\n      '[Tags] Cannot switch from the advanced tag API to the managed API. It is probably ' +\n        'an error, if it is not, you should first clear the tags with clearTags method.'\n    );\n  }\n\n  if (\n    currentState.numericFilters &&\n    params.numericRefinements &&\n    objectHasKeys(params.numericRefinements)\n  ) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the advanced to the managed API. It\" +\n        ' is probably an error, if this is really what you want, you have to first' +\n        ' clear the numeric filters.'\n    );\n  }\n\n  if (objectHasKeys(currentState.numericRefinements) && params.numericFilters) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the managed API to the advanced. It\" +\n        ' is probably an error, if this is really what you want, you have to first' +\n        ' clear the numeric filters.'\n    );\n  }\n\n  return null;\n};\n\nSearchParameters.prototype = {\n  constructor: SearchParameters,\n\n  /**\n   * Remove all refinements (disjunctive + conjunctive + excludes + numeric filters)\n   * @method\n   * @param {undefined|string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {SearchParameters} new instance with filters cleared\n   */\n  clearRefinements: function clearRefinements(attribute) {\n    var patch = {\n      numericRefinements: this._clearNumericRefinements(attribute),\n      facetsRefinements: RefinementList.clearRefinement(\n        this.facetsRefinements,\n        attribute,\n        'conjunctiveFacet'\n      ),\n      facetsExcludes: RefinementList.clearRefinement(\n        this.facetsExcludes,\n        attribute,\n        'exclude'\n      ),\n      disjunctiveFacetsRefinements: RefinementList.clearRefinement(\n        this.disjunctiveFacetsRefinements,\n        attribute,\n        'disjunctiveFacet'\n      ),\n      hierarchicalFacetsRefinements: RefinementList.clearRefinement(\n        this.hierarchicalFacetsRefinements,\n        attribute,\n        'hierarchicalFacet'\n      ),\n    };\n    if (\n      patch.numericRefinements === this.numericRefinements &&\n      patch.facetsRefinements === this.facetsRefinements &&\n      patch.facetsExcludes === this.facetsExcludes &&\n      patch.disjunctiveFacetsRefinements ===\n        this.disjunctiveFacetsRefinements &&\n      patch.hierarchicalFacetsRefinements === this.hierarchicalFacetsRefinements\n    ) {\n      return this;\n    }\n    return this.setQueryParameters(patch);\n  },\n  /**\n   * Remove all the refined tags from the SearchParameters\n   * @method\n   * @return {SearchParameters} new instance with tags cleared\n   */\n  clearTags: function clearTags() {\n    if (this.tagFilters === undefined && this.tagRefinements.length === 0)\n      return this;\n\n    return this.setQueryParameters({\n      tagFilters: undefined,\n      tagRefinements: [],\n    });\n  },\n  /**\n   * Set the index.\n   * @method\n   * @param {string} index the index name\n   * @return {SearchParameters} new instance\n   */\n  setIndex: function setIndex(index) {\n    if (index === this.index) return this;\n\n    return this.setQueryParameters({\n      index: index,\n    });\n  },\n  /**\n   * Query setter\n   * @method\n   * @param {string} newQuery value for the new query\n   * @return {SearchParameters} new instance\n   */\n  setQuery: function setQuery(newQuery) {\n    if (newQuery === this.query) return this;\n\n    return this.setQueryParameters({\n      query: newQuery,\n    });\n  },\n  /**\n   * Page setter\n   * @method\n   * @param {number} newPage new page number\n   * @return {SearchParameters} new instance\n   */\n  setPage: function setPage(newPage) {\n    if (newPage === this.page) return this;\n\n    return this.setQueryParameters({\n      page: newPage,\n    });\n  },\n  /**\n   * Facets setter\n   * The facets are the simple facets, used for conjunctive (and) faceting.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for conjunctive faceting\n   * @return {SearchParameters} new instance\n   */\n  setFacets: function setFacets(facets) {\n    return this.setQueryParameters({\n      facets: facets,\n    });\n  },\n  /**\n   * Disjunctive facets setter\n   * Change the list of disjunctive (or) facets the helper chan handle.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for disjunctive faceting\n   * @return {SearchParameters} new instance\n   */\n  setDisjunctiveFacets: function setDisjunctiveFacets(facets) {\n    return this.setQueryParameters({\n      disjunctiveFacets: facets,\n    });\n  },\n  /**\n   * HitsPerPage setter\n   * Hits per page represents the number of hits retrieved for this query\n   * @method\n   * @param {number} n number of hits retrieved per page of results\n   * @return {SearchParameters} new instance\n   */\n  setHitsPerPage: function setHitsPerPage(n) {\n    if (this.hitsPerPage === n) return this;\n\n    return this.setQueryParameters({\n      hitsPerPage: n,\n    });\n  },\n  /**\n   * typoTolerance setter\n   * Set the value of typoTolerance\n   * @method\n   * @param {string} typoTolerance new value of typoTolerance (\"true\", \"false\", \"min\" or \"strict\")\n   * @return {SearchParameters} new instance\n   */\n  setTypoTolerance: function setTypoTolerance(typoTolerance) {\n    if (this.typoTolerance === typoTolerance) return this;\n\n    return this.setQueryParameters({\n      typoTolerance: typoTolerance,\n    });\n  },\n  /**\n   * Add a numeric filter for a given attribute\n   * When value is an array, they are combined with OR\n   * When value is a single value, it will combined with AND\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} operator operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number | number[]} value value of the filter\n   * @return {SearchParameters} new instance\n   * @example\n   * // for price = 50 or 40\n   * state.addNumericRefinement('price', '=', [50, 40]);\n   * @example\n   * // for size = 38 and 40\n   * state.addNumericRefinement('size', '=', 38);\n   * state.addNumericRefinement('size', '=', 40);\n   */\n  addNumericRefinement: function (attribute, operator, value) {\n    var val = valToNumber(value);\n\n    if (this.isNumericRefined(attribute, operator, val)) return this;\n\n    var mod = merge({}, this.numericRefinements);\n\n    mod[attribute] = merge({}, mod[attribute]);\n\n    if (mod[attribute][operator]) {\n      // Array copy\n      mod[attribute][operator] = mod[attribute][operator].slice();\n      // Add the element. Concat can't be used here because value can be an array.\n      mod[attribute][operator].push(val);\n    } else {\n      mod[attribute][operator] = [val];\n    }\n\n    return this.setQueryParameters({\n      numericRefinements: mod,\n    });\n  },\n  /**\n   * Get the list of conjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getConjunctiveRefinements: function (facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of disjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getDisjunctiveRefinements: function (facetName) {\n    if (!this.isDisjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.disjunctiveFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of hierarchical refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getHierarchicalRefinement: function (facetName) {\n    // we send an array but we currently do not support multiple\n    // hierarchicalRefinements for a hierarchicalFacet\n    return this.hierarchicalFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of exclude refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getExcludeRefinements: function (facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsExcludes[facetName] || [];\n  },\n\n  /**\n   * Remove all the numeric filter for a given (attribute, operator)\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} [operator] operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number} [number] the value to be removed\n   * @return {SearchParameters} new instance\n   */\n  removeNumericRefinement: function (attribute, operator, number) {\n    var paramValue = number;\n    if (paramValue !== undefined) {\n      if (!this.isNumericRefined(attribute, operator, paramValue)) {\n        return this;\n      }\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function (\n          value,\n          key\n        ) {\n          return (\n            key === attribute &&\n            value.op === operator &&\n            isEqualNumericRefinement(value.val, valToNumber(paramValue))\n          );\n        }),\n      });\n    } else if (operator !== undefined) {\n      if (!this.isNumericRefined(attribute, operator)) return this;\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function (\n          value,\n          key\n        ) {\n          return key === attribute && value.op === operator;\n        }),\n      });\n    }\n\n    if (!this.isNumericRefined(attribute)) return this;\n    return this.setQueryParameters({\n      numericRefinements: this._clearNumericRefinements(function (value, key) {\n        return key === attribute;\n      }),\n    });\n  },\n  /**\n   * Get the list of numeric refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {SearchParameters.OperatorList} list of refinements\n   */\n  getNumericRefinements: function (facetName) {\n    return this.numericRefinements[facetName] || {};\n  },\n  /**\n   * Return the current refinement for the (attribute, operator)\n   * @param {string} attribute attribute in the record\n   * @param {string} operator operator applied on the refined values\n   * @return {Array.<number|number[]>} refined values\n   */\n  getNumericRefinement: function (attribute, operator) {\n    return (\n      this.numericRefinements[attribute] &&\n      this.numericRefinements[attribute][operator]\n    );\n  },\n  /**\n   * Clear numeric filters.\n   * @method\n   * @private\n   * @param {string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {Object.<string, OperatorList>} new numeric refinements\n   */\n  _clearNumericRefinements: function _clearNumericRefinements(attribute) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(this.numericRefinements)) {\n        return this.numericRefinements;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(this.numericRefinements, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var numericRefinements = this.numericRefinements;\n      var newNumericRefinements = Object.keys(numericRefinements).reduce(\n        function (memo, key) {\n          var operators = numericRefinements[key];\n          var operatorList = {};\n\n          operators = operators || {};\n          Object.keys(operators).forEach(function (operator) {\n            var values = operators[operator] || [];\n            var outValues = [];\n            values.forEach(function (value) {\n              var predicateResult = attribute(\n                { val: value, op: operator },\n                key,\n                'numeric'\n              );\n              if (!predicateResult) outValues.push(value);\n            });\n            if (outValues.length !== values.length) {\n              hasChanged = true;\n            }\n            operatorList[operator] = outValues;\n          });\n\n          // eslint-disable-next-line no-param-reassign\n          memo[key] = operatorList;\n\n          return memo;\n        },\n        {}\n      );\n\n      if (hasChanged) return newNumericRefinements;\n      return this.numericRefinements;\n    }\n\n    // We return nothing if the attribute is not undefined, a string or a function,\n    // as it is not a valid value for a refinement\n    return undefined;\n  },\n  /**\n   * Add a facet to the facets attribute of the helper configuration, if it\n   * isn't already present.\n   * @method\n   * @param {string} facet facet name to add\n   * @return {SearchParameters} new instance\n   */\n  addFacet: function addFacet(facet) {\n    if (this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      facets: this.facets.concat([facet]),\n    });\n  },\n  /**\n   * Add a disjunctive facet to the disjunctiveFacets attribute of the helper\n   * configuration, if it isn't already present.\n   * @method\n   * @param {string} facet disjunctive facet name to add\n   * @return {SearchParameters} new instance\n   */\n  addDisjunctiveFacet: function addDisjunctiveFacet(facet) {\n    if (this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.concat([facet]),\n    });\n  },\n  /**\n   * Add a hierarchical facet to the hierarchicalFacets attribute of the helper\n   * configuration.\n   * @method\n   * @param {object} hierarchicalFacet hierarchical facet to add\n   * @return {SearchParameters} new instance\n   * @throws will throw an error if a hierarchical facet with the same name was already declared\n   */\n  addHierarchicalFacet: function addHierarchicalFacet(hierarchicalFacet) {\n    if (this.isHierarchicalFacet(hierarchicalFacet.name)) {\n      throw new Error(\n        'Cannot declare two hierarchical facets with the same name: `' +\n          hierarchicalFacet.name +\n          '`'\n      );\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.concat([hierarchicalFacet]),\n    });\n  },\n  /**\n   * Add a refinement on a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters} new instance\n   */\n  addFacetRefinement: function addFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the facets attribute of the helper configuration'\n      );\n    }\n    if (RefinementList.isRefined(this.facetsRefinements, facet, value))\n      return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.addRefinement(\n        this.facetsRefinements,\n        facet,\n        value\n      ),\n    });\n  },\n  /**\n   * Exclude a value from a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the exclusion on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters} new instance\n   */\n  addExcludeRefinement: function addExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the facets attribute of the helper configuration'\n      );\n    }\n    if (RefinementList.isRefined(this.facetsExcludes, facet, value))\n      return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.addRefinement(\n        this.facetsExcludes,\n        facet,\n        value\n      ),\n    });\n  },\n  /**\n   * Adds a refinement on a disjunctive facet.\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters} new instance\n   */\n  addDisjunctiveFacetRefinement: function addDisjunctiveFacetRefinement(\n    facet,\n    value\n  ) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the disjunctiveFacets attribute of the helper configuration'\n      );\n    }\n\n    if (\n      RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)\n    )\n      return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.addRefinement(\n        this.disjunctiveFacetsRefinements,\n        facet,\n        value\n      ),\n    });\n  },\n  /**\n   * addTagRefinement adds a tag to the list used to filter the results\n   * @param {string} tag tag to be added\n   * @return {SearchParameters} new instance\n   */\n  addTagRefinement: function addTagRefinement(tag) {\n    if (this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.concat(tag),\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Remove a facet from the facets attribute of the helper configuration, if it\n   * is present.\n   * @method\n   * @param {string} facet facet name to remove\n   * @return {SearchParameters} new instance\n   */\n  removeFacet: function removeFacet(facet) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      facets: this.facets.filter(function (f) {\n        return f !== facet;\n      }),\n    });\n  },\n  /**\n   * Remove a disjunctive facet from the disjunctiveFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet disjunctive facet name to remove\n   * @return {SearchParameters} new instance\n   */\n  removeDisjunctiveFacet: function removeDisjunctiveFacet(facet) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.filter(function (f) {\n        return f !== facet;\n      }),\n    });\n  },\n  /**\n   * Remove a hierarchical facet from the hierarchicalFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet hierarchical facet name to remove\n   * @return {SearchParameters} new instance\n   */\n  removeHierarchicalFacet: function removeHierarchicalFacet(facet) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.filter(function (f) {\n        return f.name !== facet;\n      }),\n    });\n  },\n  /**\n   * Remove a refinement set on facet. If a value is provided, it will clear the\n   * refinement for the given value, otherwise it will clear all the refinement\n   * values for the faceted attribute.\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} [value] value used to filter\n   * @return {SearchParameters} new instance\n   */\n  removeFacetRefinement: function removeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the facets attribute of the helper configuration'\n      );\n    }\n    if (!RefinementList.isRefined(this.facetsRefinements, facet, value))\n      return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.removeRefinement(\n        this.facetsRefinements,\n        facet,\n        value\n      ),\n    });\n  },\n  /**\n   * Remove a negative refinement on a facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters} new instance\n   */\n  removeExcludeRefinement: function removeExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the facets attribute of the helper configuration'\n      );\n    }\n    if (!RefinementList.isRefined(this.facetsExcludes, facet, value))\n      return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.removeRefinement(\n        this.facetsExcludes,\n        facet,\n        value\n      ),\n    });\n  },\n  /**\n   * Remove a refinement on a disjunctive facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters} new instance\n   */\n  removeDisjunctiveFacetRefinement: function removeDisjunctiveFacetRefinement(\n    facet,\n    value\n  ) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the disjunctiveFacets attribute of the helper configuration'\n      );\n    }\n    if (\n      !RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)\n    )\n      return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.removeRefinement(\n        this.disjunctiveFacetsRefinements,\n        facet,\n        value\n      ),\n    });\n  },\n  /**\n   * Remove a tag from the list of tag refinements\n   * @method\n   * @param {string} tag the tag to remove\n   * @return {SearchParameters} new instance\n   */\n  removeTagRefinement: function removeTagRefinement(tag) {\n    if (!this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.filter(function (t) {\n        return t !== tag;\n      }),\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters} new instance\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   * @deprecated since version 2.19.0, see {@link SearchParameters#toggleFacetRefinement}\n   */\n  toggleRefinement: function toggleRefinement(facet, value) {\n    return this.toggleFacetRefinement(facet, value);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters} new instance\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   */\n  toggleFacetRefinement: function toggleFacetRefinement(facet, value) {\n    if (this.isHierarchicalFacet(facet)) {\n      return this.toggleHierarchicalFacetRefinement(facet, value);\n    } else if (this.isConjunctiveFacet(facet)) {\n      return this.toggleConjunctiveFacetRefinement(facet, value);\n    } else if (this.isDisjunctiveFacet(facet)) {\n      return this.toggleDisjunctiveFacetRefinement(facet, value);\n    }\n\n    throw new Error(\n      'Cannot refine the undeclared facet ' +\n        facet +\n        '; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets'\n    );\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters} new instance\n   */\n  toggleConjunctiveFacetRefinement: function toggleConjunctiveFacetRefinement(\n    facet,\n    value\n  ) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the facets attribute of the helper configuration'\n      );\n    }\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.toggleRefinement(\n        this.facetsRefinements,\n        facet,\n        value\n      ),\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters} new instance\n   */\n  toggleExcludeFacetRefinement: function toggleExcludeFacetRefinement(\n    facet,\n    value\n  ) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the facets attribute of the helper configuration'\n      );\n    }\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.toggleRefinement(\n        this.facetsExcludes,\n        facet,\n        value\n      ),\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters} new instance\n   */\n  toggleDisjunctiveFacetRefinement: function toggleDisjunctiveFacetRefinement(\n    facet,\n    value\n  ) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the disjunctiveFacets attribute of the helper configuration'\n      );\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.toggleRefinement(\n        this.disjunctiveFacetsRefinements,\n        facet,\n        value\n      ),\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters} new instance\n   */\n  toggleHierarchicalFacetRefinement: function toggleHierarchicalFacetRefinement(\n    facet,\n    value\n  ) {\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the hierarchicalFacets attribute of the helper configuration'\n      );\n    }\n\n    var separator = this._getHierarchicalFacetSeparator(\n      this.getHierarchicalFacetByName(facet)\n    );\n\n    var mod = {};\n\n    var upOneOrMultipleLevel =\n      this.hierarchicalFacetsRefinements[facet] !== undefined &&\n      this.hierarchicalFacetsRefinements[facet].length > 0 &&\n      // remove current refinement:\n      // refinement was 'beer > IPA', call is toggleRefine('beer > IPA'), refinement should be `beer`\n      (this.hierarchicalFacetsRefinements[facet][0] === value ||\n        // remove a parent refinement of the current refinement:\n        //  - refinement was 'beer > IPA > Flying dog'\n        //  - call is toggleRefine('beer > IPA')\n        //  - refinement should be `beer`\n        this.hierarchicalFacetsRefinements[facet][0].indexOf(\n          value + separator\n        ) === 0);\n\n    if (upOneOrMultipleLevel) {\n      if (value.indexOf(separator) === -1) {\n        // go back to root level\n        mod[facet] = [];\n      } else {\n        mod[facet] = [value.slice(0, value.lastIndexOf(separator))];\n      }\n    } else {\n      mod[facet] = [value];\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure(\n        {},\n        mod,\n        this.hierarchicalFacetsRefinements\n      ),\n    });\n  },\n\n  /**\n   * Adds a refinement on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @param {string} path the hierarchical facet path\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is refined\n   */\n  addHierarchicalFacetRefinement: function (facet, path) {\n    if (this.isHierarchicalFacetRefined(facet)) {\n      throw new Error(facet + ' is already refined.');\n    }\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(\n        facet +\n          ' is not defined in the hierarchicalFacets attribute of the helper configuration.'\n      );\n    }\n    var mod = {};\n    mod[facet] = [path];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure(\n        {},\n        mod,\n        this.hierarchicalFacetsRefinements\n      ),\n    });\n  },\n\n  /**\n   * Removes the refinement set on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is not refined\n   */\n  removeHierarchicalFacetRefinement: function (facet) {\n    if (!this.isHierarchicalFacetRefined(facet)) {\n      return this;\n    }\n    var mod = {};\n    mod[facet] = [];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure(\n        {},\n        mod,\n        this.hierarchicalFacetsRefinements\n      ),\n    });\n  },\n  /**\n   * Switch the tag refinement\n   * @method\n   * @param {string} tag the tag to remove or add\n   * @return {SearchParameters} new instance\n   */\n  toggleTagRefinement: function toggleTagRefinement(tag) {\n    if (this.isTagRefined(tag)) {\n      return this.removeTagRefinement(tag);\n    }\n\n    return this.addTagRefinement(tag);\n  },\n  /**\n   * Test if the facet name is from one of the disjunctive facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean} true if facet is a disjunctive facet\n   */\n  isDisjunctiveFacet: function (facet) {\n    return this.disjunctiveFacets.indexOf(facet) > -1;\n  },\n  /**\n   * Test if the facet name is from one of the hierarchical facets\n   * @method\n   * @param {string} facetName facet name to test\n   * @return {boolean} true if facetName is a hierarchical facet\n   */\n  isHierarchicalFacet: function (facetName) {\n    return this.getHierarchicalFacetByName(facetName) !== undefined;\n  },\n  /**\n   * Test if the facet name is from one of the conjunctive/normal facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean} true if facet is a conjunctive facet\n   */\n  isConjunctiveFacet: function (facet) {\n    return this.facets.indexOf(facet) > -1;\n  },\n  /**\n   * Returns true if the facet is refined, either for a specific value or in\n   * general.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value, optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isFacetRefined: function isFacetRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains exclusions or if a specific value is\n   * excluded.\n   *\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isExcludeRefined: function isExcludeRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsExcludes, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean} true if the facet is refined\n   */\n  isDisjunctiveFacetRefined: function isDisjunctiveFacetRefined(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(\n      this.disjunctiveFacetsRefinements,\n      facet,\n      value\n    );\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean} true if the facet is refined\n   */\n  isHierarchicalFacetRefined: function isHierarchicalFacetRefined(\n    facet,\n    value\n  ) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return false;\n    }\n\n    var refinements = this.getHierarchicalRefinement(facet);\n\n    if (!value) {\n      return refinements.length > 0;\n    }\n\n    return refinements.indexOf(value) !== -1;\n  },\n  /**\n   * Test if the triple (attribute, operator, value) is already refined.\n   * If only the attribute and the operator are provided, it tests if the\n   * contains any refinement value.\n   * @method\n   * @param {string} attribute attribute for which the refinement is applied\n   * @param {string} [operator] operator of the refinement\n   * @param {string} [value] value of the refinement\n   * @return {boolean} true if it is refined\n   */\n  isNumericRefined: function isNumericRefined(attribute, operator, value) {\n    if (value === undefined && operator === undefined) {\n      return Boolean(this.numericRefinements[attribute]);\n    }\n\n    var isOperatorDefined =\n      this.numericRefinements[attribute] &&\n      this.numericRefinements[attribute][operator] !== undefined;\n\n    if (value === undefined || !isOperatorDefined) {\n      return isOperatorDefined;\n    }\n\n    var parsedValue = valToNumber(value);\n    var isAttributeValueDefined =\n      findArray(this.numericRefinements[attribute][operator], parsedValue) !==\n      undefined;\n\n    return isOperatorDefined && isAttributeValueDefined;\n  },\n  /**\n   * Returns true if the tag refined, false otherwise\n   * @method\n   * @param {string} tag the tag to check\n   * @return {boolean} true if tag is refined\n   */\n  isTagRefined: function isTagRefined(tag) {\n    return this.tagRefinements.indexOf(tag) !== -1;\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]} returns the list of refinements\n   */\n  getRefinedDisjunctiveFacets: function getRefinedDisjunctiveFacets() {\n    // eslint-disable-next-line consistent-this\n    var self = this;\n\n    // attributes used for numeric filter can also be disjunctive\n    var disjunctiveNumericRefinedFacets = intersection(\n      Object.keys(this.numericRefinements).filter(function (facet) {\n        return Object.keys(self.numericRefinements[facet]).length > 0;\n      }),\n      this.disjunctiveFacets\n    );\n\n    return Object.keys(this.disjunctiveFacetsRefinements)\n      .filter(function (facet) {\n        return self.disjunctiveFacetsRefinements[facet].length > 0;\n      })\n      .concat(disjunctiveNumericRefinedFacets)\n      .concat(this.getRefinedHierarchicalFacets());\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]} returns the list of refinements\n   */\n  getRefinedHierarchicalFacets: function getRefinedHierarchicalFacets() {\n    // eslint-disable-next-line consistent-this\n    var self = this;\n    return intersection(\n      // enforce the order between the two arrays,\n      // so that refinement name index === hierarchical facet index\n      this.hierarchicalFacets.map(function (facet) {\n        return facet.name;\n      }),\n      Object.keys(this.hierarchicalFacetsRefinements).filter(function (facet) {\n        return self.hierarchicalFacetsRefinements[facet].length > 0;\n      })\n    );\n  },\n  /**\n   * Returned the list of all disjunctive facets not refined\n   * @method\n   * @return {string[]} returns the list of facets that are not refined\n   */\n  getUnrefinedDisjunctiveFacets: function () {\n    var refinedFacets = this.getRefinedDisjunctiveFacets();\n\n    return this.disjunctiveFacets.filter(function (f) {\n      return refinedFacets.indexOf(f) === -1;\n    });\n  },\n\n  managedParameters: [\n    'index',\n\n    'facets',\n    'disjunctiveFacets',\n    'facetsRefinements',\n    'hierarchicalFacets',\n    'facetsExcludes',\n\n    'disjunctiveFacetsRefinements',\n    'numericRefinements',\n    'tagRefinements',\n    'hierarchicalFacetsRefinements',\n  ],\n\n  getQueryParams: function getQueryParams() {\n    var managedParameters = this.managedParameters;\n\n    var queryParams = {};\n\n    // eslint-disable-next-line consistent-this\n    var self = this;\n    Object.keys(this).forEach(function (paramName) {\n      var paramValue = self[paramName];\n      if (\n        managedParameters.indexOf(paramName) === -1 &&\n        paramValue !== undefined\n      ) {\n        queryParams[paramName] = paramValue;\n      }\n    });\n\n    return queryParams;\n  },\n  /**\n   * Let the user set a specific value for a given parameter. Will return the\n   * same instance if the parameter is invalid or if the value is the same as the\n   * previous one.\n   * @method\n   * @param {string} parameter the parameter name\n   * @param {any} value the value to be set, must be compliant with the definition\n   * of the attribute on the object\n   * @return {SearchParameters} the updated state\n   */\n  setQueryParameter: function setParameter(parameter, value) {\n    if (this[parameter] === value) return this;\n\n    var modification = {};\n\n    modification[parameter] = value;\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Let the user set any of the parameters with a plain object.\n   * @method\n   * @param {object} params all the keys and the values to be updated\n   * @return {SearchParameters} a new updated instance\n   */\n  setQueryParameters: function setQueryParameters(params) {\n    if (!params) return this;\n\n    var error = SearchParameters.validate(this, params);\n\n    if (error) {\n      throw error;\n    }\n\n    // eslint-disable-next-line consistent-this\n    var self = this;\n    var nextWithNumbers = SearchParameters._parseNumbers(params);\n    var previousPlainObject = Object.keys(this).reduce(function (acc, key) {\n      // eslint-disable-next-line no-param-reassign\n      acc[key] = self[key];\n      return acc;\n    }, {});\n\n    var nextPlainObject = Object.keys(nextWithNumbers).reduce(function (\n      previous,\n      key\n    ) {\n      var isPreviousValueDefined = previous[key] !== undefined;\n      var isNextValueDefined = nextWithNumbers[key] !== undefined;\n\n      if (isPreviousValueDefined && !isNextValueDefined) {\n        return omit(previous, [key]);\n      }\n\n      if (isNextValueDefined) {\n        // eslint-disable-next-line no-param-reassign\n        previous[key] = nextWithNumbers[key];\n      }\n\n      return previous;\n    },\n    previousPlainObject);\n\n    return new this.constructor(nextPlainObject);\n  },\n\n  /**\n   * Returns a new instance with the page reset. Two scenarios possible:\n   * the page is omitted -> return the given instance\n   * the page is set -> return a new instance with a page of 0\n   * @return {SearchParameters} a new updated instance\n   */\n  resetPage: function () {\n    if (this.page === undefined) {\n      return this;\n    }\n\n    return this.setPage(0);\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @param  {object} hierarchicalFacet the hierarchicalFacet object\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSortBy: function (hierarchicalFacet) {\n    return hierarchicalFacet.sortBy || ['isRefined:desc', 'name:asc'];\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @private\n   * @param  {object} hierarchicalFacet the hierarchicalFacet object\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSeparator: function (hierarchicalFacet) {\n    return hierarchicalFacet.separator || ' > ';\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet prefix path or null\n   * @private\n   * @param  {object} hierarchicalFacet the hierarchicalFacet object\n   * @return {string} returns the hierarchicalFacet.rootPath or null as default\n   */\n  _getHierarchicalRootPath: function (hierarchicalFacet) {\n    return hierarchicalFacet.rootPath || null;\n  },\n\n  /**\n   * Helper function to check if we show the parent level of the hierarchicalFacet\n   * @private\n   * @param  {object} hierarchicalFacet the hierarchicalFacet object\n   * @return {string} returns the hierarchicalFacet.showParentLevel or true as default\n   */\n  _getHierarchicalShowParentLevel: function (hierarchicalFacet) {\n    if (typeof hierarchicalFacet.showParentLevel === 'boolean') {\n      return hierarchicalFacet.showParentLevel;\n    }\n    return true;\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet by it's name\n   * @param  {string} hierarchicalFacetName the hierarchicalFacet name\n   * @return {object} a hierarchicalFacet\n   */\n  getHierarchicalFacetByName: function (hierarchicalFacetName) {\n    return find(this.hierarchicalFacets, function (f) {\n      return f.name === hierarchicalFacetName;\n    });\n  },\n\n  /**\n   * Get the current breadcrumb for a hierarchical facet, as an array\n   * @param  {string} facetName Hierarchical facet name\n   * @return {array.<string>} the path as an array of string\n   */\n  getHierarchicalFacetBreadcrumb: function (facetName) {\n    if (!this.isHierarchicalFacet(facetName)) {\n      return [];\n    }\n\n    var refinement = this.getHierarchicalRefinement(facetName)[0];\n    if (!refinement) return [];\n\n    var separator = this._getHierarchicalFacetSeparator(\n      this.getHierarchicalFacetByName(facetName)\n    );\n    var path = refinement.split(separator);\n    return path.map(function (part) {\n      return part.trim();\n    });\n  },\n\n  toString: function () {\n    return JSON.stringify(this, null, 2);\n  },\n};\n\n/**\n * Callback used for clearRefinement method\n * @callback SearchParameters.clearCallback\n * @param {OperatorList|FacetList} value the value of the filter\n * @param {string} key the current attribute name\n * @param {string} type `numeric`, `disjunctiveFacet`, `conjunctiveFacet`, `hierarchicalFacet` or `exclude`\n * depending on the type of facet\n * @return {boolean} `true` if the element should be removed. `false` otherwise.\n */\nmodule.exports = SearchParameters;\n","'use strict';\n\nmodule.exports = generateTrees;\n\nvar orderBy = require('../functions/orderBy');\nvar find = require('../functions/find');\nvar prepareHierarchicalFacetSortBy = require('../functions/formatSort');\nvar fv = require('../functions/escapeFacetValue');\nvar escapeFacetValue = fv.escapeFacetValue;\nvar unescapeFacetValue = fv.unescapeFacetValue;\n\nfunction generateTrees(state) {\n  return function generate(hierarchicalFacetResult, hierarchicalFacetIndex) {\n    var hierarchicalFacet = state.hierarchicalFacets[hierarchicalFacetIndex];\n    var hierarchicalFacetRefinement =\n      (state.hierarchicalFacetsRefinements[hierarchicalFacet.name] &&\n        state.hierarchicalFacetsRefinements[hierarchicalFacet.name][0]) ||\n      '';\n    var hierarchicalSeparator =\n      state._getHierarchicalFacetSeparator(hierarchicalFacet);\n    var hierarchicalRootPath =\n      state._getHierarchicalRootPath(hierarchicalFacet);\n    var hierarchicalShowParentLevel =\n      state._getHierarchicalShowParentLevel(hierarchicalFacet);\n    var sortBy = prepareHierarchicalFacetSortBy(\n      state._getHierarchicalFacetSortBy(hierarchicalFacet)\n    );\n\n    var rootExhaustive = hierarchicalFacetResult.every(function (facetResult) {\n      return facetResult.exhaustive;\n    });\n\n    var generateTreeFn = generateHierarchicalTree(\n      sortBy,\n      hierarchicalSeparator,\n      hierarchicalRootPath,\n      hierarchicalShowParentLevel,\n      hierarchicalFacetRefinement\n    );\n\n    var results = hierarchicalFacetResult;\n\n    if (hierarchicalRootPath) {\n      results = hierarchicalFacetResult.slice(\n        hierarchicalRootPath.split(hierarchicalSeparator).length\n      );\n    }\n\n    return results.reduce(generateTreeFn, {\n      name: state.hierarchicalFacets[hierarchicalFacetIndex].name,\n      count: null, // root level, no count\n      isRefined: true, // root level, always refined\n      path: null, // root level, no path\n      escapedValue: null,\n      exhaustive: rootExhaustive,\n      data: null,\n    });\n  };\n}\n\nfunction generateHierarchicalTree(\n  sortBy,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel,\n  currentRefinement\n) {\n  return function generateTree(\n    hierarchicalTree,\n    hierarchicalFacetResult,\n    currentHierarchicalLevel\n  ) {\n    var parent = hierarchicalTree;\n\n    if (currentHierarchicalLevel > 0) {\n      var level = 0;\n\n      parent = hierarchicalTree;\n\n      while (level < currentHierarchicalLevel) {\n        /**\n         * @type {object[]]} hierarchical data\n         */\n        var data = parent && Array.isArray(parent.data) ? parent.data : [];\n        parent = find(data, function (subtree) {\n          return subtree.isRefined;\n        });\n        level++;\n      }\n    }\n\n    // we found a refined parent, let's add current level data under it\n    if (parent) {\n      // filter values in case an object has multiple categories:\n      //   {\n      //     categories: {\n      //       level0: ['beers', 'bières'],\n      //       level1: ['beers > IPA', 'bières > Belges']\n      //     }\n      //   }\n      //\n      // If parent refinement is `beers`, then we do not want to have `bières > Belges`\n      // showing up\n\n      var picked = Object.keys(hierarchicalFacetResult.data)\n        .map(function (facetValue) {\n          return [facetValue, hierarchicalFacetResult.data[facetValue]];\n        })\n        .filter(function (tuple) {\n          var facetValue = tuple[0];\n          return onlyMatchingTree(\n            facetValue,\n            parent.path || hierarchicalRootPath,\n            currentRefinement,\n            hierarchicalSeparator,\n            hierarchicalRootPath,\n            hierarchicalShowParentLevel\n          );\n        });\n\n      parent.data = orderBy(\n        picked.map(function (tuple) {\n          var facetValue = tuple[0];\n          var facetCount = tuple[1];\n\n          return format(\n            facetCount,\n            facetValue,\n            hierarchicalSeparator,\n            unescapeFacetValue(currentRefinement),\n            hierarchicalFacetResult.exhaustive\n          );\n        }),\n        sortBy[0],\n        sortBy[1]\n      );\n    }\n\n    return hierarchicalTree;\n  };\n}\n\n// eslint-disable-next-line max-params\nfunction onlyMatchingTree(\n  facetValue,\n  parentPath,\n  currentRefinement,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel\n) {\n  // we want the facetValue is a child of hierarchicalRootPath\n  if (\n    hierarchicalRootPath &&\n    (facetValue.indexOf(hierarchicalRootPath) !== 0 ||\n      hierarchicalRootPath === facetValue)\n  ) {\n    return false;\n  }\n\n  // we always want root levels (only when there is no prefix path)\n  return (\n    (!hierarchicalRootPath &&\n      facetValue.indexOf(hierarchicalSeparator) === -1) ||\n    // if there is a rootPath, being root level mean 1 level under rootPath\n    (hierarchicalRootPath &&\n      facetValue.split(hierarchicalSeparator).length -\n        hierarchicalRootPath.split(hierarchicalSeparator).length ===\n        1) ||\n    // if current refinement is a root level and current facetValue is a root level,\n    // keep the facetValue\n    (facetValue.indexOf(hierarchicalSeparator) === -1 &&\n      currentRefinement.indexOf(hierarchicalSeparator) === -1) ||\n    // currentRefinement is a child of the facet value\n    currentRefinement.indexOf(facetValue) === 0 ||\n    // facetValue is a child of the current parent, add it\n    (facetValue.indexOf(parentPath + hierarchicalSeparator) === 0 &&\n      (hierarchicalShowParentLevel ||\n        facetValue.indexOf(currentRefinement) === 0))\n  );\n}\n\nfunction format(\n  facetCount,\n  facetValue,\n  hierarchicalSeparator,\n  currentRefinement,\n  exhaustive\n) {\n  var parts = facetValue.split(hierarchicalSeparator);\n  return {\n    name: parts[parts.length - 1].trim(),\n    path: facetValue,\n    escapedValue: escapeFacetValue(facetValue),\n    count: facetCount,\n    isRefined:\n      currentRefinement === facetValue ||\n      currentRefinement.indexOf(facetValue + hierarchicalSeparator) === 0,\n    exhaustive: exhaustive,\n    data: null,\n  };\n}\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar orderBy = require('../functions/orderBy');\nvar compact = require('../functions/compact');\nvar find = require('../functions/find');\nvar findIndex = require('../functions/findIndex');\nvar formatSort = require('../functions/formatSort');\nvar fv = require('../functions/escapeFacetValue');\nvar escapeFacetValue = fv.escapeFacetValue;\nvar unescapeFacetValue = fv.unescapeFacetValue;\n\nvar generateHierarchicalTree = require('./generate-hierarchical-tree');\n\n/**\n * @typedef SearchResults.Facet\n * @type {object}\n * @property {string} name name of the attribute in the record\n * @property {object} data the faceting data: value, number of entries\n * @property {object} stats undefined unless facet_stats is retrieved from algolia\n */\n\n/**\n * @typedef SearchResults.HierarchicalFacet\n * @type {object}\n * @property {string} name name of the current value given the hierarchical level, trimmed.\n * If root node, you get the facet name\n * @property {number} count number of objects matching this hierarchical value\n * @property {string} path the current hierarchical value full path\n * @property {boolean} isRefined `true` if the current value was refined, `false` otherwise\n * @property {HierarchicalFacet[]} data sub values for the current level\n */\n\n/**\n * @typedef SearchResults.FacetValue\n * @type {object}\n * @property {string} name the facet value itself\n * @property {number} count times this facet appears in the results\n * @property {boolean} isRefined is the facet currently selected\n * @property {boolean} isExcluded is the facet currently excluded (only for conjunctive facets)\n */\n\n/**\n * @typedef Refinement\n * @type {object}\n * @property {string} type the type of filter used:\n * `numeric`, `facet`, `exclude`, `disjunctive`, `hierarchical`\n * @property {string} attributeName name of the attribute used for filtering\n * @property {string} name the value of the filter\n * @property {number} numericValue the value as a number. Only for numeric filters.\n * @property {string} operator the operator used. Only for numeric filters.\n * @property {number} count the number of computed hits for this filter. Only on facets.\n * @property {boolean} exhaustive if the count is exhaustive\n */\n\n/**\n * Turn an array of attributes in an object of attributes with their position in the array as value\n * @param {string[]} attributes the list of attributes in the record\n * @return {object} the list of attributes indexed by attribute name\n */\nfunction getIndices(attributes) {\n  var indices = {};\n\n  attributes.forEach(function (val, idx) {\n    indices[val] = idx;\n  });\n\n  return indices;\n}\n\nfunction assignFacetStats(dest, facetStats, key) {\n  if (facetStats && facetStats[key]) {\n    // eslint-disable-next-line no-param-reassign\n    dest.stats = facetStats[key];\n  }\n}\n\n/**\n * @typedef {Object} HierarchicalFacet\n * @property {string} name\n * @property {string[]} attributes\n */\n\n/**\n * @param {HierarchicalFacet[]} hierarchicalFacets All hierarchical facets\n * @param {string} hierarchicalAttributeName The name of the hierarchical attribute\n * @return {HierarchicalFacet} The hierarchical facet matching the attribute name\n */\nfunction findMatchingHierarchicalFacetFromAttributeName(\n  hierarchicalFacets,\n  hierarchicalAttributeName\n) {\n  return find(\n    hierarchicalFacets,\n    function facetKeyMatchesAttribute(hierarchicalFacet) {\n      var facetNames = hierarchicalFacet.attributes || [];\n      return facetNames.indexOf(hierarchicalAttributeName) > -1;\n    }\n  );\n}\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * Constructor for SearchResults\n * @class\n * @classdesc SearchResults contains the results of a query to Algolia using the\n * {@link AlgoliaSearchHelper}.\n * @param {SearchParameters} state state that led to the response\n * @param {array.<object>} results the results from algolia client\n * @example <caption>SearchResults of the first query in\n * <a href=\"http://demos.algolia.com/instant-search-demo\">the instant search demo</a></caption>\n{\n   \"hitsPerPage\": 10,\n   \"processingTimeMS\": 2,\n   \"facets\": [\n      {\n         \"name\": \"type\",\n         \"data\": {\n            \"HardGood\": 6627,\n            \"BlackTie\": 550,\n            \"Music\": 665,\n            \"Software\": 131,\n            \"Game\": 456,\n            \"Movie\": 1571\n         },\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"Free shipping\": 5507\n         },\n         \"name\": \"shipping\"\n      }\n  ],\n   \"hits\": [\n      {\n         \"thumbnailImage\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_54x108_s.gif\",\n         \"_highlightResult\": {\n            \"shortDescription\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n               \"matchedWords\": []\n            },\n            \"category\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Computer Security Software\",\n               \"matchedWords\": []\n            },\n            \"manufacturer\": {\n               \"matchedWords\": [],\n               \"value\": \"Webroot\",\n               \"matchLevel\": \"none\"\n            },\n            \"name\": {\n               \"value\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n               \"matchedWords\": [],\n               \"matchLevel\": \"none\"\n            }\n         },\n         \"image\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_105x210_sc.jpg\",\n         \"shipping\": \"Free shipping\",\n         \"bestSellingRank\": 4,\n         \"shortDescription\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n         \"url\": \"http://www.bestbuy.com/site/webroot-secureanywhere-internet-security-3-devi…d=1219060687969&skuId=1688832&cmp=RMX&ky=2d3GfEmNIzjA0vkzveHdZEBgpPCyMnLTJ\",\n         \"name\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n         \"category\": \"Computer Security Software\",\n         \"salePrice_range\": \"1 - 50\",\n         \"objectID\": \"1688832\",\n         \"type\": \"Software\",\n         \"customerReviewCount\": 5980,\n         \"salePrice\": 49.99,\n         \"manufacturer\": \"Webroot\"\n      },\n      ....\n  ],\n   \"nbHits\": 10000,\n   \"disjunctiveFacets\": [\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"5\": 183,\n            \"12\": 112,\n            \"7\": 149,\n            ...\n         },\n         \"name\": \"customerReviewCount\",\n         \"stats\": {\n            \"max\": 7461,\n            \"avg\": 157.939,\n            \"min\": 1\n         }\n      },\n      {\n         \"data\": {\n            \"Printer Ink\": 142,\n            \"Wireless Speakers\": 60,\n            \"Point & Shoot Cameras\": 48,\n            ...\n         },\n         \"name\": \"category\",\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"> 5000\": 2,\n            \"1 - 50\": 6524,\n            \"501 - 2000\": 566,\n            \"201 - 500\": 1501,\n            \"101 - 200\": 1360,\n            \"2001 - 5000\": 47\n         },\n         \"name\": \"salePrice_range\"\n      },\n      {\n         \"data\": {\n            \"Dynex™\": 202,\n            \"Insignia™\": 230,\n            \"PNY\": 72,\n            ...\n         },\n         \"name\": \"manufacturer\",\n         \"exhaustive\": false\n      }\n  ],\n   \"query\": \"\",\n   \"nbPages\": 100,\n   \"page\": 0,\n   \"index\": \"bestbuy\"\n}\n **/\nfunction SearchResults(state, results, options) {\n  var mainSubResponse = results[0];\n\n  this._rawResults = results;\n\n  // eslint-disable-next-line consistent-this\n  var self = this;\n\n  // https://www.algolia.com/doc/api-reference/api-methods/search/#response\n  Object.keys(mainSubResponse).forEach(function (key) {\n    self[key] = mainSubResponse[key];\n  });\n\n  // Make every key of the result options reachable from the instance\n  Object.keys(options || {}).forEach(function (key) {\n    self[key] = options[key];\n  });\n\n  /**\n   * query used to generate the results\n   * @name query\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The query as parsed by the engine given all the rules.\n   * @name parsedQuery\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * all the records that match the search parameters. Each record is\n   * augmented with a new attribute `_highlightResult`\n   * which is an object keyed by attribute and with the following properties:\n   * - `value` : the value of the facet highlighted (html)\n   * - `matchLevel`: `full`, `partial` or `none`, depending on how the query terms match\n   * @name hits\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * index where the results come from\n   * @name index\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * number of hits per page requested\n   * @name hitsPerPage\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of hits of this query on the index\n   * @name nbHits\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of pages with respect to the number of hits per page and the total number of hits\n   * @name nbPages\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * current page\n   * @name page\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The position if the position was guessed by IP.\n   * @name aroundLatLng\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"48.8637,2.3615\",\n   */\n  /**\n   * The radius computed by Algolia.\n   * @name automaticRadius\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"126792922\",\n   */\n  /**\n   * String identifying the server used to serve this request.\n   *\n   * getRankingInfo needs to be set to `true` for this to be returned\n   *\n   * @name serverUsed\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"c7-use-2.algolia.net\",\n   */\n  /**\n   * Boolean that indicates if the computation of the counts did time out.\n   * @deprecated\n   * @name timeoutCounts\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Boolean that indicates if the computation of the hits did time out.\n   * @deprecated\n   * @name timeoutHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the counts of the facets is exhaustive\n   * @name exhaustiveFacetsCount\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the number of hits is exhaustive\n   * @name exhaustiveNbHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Contains the userData if they are set by a [query rule](https://www.algolia.com/doc/guides/query-rules/query-rules-overview/).\n   * @name userData\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * queryID is the unique identifier of the query used to generate the current search results.\n   * This value is only available if the `clickAnalytics` search parameter is set to `true`.\n   * @name queryID\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * sum of the processing time of all the queries\n   * @name processingTimeMS\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  this.processingTimeMS = results.reduce(function (sum, result) {\n    return result.processingTimeMS === undefined\n      ? sum\n      : sum + result.processingTimeMS;\n  }, 0);\n\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.disjunctiveFacets = [];\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.HierarchicalFacet[]}\n   */\n  this.hierarchicalFacets = state.hierarchicalFacets.map(\n    function initFutureTree() {\n      return [];\n    }\n  );\n  /**\n   * other facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.facets = [];\n\n  var disjunctiveFacets = state.getRefinedDisjunctiveFacets();\n\n  var facetsIndices = getIndices(state.facets);\n  var disjunctiveFacetsIndices = getIndices(state.disjunctiveFacets);\n  var nextDisjunctiveResult = 1;\n\n  // Since we send request only for disjunctive facets that have been refined,\n  // we get the facets information from the first, general, response.\n\n  var mainFacets = mainSubResponse.facets || {};\n\n  Object.keys(mainFacets).forEach(function (facetKey) {\n    var facetValueObject = mainFacets[facetKey];\n\n    var hierarchicalFacet = findMatchingHierarchicalFacetFromAttributeName(\n      state.hierarchicalFacets,\n      facetKey\n    );\n\n    if (hierarchicalFacet) {\n      // Place the hierarchicalFacet data at the correct index depending on\n      // the attributes order that was defined at the helper initialization\n      var facetIndex = hierarchicalFacet.attributes.indexOf(facetKey);\n      var idxAttributeName = findIndex(state.hierarchicalFacets, function (f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      self.hierarchicalFacets[idxAttributeName][facetIndex] = {\n        attribute: facetKey,\n        data: facetValueObject,\n        exhaustive: mainSubResponse.exhaustiveFacetsCount,\n      };\n    } else {\n      var isFacetDisjunctive = state.disjunctiveFacets.indexOf(facetKey) !== -1;\n      var isFacetConjunctive = state.facets.indexOf(facetKey) !== -1;\n      var position;\n\n      if (isFacetDisjunctive) {\n        position = disjunctiveFacetsIndices[facetKey];\n        self.disjunctiveFacets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount,\n        };\n        assignFacetStats(\n          self.disjunctiveFacets[position],\n          mainSubResponse.facets_stats,\n          facetKey\n        );\n      }\n      if (isFacetConjunctive) {\n        position = facetsIndices[facetKey];\n        self.facets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount,\n        };\n        assignFacetStats(\n          self.facets[position],\n          mainSubResponse.facets_stats,\n          facetKey\n        );\n      }\n    }\n  });\n\n  // Make sure we do not keep holes within the hierarchical facets\n  this.hierarchicalFacets = compact(this.hierarchicalFacets);\n\n  // aggregate the refined disjunctive facets\n  disjunctiveFacets.forEach(function (disjunctiveFacet) {\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    var hierarchicalFacet = state.getHierarchicalFacetByName(disjunctiveFacet);\n\n    // There should be only item in facets.\n    Object.keys(facets).forEach(function (dfacet) {\n      var facetResults = facets[dfacet];\n\n      var position;\n\n      if (hierarchicalFacet) {\n        position = findIndex(state.hierarchicalFacets, function (f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(\n          self.hierarchicalFacets[position],\n          function (f) {\n            return f.attribute === dfacet;\n          }\n        );\n\n        // previous refinements and no results so not able to find it\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = merge(\n          {},\n          self.hierarchicalFacets[position][attributeIndex].data,\n          facetResults\n        );\n      } else {\n        position = disjunctiveFacetsIndices[dfacet];\n\n        var dataFromMainRequest =\n          (mainSubResponse.facets && mainSubResponse.facets[dfacet]) || {};\n\n        self.disjunctiveFacets[position] = {\n          name: dfacet,\n          data: defaultsPure({}, facetResults, dataFromMainRequest),\n          exhaustive: result.exhaustiveFacetsCount,\n        };\n        assignFacetStats(\n          self.disjunctiveFacets[position],\n          result.facets_stats,\n          dfacet\n        );\n\n        if (state.disjunctiveFacetsRefinements[dfacet]) {\n          state.disjunctiveFacetsRefinements[dfacet].forEach(function (\n            refinementValue\n          ) {\n            // add the disjunctive refinements if it is no more retrieved\n            if (\n              !self.disjunctiveFacets[position].data[refinementValue] &&\n              state.disjunctiveFacetsRefinements[dfacet].indexOf(\n                unescapeFacetValue(refinementValue)\n              ) > -1\n            ) {\n              self.disjunctiveFacets[position].data[refinementValue] = 0;\n            }\n          });\n        }\n      }\n    });\n    nextDisjunctiveResult++;\n  });\n\n  // if we have some parent level values for hierarchical facets, merge them\n  state.getRefinedHierarchicalFacets().forEach(function (refinedFacet) {\n    var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n    // if we are already at a root refinement (or no refinement at all), there is no\n    // root level values request\n    if (\n      currentRefinement.length === 0 ||\n      currentRefinement[0].split(separator).length < 2\n    ) {\n      return;\n    }\n\n    results.slice(nextDisjunctiveResult).forEach(function (result) {\n      var facets = result && result.facets ? result.facets : {};\n\n      Object.keys(facets).forEach(function (dfacet) {\n        var facetResults = facets[dfacet];\n        var position = findIndex(state.hierarchicalFacets, function (f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(\n          self.hierarchicalFacets[position],\n          function (f) {\n            return f.attribute === dfacet;\n          }\n        );\n\n        // previous refinements and no results so not able to find it\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        // when we always get root levels, if the hits refinement is `beers > IPA` (count: 5),\n        // then the disjunctive values will be `beers` (count: 100),\n        // but we do not want to display\n        //   | beers (100)\n        //     > IPA (5)\n        // We want\n        //   | beers (5)\n        //     > IPA (5)\n        var defaultData = {};\n\n        if (currentRefinement.length > 0) {\n          var root = currentRefinement[0].split(separator)[0];\n          defaultData[root] =\n            self.hierarchicalFacets[position][attributeIndex].data[root];\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = defaultsPure(\n          defaultData,\n          facetResults,\n          self.hierarchicalFacets[position][attributeIndex].data\n        );\n      });\n\n      nextDisjunctiveResult++;\n    });\n  });\n\n  // add the excludes\n  Object.keys(state.facetsExcludes).forEach(function (facetName) {\n    var excludes = state.facetsExcludes[facetName];\n    var position = facetsIndices[facetName];\n\n    self.facets[position] = {\n      name: facetName,\n      data: mainFacets[facetName],\n      exhaustive: mainSubResponse.exhaustiveFacetsCount,\n    };\n    excludes.forEach(function (facetValue) {\n      self.facets[position] = self.facets[position] || { name: facetName };\n      self.facets[position].data = self.facets[position].data || {};\n      self.facets[position].data[facetValue] = 0;\n    });\n  });\n\n  /**\n   * @type {Array}\n   */\n  this.hierarchicalFacets = this.hierarchicalFacets.map(\n    generateHierarchicalTree(state)\n  );\n\n  /**\n   * @type {Array}\n   */\n  this.facets = compact(this.facets);\n  /**\n   * @type {Array}\n   */\n  this.disjunctiveFacets = compact(this.disjunctiveFacets);\n\n  this._state = state;\n}\n\n/**\n * Get a facet object with its name\n * @deprecated\n * @param {string} name name of the faceted attribute\n * @return {SearchResults.Facet} the facet object\n */\nSearchResults.prototype.getFacetByName = function (name) {\n  function predicate(facet) {\n    return facet.name === name;\n  }\n\n  return (\n    find(this.facets, predicate) ||\n    find(this.disjunctiveFacets, predicate) ||\n    find(this.hierarchicalFacets, predicate)\n  );\n};\n\n/**\n * Get the facet values of a specified attribute from a SearchResults object.\n * @private\n * @param {SearchResults} results the search results to search in\n * @param {string} attribute name of the faceted attribute to search for\n * @return {array|object} facet values. For the hierarchical facets it is an object.\n */\nfunction extractNormalizedFacetValues(results, attribute) {\n  function predicate(facet) {\n    return facet.name === attribute;\n  }\n\n  if (results._state.isConjunctiveFacet(attribute)) {\n    var facet = find(results.facets, predicate);\n    if (!facet) return [];\n\n    return Object.keys(facet.data).map(function (name) {\n      var value = escapeFacetValue(name);\n      return {\n        name: name,\n        escapedValue: value,\n        count: facet.data[name],\n        isRefined: results._state.isFacetRefined(attribute, value),\n        isExcluded: results._state.isExcludeRefined(attribute, name),\n      };\n    });\n  } else if (results._state.isDisjunctiveFacet(attribute)) {\n    var disjunctiveFacet = find(results.disjunctiveFacets, predicate);\n    if (!disjunctiveFacet) return [];\n\n    return Object.keys(disjunctiveFacet.data).map(function (name) {\n      var value = escapeFacetValue(name);\n      return {\n        name: name,\n        escapedValue: value,\n        count: disjunctiveFacet.data[name],\n        isRefined: results._state.isDisjunctiveFacetRefined(attribute, value),\n      };\n    });\n  } else if (results._state.isHierarchicalFacet(attribute)) {\n    var hierarchicalFacetValues = find(results.hierarchicalFacets, predicate);\n    if (!hierarchicalFacetValues) return hierarchicalFacetValues;\n\n    var hierarchicalFacet =\n      results._state.getHierarchicalFacetByName(attribute);\n    var separator =\n      results._state._getHierarchicalFacetSeparator(hierarchicalFacet);\n    var currentRefinement = unescapeFacetValue(\n      results._state.getHierarchicalRefinement(attribute)[0] || ''\n    );\n\n    if (currentRefinement.indexOf(hierarchicalFacet.rootPath) === 0) {\n      currentRefinement = currentRefinement.replace(\n        hierarchicalFacet.rootPath + separator,\n        ''\n      );\n    }\n\n    var currentRefinementSplit = currentRefinement.split(separator);\n    currentRefinementSplit.unshift(attribute);\n\n    setIsRefined(hierarchicalFacetValues, currentRefinementSplit, 0);\n\n    return hierarchicalFacetValues;\n  }\n\n  return undefined;\n}\n\n/**\n * Set the isRefined of a hierarchical facet result based on the current state.\n * @param {SearchResults.HierarchicalFacet} item Hierarchical facet to fix\n * @param {string[]} currentRefinement array of parts of the current hierarchical refinement\n * @param {number} depth recursion depth in the currentRefinement\n * @return {undefined} function mutates the item\n */\nfunction setIsRefined(item, currentRefinement, depth) {\n  // eslint-disable-next-line no-param-reassign\n  item.isRefined = item.name === currentRefinement[depth];\n  if (item.data) {\n    item.data.forEach(function (child) {\n      setIsRefined(child, currentRefinement, depth + 1);\n    });\n  }\n}\n\n/**\n * Sort nodes of a hierarchical or disjunctive facet results\n * @private\n * @param {function} sortFn sort function to apply\n * @param {HierarchicalFacet|Array} node node upon which we want to apply the sort\n * @param {string[]} names attribute names\n * @param {number} [level=0] current index in the names array\n * @return {HierarchicalFacet|Array} sorted node\n */\nfunction recSort(sortFn, node, names, level) {\n  // eslint-disable-next-line no-param-reassign\n  level = level || 0;\n\n  if (Array.isArray(node)) {\n    return sortFn(node, names[level]);\n  }\n\n  if (!node.data || node.data.length === 0) {\n    return node;\n  }\n\n  var children = node.data.map(function (childNode) {\n    return recSort(sortFn, childNode, names, level + 1);\n  });\n  var sortedChildren = sortFn(children, names[level]);\n  var newNode = defaultsPure({ data: sortedChildren }, node);\n  return newNode;\n}\n\nSearchResults.DEFAULT_SORT = ['isRefined:desc', 'count:desc', 'name:asc'];\n\nfunction vanillaSortFn(order, data) {\n  return data.sort(order);\n}\n\n/**\n * @typedef FacetOrdering\n * @type {Object}\n * @property {string[]} [order]\n * @property {'count' | 'alpha' | 'hidden'} [sortRemainingBy]\n */\n\n/**\n * Sorts facet arrays via their facet ordering\n * @param {Array} facetValues the values\n * @param {FacetOrdering} facetOrdering the ordering\n * @returns {Array} the sorted facet values\n */\nfunction sortViaFacetOrdering(facetValues, facetOrdering) {\n  var orderedFacets = [];\n  var remainingFacets = [];\n\n  var order = facetOrdering.order || [];\n  /**\n   * an object with the keys being the values in order, the values their index:\n   * ['one', 'two'] -> { one: 0, two: 1 }\n   */\n  var reverseOrder = order.reduce(function (acc, name, i) {\n    // eslint-disable-next-line no-param-reassign\n    acc[name] = i;\n    return acc;\n  }, {});\n\n  facetValues.forEach(function (item) {\n    // hierarchical facets get sorted using their raw name\n    var name = item.path || item.name;\n    if (reverseOrder[name] !== undefined) {\n      orderedFacets[reverseOrder[name]] = item;\n    } else {\n      remainingFacets.push(item);\n    }\n  });\n\n  orderedFacets = orderedFacets.filter(function (facet) {\n    return facet;\n  });\n\n  var sortRemainingBy = facetOrdering.sortRemainingBy;\n  var ordering;\n  if (sortRemainingBy === 'hidden') {\n    return orderedFacets;\n  } else if (sortRemainingBy === 'alpha') {\n    ordering = [\n      ['path', 'name'],\n      ['asc', 'asc'],\n    ];\n  } else {\n    ordering = [['count'], ['desc']];\n  }\n\n  return orderedFacets.concat(\n    orderBy(remainingFacets, ordering[0], ordering[1])\n  );\n}\n\n/**\n * @param {SearchResults} results the search results class\n * @param {string} attribute the attribute to retrieve ordering of\n * @returns {FacetOrdering | undefined} the facet ordering\n */\nfunction getFacetOrdering(results, attribute) {\n  return (\n    results.renderingContent &&\n    results.renderingContent.facetOrdering &&\n    results.renderingContent.facetOrdering.values &&\n    results.renderingContent.facetOrdering.values[attribute]\n  );\n}\n\n/**\n * Get a the list of values for a given facet attribute. Those values are sorted\n * refinement first, descending count (bigger value on top), and name ascending\n * (alphabetical order). The sort formula can overridden using either string based\n * predicates or a function.\n *\n * This method will return all the values returned by the Algolia engine plus all\n * the values already refined. This means that it can happen that the\n * `maxValuesPerFacet` [configuration](https://www.algolia.com/doc/rest-api/search#param-maxValuesPerFacet)\n * might not be respected if you have facet values that are already refined.\n * @param {string} attribute attribute name\n * @param {object} opts configuration options.\n * @param {boolean} [opts.facetOrdering]\n * Force the use of facetOrdering from the result if a sortBy is present. If\n * sortBy isn't present, facetOrdering will be used automatically.\n * @param {Array.<string> | function} opts.sortBy\n * When using strings, it consists of\n * the name of the [FacetValue](#SearchResults.FacetValue) or the\n * [HierarchicalFacet](#SearchResults.HierarchicalFacet) attributes with the\n * order (`asc` or `desc`). For example to order the value by count, the\n * argument would be `['count:asc']`.\n *\n * If only the attribute name is specified, the ordering defaults to the one\n * specified in the default value for this attribute.\n *\n * When not specified, the order is\n * ascending.  This parameter can also be a function which takes two facet\n * values and should return a number, 0 if equal, 1 if the first argument is\n * bigger or -1 otherwise.\n *\n * The default value for this attribute `['isRefined:desc', 'count:desc', 'name:asc']`\n * @return {FacetValue[]|HierarchicalFacet|undefined} depending on the type of facet of\n * the attribute requested (hierarchical, disjunctive or conjunctive)\n * @example\n * helper.on('result', function(event){\n *   //get values ordered only by name ascending using the string predicate\n *   event.results.getFacetValues('city', {sortBy: ['name:asc']});\n *   //get values  ordered only by count ascending using a function\n *   event.results.getFacetValues('city', {\n *     // this is equivalent to ['count:asc']\n *     sortBy: function(a, b) {\n *       if (a.count === b.count) return 0;\n *       if (a.count > b.count)   return 1;\n *       if (b.count > a.count)   return -1;\n *     }\n *   });\n * });\n */\nSearchResults.prototype.getFacetValues = function (attribute, opts) {\n  var facetValues = extractNormalizedFacetValues(this, attribute);\n  if (!facetValues) {\n    return undefined;\n  }\n\n  var options = defaultsPure({}, opts, {\n    sortBy: SearchResults.DEFAULT_SORT,\n    // if no sortBy is given, attempt to sort based on facetOrdering\n    // if it is given, we still allow to sort via facet ordering first\n    facetOrdering: !(opts && opts.sortBy),\n  });\n\n  // eslint-disable-next-line consistent-this\n  var results = this;\n  var attributes;\n  if (Array.isArray(facetValues)) {\n    attributes = [attribute];\n  } else {\n    var config = results._state.getHierarchicalFacetByName(facetValues.name);\n    attributes = config.attributes;\n  }\n\n  return recSort(\n    function (data, facetName) {\n      if (options.facetOrdering) {\n        var facetOrdering = getFacetOrdering(results, facetName);\n        if (facetOrdering) {\n          return sortViaFacetOrdering(data, facetOrdering);\n        }\n      }\n\n      if (Array.isArray(options.sortBy)) {\n        var order = formatSort(options.sortBy, SearchResults.DEFAULT_SORT);\n        return orderBy(data, order[0], order[1]);\n      } else if (typeof options.sortBy === 'function') {\n        return vanillaSortFn(options.sortBy, data);\n      }\n      throw new Error(\n        'options.sortBy is optional but if defined it must be ' +\n          'either an array of string (predicates) or a sorting function'\n      );\n    },\n    facetValues,\n    attributes\n  );\n};\n\n/**\n * Returns the facet stats if attribute is defined and the facet contains some.\n * Otherwise returns undefined.\n * @param {string} attribute name of the faceted attribute\n * @return {object} The stats of the facet\n */\nSearchResults.prototype.getFacetStats = function (attribute) {\n  if (this._state.isConjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.facets, attribute);\n  } else if (this._state.isDisjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.disjunctiveFacets, attribute);\n  }\n\n  return undefined;\n};\n\n/**\n * @typedef {Object} FacetListItem\n * @property {string} name\n */\n\n/**\n * @param {FacetListItem[]} facetList (has more items, but enough for here)\n * @param {string} facetName The attribute to look for\n * @return {object|undefined} The stats of the facet\n */\nfunction getFacetStatsIfAvailable(facetList, facetName) {\n  var data = find(facetList, function (facet) {\n    return facet.name === facetName;\n  });\n  return data && data.stats;\n}\n\n/**\n * Returns all refinements for all filters + tags. It also provides\n * additional information: count and exhaustiveness for each filter.\n *\n * See the [refinement type](#Refinement) for an exhaustive view of the available\n * data.\n *\n * Note that for a numeric refinement, results are grouped per operator, this\n * means that it will return responses for operators which are empty.\n *\n * @return {Array.<Refinement>} all the refinements\n */\nSearchResults.prototype.getRefinements = function () {\n  var state = this._state;\n  // eslint-disable-next-line consistent-this\n  var results = this;\n  var res = [];\n\n  Object.keys(state.facetsRefinements).forEach(function (attributeName) {\n    state.facetsRefinements[attributeName].forEach(function (name) {\n      res.push(\n        getRefinement(state, 'facet', attributeName, name, results.facets)\n      );\n    });\n  });\n\n  Object.keys(state.facetsExcludes).forEach(function (attributeName) {\n    state.facetsExcludes[attributeName].forEach(function (name) {\n      res.push(\n        getRefinement(state, 'exclude', attributeName, name, results.facets)\n      );\n    });\n  });\n\n  Object.keys(state.disjunctiveFacetsRefinements).forEach(function (\n    attributeName\n  ) {\n    state.disjunctiveFacetsRefinements[attributeName].forEach(function (name) {\n      res.push(\n        getRefinement(\n          state,\n          'disjunctive',\n          attributeName,\n          name,\n          results.disjunctiveFacets\n        )\n      );\n    });\n  });\n\n  Object.keys(state.hierarchicalFacetsRefinements).forEach(function (\n    attributeName\n  ) {\n    state.hierarchicalFacetsRefinements[attributeName].forEach(function (name) {\n      res.push(\n        getHierarchicalRefinement(\n          state,\n          attributeName,\n          name,\n          results.hierarchicalFacets\n        )\n      );\n    });\n  });\n\n  Object.keys(state.numericRefinements).forEach(function (attributeName) {\n    var operators = state.numericRefinements[attributeName];\n    Object.keys(operators).forEach(function (operator) {\n      operators[operator].forEach(function (value) {\n        res.push({\n          type: 'numeric',\n          attributeName: attributeName,\n          name: value,\n          numericValue: value,\n          operator: operator,\n        });\n      });\n    });\n  });\n\n  state.tagRefinements.forEach(function (name) {\n    res.push({ type: 'tag', attributeName: '_tags', name: name });\n  });\n\n  return res;\n};\n\n/**\n * @typedef {Object} Facet\n * @property {string} name\n * @property {Object} data\n * @property {boolean} exhaustive\n */\n\n/**\n * @param {SearchParameters} state the current state\n * @param {string} type the type of the refinement\n * @param {string} attributeName The attribute of the facet\n * @param {*} name The name of the facet\n * @param {Facet[]} resultsFacets facets from the results\n * @return {Refinement} the refinement\n */\nfunction getRefinement(state, type, attributeName, name, resultsFacets) {\n  var facet = find(resultsFacets, function (f) {\n    return f.name === attributeName;\n  });\n  var count = facet && facet.data && facet.data[name] ? facet.data[name] : 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n\n  return {\n    type: type,\n    attributeName: attributeName,\n    name: name,\n    count: count,\n    exhaustive: exhaustive,\n  };\n}\n\n/**\n * @param {SearchParameters} state the current state\n * @param {string} attributeName the attribute of the hierarchical facet\n * @param {string} name the name of the facet\n * @param {Facet[]} resultsFacets facets from the results\n * @return {HierarchicalFacet} the hierarchical facet\n */\nfunction getHierarchicalRefinement(state, attributeName, name, resultsFacets) {\n  var facetDeclaration = state.getHierarchicalFacetByName(attributeName);\n  var separator = state._getHierarchicalFacetSeparator(facetDeclaration);\n  var split = name.split(separator);\n  var rootFacet = find(resultsFacets, function (facet) {\n    return facet.name === attributeName;\n  });\n\n  var facet = split.reduce(function (intermediateFacet, part) {\n    var newFacet =\n      intermediateFacet &&\n      find(intermediateFacet.data, function (f) {\n        return f.name === part;\n      });\n    return newFacet !== undefined ? newFacet : intermediateFacet;\n  }, rootFacet);\n\n  var count = (facet && facet.count) || 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n  var path = (facet && facet.path) || '';\n\n  return {\n    type: 'hierarchical',\n    attributeName: attributeName,\n    name: path,\n    count: count,\n    exhaustive: exhaustive,\n  };\n}\n\nmodule.exports = SearchResults;\n","'use strict';\n\nvar SearchParameters = require('./SearchParameters');\nvar SearchResults = require('./SearchResults');\nvar DerivedHelper = require('./DerivedHelper');\nvar requestBuilder = require('./requestBuilder');\n\nvar EventEmitter = require('@algolia/events');\nvar inherits = require('./functions/inherits');\nvar objectHasKeys = require('./functions/objectHasKeys');\nvar omit = require('./functions/omit');\nvar merge = require('./functions/merge');\n\nvar version = require('./version');\nvar escapeFacetValue = require('./functions/escapeFacetValue').escapeFacetValue;\n\n/**\n * Event triggered when a parameter is set or updated\n * @event AlgoliaSearchHelper#event:change\n * @property {object} event\n * @property {SearchParameters} event.state the current parameters with the latest changes applied\n * @property {SearchResults} event.results the previous results received from Algolia. `null` before the first request\n * @example\n * helper.on('change', function(event) {\n *   console.log('The parameters have changed');\n * });\n */\n\n/**\n * Event triggered when a main search is sent to Algolia\n * @event AlgoliaSearchHelper#event:search\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search\n * @property {SearchResults} event.results the results from the previous search. `null` if it is the first search.\n * @example\n * helper.on('search', function(event) {\n *   console.log('Search sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchForFacetValues` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchForFacetValues\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @property {string} event.facet the facet searched into\n * @property {string} event.query the query used to search in the facets\n * @example\n * helper.on('searchForFacetValues', function(event) {\n *   console.log('searchForFacetValues sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchOnce` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchOnce\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @example\n * helper.on('searchOnce', function(event) {\n *   console.log('searchOnce sent');\n * });\n */\n\n/**\n * Event triggered when the results are retrieved from Algolia\n * @event AlgoliaSearchHelper#event:result\n * @property {object} event\n * @property {SearchResults} event.results the results received from Algolia\n * @property {SearchParameters} event.state the parameters used to query Algolia. Those might be different from the one in the helper instance (for example if the network is unreliable).\n * @example\n * helper.on('result', function(event) {\n *   console.log('Search results received');\n * });\n */\n\n/**\n * Event triggered when Algolia sends back an error. For example, if an unknown parameter is\n * used, the error can be caught using this event.\n * @event AlgoliaSearchHelper#event:error\n * @property {object} event\n * @property {Error} event.error the error returned by the Algolia.\n * @example\n * helper.on('error', function(event) {\n *   console.log('Houston we got a problem.');\n * });\n */\n\n/**\n * Event triggered when the queue of queries have been depleted (with any result or outdated queries)\n * @event AlgoliaSearchHelper#event:searchQueueEmpty\n * @example\n * helper.on('searchQueueEmpty', function() {\n *   console.log('No more search pending');\n *   // This is received before the result event if we're not expecting new results\n * });\n *\n * helper.search();\n */\n\n/**\n * Initialize a new AlgoliaSearchHelper\n * @class\n * @classdesc The AlgoliaSearchHelper is a class that ease the management of the\n * search. It provides an event based interface for search callbacks:\n *  - change: when the internal search state is changed.\n *    This event contains a {@link SearchParameters} object and the\n *    {@link SearchResults} of the last result if any.\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n *  - error: when the response is an error. This event contains the error returned by the server.\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the index name to query\n * @param  {SearchParameters | object} options an object defining the initial\n * config of the search. It doesn't have to be a {SearchParameters},\n * just an object containing the properties you need from it.\n */\nfunction AlgoliaSearchHelper(client, index, options) {\n  if (typeof client.addAlgoliaAgent === 'function') {\n    client.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.setClient(client);\n  var opts = options || {};\n  opts.index = index;\n  this.state = SearchParameters.make(opts);\n  this.lastResults = null;\n  this._queryId = 0;\n  this._lastQueryIdReceived = -1;\n  this.derivedHelpers = [];\n  this._currentNbQueries = 0;\n}\n\ninherits(AlgoliaSearchHelper, EventEmitter);\n\n/**\n * Start the search with the parameters set in the state. When the\n * method is called, it triggers a `search` event. The results will\n * be available through the `result` event. If an error occurs, an\n * `error` will be fired instead.\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires search\n * @fires result\n * @fires error\n * @chainable\n */\nAlgoliaSearchHelper.prototype.search = function () {\n  this._search({ onlyWithDerivedHelpers: false });\n  return this;\n};\n\nAlgoliaSearchHelper.prototype.searchOnlyWithDerivedHelpers = function () {\n  this._search({ onlyWithDerivedHelpers: true });\n  return this;\n};\n\n/**\n * Gets the search query parameters that would be sent to the Algolia Client\n * for the hits\n * @return {object} Query Parameters\n */\nAlgoliaSearchHelper.prototype.getQuery = function () {\n  var state = this.state;\n  return requestBuilder._getHitsSearchParams(state);\n};\n\n/**\n * Start a search using a modified version of the current state. This method does\n * not trigger the helper lifecycle and does not modify the state kept internally\n * by the helper. This second aspect means that the next search call will be the\n * same as a search call before calling searchOnce.\n * @param {object} options can contain all the parameters that can be set to SearchParameters\n * plus the index\n * @param {function} [cb] optional callback executed when the response from the\n * server is back.\n * @return {promise|undefined} if a callback is passed the method returns undefined\n * otherwise it returns a promise containing an object with two keys :\n *  - content with a SearchResults\n *  - state with the state used for the query as a SearchParameters\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the callback API\n * var state = helper.searchOnce({hitsPerPage: 1},\n *   function(error, content, state) {\n *     // if an error occurred it will be passed in error, otherwise its value is null\n *     // content contains the results formatted as a SearchResults\n *     // state is the instance of SearchParameters used for this search\n *   });\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the promise API\n * var state1 = helper.searchOnce({hitsPerPage: 1})\n *                 .then(promiseHandler);\n *\n * function promiseHandler(res) {\n *   // res contains\n *   // {\n *   //   content : SearchResults\n *   //   state   : SearchParameters (the one used for this specific search)\n *   // }\n * }\n */\nAlgoliaSearchHelper.prototype.searchOnce = function (options, cb) {\n  var tempState = !options\n    ? this.state\n    : this.state.setQueryParameters(options);\n  var queries = requestBuilder._getQueries(tempState.index, tempState);\n  // eslint-disable-next-line consistent-this\n  var self = this;\n\n  this._currentNbQueries++;\n\n  this.emit('searchOnce', {\n    state: tempState,\n  });\n\n  if (cb) {\n    this.client\n      .search(queries)\n      .then(function (content) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(null, new SearchResults(tempState, content.results), tempState);\n      })\n      .catch(function (err) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(err, null, tempState);\n      });\n\n    return undefined;\n  }\n\n  return this.client.search(queries).then(\n    function (content) {\n      self._currentNbQueries--;\n      if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n      return {\n        content: new SearchResults(tempState, content.results),\n        state: tempState,\n        _originalResponse: content,\n      };\n    },\n    function (e) {\n      self._currentNbQueries--;\n      if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n      throw e;\n    }\n  );\n};\n\n/**\n * Start the search for answers with the parameters set in the state.\n * This method returns a promise.\n * @param {Object} options - the options for answers API call\n * @param {string[]} options.attributesForPrediction - Attributes to use for predictions. If empty, `searchableAttributes` is used instead.\n * @param {string[]} options.queryLanguages - The languages in the query. Currently only supports ['en'].\n * @param {number} options.nbHits - Maximum number of answers to retrieve from the Answers Engine. Cannot be greater than 1000.\n *\n * @return {promise} the answer results\n * @deprecated answers is deprecated and will be replaced with new initiatives\n */\nAlgoliaSearchHelper.prototype.findAnswers = function (options) {\n  // eslint-disable-next-line no-console\n  console.warn('[algoliasearch-helper] answers is no longer supported');\n  var state = this.state;\n  var derivedHelper = this.derivedHelpers[0];\n  if (!derivedHelper) {\n    return Promise.resolve([]);\n  }\n  var derivedState = derivedHelper.getModifiedState(state);\n  var data = merge(\n    {\n      attributesForPrediction: options.attributesForPrediction,\n      nbHits: options.nbHits,\n    },\n    {\n      params: omit(requestBuilder._getHitsSearchParams(derivedState), [\n        'attributesToSnippet',\n        'hitsPerPage',\n        'restrictSearchableAttributes',\n        'snippetEllipsisText',\n      ]),\n    }\n  );\n\n  var errorMessage =\n    'search for answers was called, but this client does not have a function client.initIndex(index).findAnswers';\n  if (typeof this.client.initIndex !== 'function') {\n    throw new Error(errorMessage);\n  }\n  var index = this.client.initIndex(derivedState.index);\n  if (typeof index.findAnswers !== 'function') {\n    throw new Error(errorMessage);\n  }\n  return index.findAnswers(derivedState.query, options.queryLanguages, data);\n};\n\n/**\n * Structure of each result when using\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * @typedef FacetSearchHit\n * @type {object}\n * @property {string} value the facet value\n * @property {string} highlighted the facet value highlighted with the query string\n * @property {number} count number of occurrence of this facet value\n * @property {boolean} isRefined true if the value is already refined\n */\n\n/**\n * Structure of the data resolved by the\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * promise.\n * @typedef FacetSearchResult\n * @type {object}\n * @property {FacetSearchHit} facetHits the results for this search for facet values\n * @property {number} processingTimeMS time taken by the query inside the engine\n */\n\n/**\n * Search for facet values based on an query and the name of a faceted attribute. This\n * triggers a search and will return a promise. On top of using the query, it also sends\n * the parameters from the state so that the search is narrowed down to only the possible values.\n *\n * See the description of [FacetSearchResult](reference.html#FacetSearchResult)\n * @param {string} facet the name of the faceted attribute\n * @param {string} query the string query for the search\n * @param {number} [maxFacetHits] the maximum number values returned. Should be > 0 and <= 100\n * @param {object} [userState] the set of custom parameters to use on top of the current state. Setting a property to `undefined` removes\n * it in the generated query.\n * @return {promise.<FacetSearchResult>} the results of the search\n */\nAlgoliaSearchHelper.prototype.searchForFacetValues = function (\n  facet,\n  query,\n  maxFacetHits,\n  userState\n) {\n  var clientHasSFFV = typeof this.client.searchForFacetValues === 'function';\n  var clientHasInitIndex = typeof this.client.initIndex === 'function';\n  if (\n    !clientHasSFFV &&\n    !clientHasInitIndex &&\n    typeof this.client.search !== 'function'\n  ) {\n    throw new Error(\n      'search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues'\n    );\n  }\n\n  var state = this.state.setQueryParameters(userState || {});\n  var isDisjunctive = state.isDisjunctiveFacet(facet);\n  var algoliaQuery = requestBuilder.getSearchForFacetQuery(\n    facet,\n    query,\n    maxFacetHits,\n    state\n  );\n\n  this._currentNbQueries++;\n  // eslint-disable-next-line consistent-this\n  var self = this;\n  var searchForFacetValuesPromise;\n  // newer algoliasearch ^3.27.1 - ~4.0.0\n  if (clientHasSFFV) {\n    searchForFacetValuesPromise = this.client.searchForFacetValues([\n      { indexName: state.index, params: algoliaQuery },\n    ]);\n    // algoliasearch < 3.27.1\n  } else if (clientHasInitIndex) {\n    searchForFacetValuesPromise = this.client\n      .initIndex(state.index)\n      .searchForFacetValues(algoliaQuery);\n    // algoliasearch ~5.0.0\n  } else {\n    // @MAJOR only use client.search\n    delete algoliaQuery.facetName;\n    searchForFacetValuesPromise = this.client\n      .search([\n        {\n          type: 'facet',\n          facet: facet,\n          indexName: state.index,\n          params: algoliaQuery,\n        },\n      ])\n      .then(function processResponse(response) {\n        return response.results[0];\n      });\n  }\n\n  this.emit('searchForFacetValues', {\n    state: state,\n    facet: facet,\n    query: query,\n  });\n\n  return searchForFacetValuesPromise.then(\n    function addIsRefined(content) {\n      self._currentNbQueries--;\n      if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n\n      // eslint-disable-next-line no-param-reassign\n      content = Array.isArray(content) ? content[0] : content;\n\n      content.facetHits.forEach(function (f) {\n        // eslint-disable-next-line no-param-reassign\n        f.escapedValue = escapeFacetValue(f.value);\n        // eslint-disable-next-line no-param-reassign\n        f.isRefined = isDisjunctive\n          ? state.isDisjunctiveFacetRefined(facet, f.escapedValue)\n          : state.isFacetRefined(facet, f.escapedValue);\n      });\n\n      return content;\n    },\n    function (e) {\n      self._currentNbQueries--;\n      if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n      throw e;\n    }\n  );\n};\n\n/**\n * Sets the text query used for the search.\n *\n * This method resets the current page to 0.\n * @param  {string} q the user query\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setQuery = function (q) {\n  this._change({\n    state: this.state.resetPage().setQuery(q),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Remove all the types of refinements except tags. A string can be provided to remove\n * only the refinements of a specific attribute. For more advanced use case, you can\n * provide a function instead. This function should follow the\n * [clearCallback definition](#SearchParameters.clearCallback).\n *\n * This method resets the current page to 0.\n * @param {string} [name] optional name of the facet / attribute on which we want to remove all refinements\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n * @example\n * // Removing all the refinements\n * helper.clearRefinements().search();\n * @example\n * // Removing all the filters on a the category attribute.\n * helper.clearRefinements('category').search();\n * @example\n * // Removing only the exclude filters on the category facet.\n * helper.clearRefinements(function(value, attribute, type) {\n *   return type === 'exclude' && attribute === 'category';\n * }).search();\n */\nAlgoliaSearchHelper.prototype.clearRefinements = function (name) {\n  this._change({\n    state: this.state.resetPage().clearRefinements(name),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Remove all the tag filters.\n *\n * This method resets the current page to 0.\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.clearTags = function () {\n  this._change({\n    state: this.state.resetPage().clearTags(),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Adds a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveFacetRefinement = function (\n  facet,\n  value\n) {\n  this._change({\n    state: this.state.resetPage().addDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveRefine = function () {\n  return this.addDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds a refinement on a hierarchical facet. It will throw\n * an exception if the facet is not defined or if the facet\n * is already refined.\n *\n * This method resets the current page to 0.\n * @param {string} facet the facet name\n * @param {string} path the hierarchical facet path\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @throws Error if the facet is not defined or if the facet is refined\n * @chainable\n * @fires change\n */\nAlgoliaSearchHelper.prototype.addHierarchicalFacetRefinement = function (\n  facet,\n  path\n) {\n  this._change({\n    state: this.state.resetPage().addHierarchicalFacetRefinement(facet, path),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Adds a an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} operator the operator of the filter\n * @param  {number} value the value of the filter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addNumericRefinement = function (\n  attribute,\n  operator,\n  value\n) {\n  this._change({\n    state: this.state\n      .resetPage()\n      .addNumericRefinement(attribute, operator, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Adds a filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addFacetRefinement(facet, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addRefine = function () {\n  return this.addFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds a an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetExclusion = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addExcludeRefinement(facet, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.addExclude = function () {\n  return this.addFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds a tag filter with the `tag` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag the tag to add to the filter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addTag = function (tag) {\n  this._change({\n    state: this.state.resetPage().addTagRefinement(tag),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Removes an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * Some parameters are optional, triggering different behavior:\n *  - if the value is not provided, then all the numeric value will be removed for the\n *  specified attribute/operator couple.\n *  - if the operator is not provided either, then all the numeric filter on this attribute\n *  will be removed.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} [operator] the operator of the filter\n * @param  {number} [value] the value of the filter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeNumericRefinement = function (\n  attribute,\n  operator,\n  value\n) {\n  this._change({\n    state: this.state\n      .resetPage()\n      .removeNumericRefinement(attribute, operator, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Removes a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveFacetRefinement = function (\n  facet,\n  value\n) {\n  this._change({\n    state: this.state\n      .resetPage()\n      .removeDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveRefine = function () {\n  return this.removeDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes the refinement set on a hierarchical facet.\n * @param {string} facet the facet name\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @throws Error if the facet is not defined or if the facet is not refined\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeHierarchicalFacetRefinement = function (\n  facet\n) {\n  this._change({\n    state: this.state.resetPage().removeHierarchicalFacetRefinement(facet),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Removes a filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().removeFacetRefinement(facet, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeRefine = function () {\n  return this.removeFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetExclusion = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().removeExcludeRefinement(facet, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.removeExclude = function () {\n  return this.removeFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Removes a tag filter with the `tag` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove from the filter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeTag = function (tag) {\n  this._change({\n    state: this.state.resetPage().removeTagRefinement(tag),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Adds or removes an exclusion filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetExclusion = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleExcludeFacetRefinement(facet, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.toggleExclude = function () {\n  return this.toggleFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n * @deprecated since version 2.19.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefinement = function (facet, value) {\n  return this.toggleFacetRefinement(facet, value);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleFacetRefinement(facet, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefine = function () {\n  return this.toggleFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds or removes a tag filter with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove or add\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleTag = function (tag) {\n  this._change({\n    state: this.state.resetPage().toggleTagRefinement(tag),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Increments the page number by one.\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n * @example\n * helper.setPage(0).nextPage().getPage();\n * // returns 1\n */\nAlgoliaSearchHelper.prototype.nextPage = function () {\n  var page = this.state.page || 0;\n  return this.setPage(page + 1);\n};\n\n/**\n * Decrements the page number by one.\n * @fires change\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @chainable\n * @example\n * helper.setPage(1).previousPage().getPage();\n * // returns 0\n */\nAlgoliaSearchHelper.prototype.previousPage = function () {\n  var page = this.state.page || 0;\n  return this.setPage(page - 1);\n};\n\n/**\n * @private\n * @param {number} page The page number\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @chainable\n * @fires change\n */\nfunction setCurrentPage(page) {\n  if (page < 0) throw new Error('Page requested below 0.');\n\n  this._change({\n    state: this.state.setPage(page),\n    isPageReset: false,\n  });\n\n  return this;\n}\n\n/**\n * Change the current page\n * @deprecated\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setCurrentPage = setCurrentPage;\n\n/**\n * Updates the current page.\n * @function\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setPage = setCurrentPage;\n\n/**\n * Updates the name of the index that will be targeted by the query.\n *\n * This method resets the current page to 0.\n * @param {string} name the index name\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setIndex = function (name) {\n  this._change({\n    state: this.state.resetPage().setIndex(name),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Update a parameter of the search. This method reset the page\n *\n * The complete list of parameters is available on the\n * [Algolia website](https://www.algolia.com/doc/rest#query-an-index).\n * The most commonly used parameters have their own [shortcuts](#query-parameters-shortcuts)\n * or benefit from higher-level APIs (all the kind of filters and facets have their own API)\n *\n * This method resets the current page to 0.\n * @param {string} parameter name of the parameter to update\n * @param {any} value new value of the parameter\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n * @example\n * helper.setQueryParameter('hitsPerPage', 20).search();\n */\nAlgoliaSearchHelper.prototype.setQueryParameter = function (parameter, value) {\n  this._change({\n    state: this.state.resetPage().setQueryParameter(parameter, value),\n    isPageReset: true,\n  });\n\n  return this;\n};\n\n/**\n * Set the whole state (warning: will erase previous state)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setState = function (newState) {\n  this._change({\n    state: SearchParameters.make(newState),\n    isPageReset: false,\n  });\n\n  return this;\n};\n\n/**\n * Override the current state without triggering a change event.\n * Do not use this method unless you know what you are doing. (see the example\n * for a legit use case)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n * @example\n *  helper.on('change', function(state){\n *    // In this function you might want to find a way to store the state in the url/history\n *    updateYourURL(state)\n *  })\n *  window.onpopstate = function(event){\n *    // This is naive though as you should check if the state is really defined etc.\n *    helper.overrideStateWithoutTriggeringChangeEvent(event.state).search()\n *  }\n * @chainable\n */\nAlgoliaSearchHelper.prototype.overrideStateWithoutTriggeringChangeEvent =\n  function (newState) {\n    this.state = new SearchParameters(newState);\n    return this;\n  };\n\n/**\n * Check if an attribute has any numeric, conjunctive, disjunctive or hierarchical filters.\n * @param {string} attribute the name of the attribute\n * @return {boolean} true if the attribute is filtered by at least one value\n * @example\n * // hasRefinements works with numeric, conjunctive, disjunctive and hierarchical filters\n * helper.hasRefinements('price'); // false\n * helper.addNumericRefinement('price', '>', 100);\n * helper.hasRefinements('price'); // true\n *\n * helper.hasRefinements('color'); // false\n * helper.addFacetRefinement('color', 'blue');\n * helper.hasRefinements('color'); // true\n *\n * helper.hasRefinements('material'); // false\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * helper.hasRefinements('material'); // true\n *\n * helper.hasRefinements('categories'); // false\n * helper.toggleFacetRefinement('categories', 'kitchen > knife');\n * helper.hasRefinements('categories'); // true\n *\n */\nAlgoliaSearchHelper.prototype.hasRefinements = function (attribute) {\n  if (objectHasKeys(this.state.getNumericRefinements(attribute))) {\n    return true;\n  } else if (this.state.isConjunctiveFacet(attribute)) {\n    return this.state.isFacetRefined(attribute);\n  } else if (this.state.isDisjunctiveFacet(attribute)) {\n    return this.state.isDisjunctiveFacetRefined(attribute);\n  } else if (this.state.isHierarchicalFacet(attribute)) {\n    return this.state.isHierarchicalFacetRefined(attribute);\n  }\n\n  // there's currently no way to know that the user did call `addNumericRefinement` at some point\n  // thus we cannot distinguish if there once was a numeric refinement that was cleared\n  // so we will return false in every other situations to be consistent\n  // while what we should do here is throw because we did not find the attribute in any type\n  // of refinement\n  return false;\n};\n\n/**\n * Check if a value is excluded for a specific faceted attribute. If the value\n * is omitted then the function checks if there is any excluding refinements.\n *\n * @param  {string}  facet name of the attribute for used for faceting\n * @param  {string}  [value] optional value. If passed will test that this value\n * is filtering the given facet.\n * @return {boolean} true if refined\n * @example\n * helper.isExcludeRefined('color'); // false\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // false\n *\n * helper.addFacetExclusion('color', 'red');\n *\n * helper.isExcludeRefined('color'); // true\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // true\n */\nAlgoliaSearchHelper.prototype.isExcluded = function (facet, value) {\n  return this.state.isExcludeRefined(facet, value);\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasRefinements}\n */\nAlgoliaSearchHelper.prototype.isDisjunctiveRefined = function (facet, value) {\n  return this.state.isDisjunctiveFacetRefined(facet, value);\n};\n\n/**\n * Check if the string is a currently filtering tag.\n * @param {string} tag tag to check\n * @return {boolean} true if the tag is currently refined\n */\nAlgoliaSearchHelper.prototype.hasTag = function (tag) {\n  return this.state.isTagRefined(tag);\n};\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasTag}\n */\nAlgoliaSearchHelper.prototype.isTagRefined = function () {\n  return this.hasTagRefinements.apply(this, arguments);\n};\n\n/**\n * Get the name of the currently used index.\n * @return {string} name of the index\n * @example\n * helper.setIndex('highestPrice_products').getIndex();\n * // returns 'highestPrice_products'\n */\nAlgoliaSearchHelper.prototype.getIndex = function () {\n  return this.state.index;\n};\n\nfunction getCurrentPage() {\n  return this.state.page;\n}\n\n/**\n * Get the currently selected page\n * @deprecated\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getCurrentPage = getCurrentPage;\n/**\n * Get the currently selected page\n * @function\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getPage = getCurrentPage;\n\n/**\n * Get all the tags currently set to filters the results.\n *\n * @return {string[]} The list of tags currently set.\n */\nAlgoliaSearchHelper.prototype.getTags = function () {\n  return this.state.tagRefinements;\n};\n\n/**\n * Get the list of refinements for a given attribute. This method works with\n * conjunctive, disjunctive, excluding and numerical filters.\n *\n * See also SearchResults#getRefinements\n *\n * @param {string} facetName attribute name used for faceting\n * @return {Array.<FacetRefinement|NumericRefinement>} All Refinement are objects that contain a value, and\n * a type. Numeric also contains an operator.\n * @example\n * helper.addNumericRefinement('price', '>', 100);\n * helper.getRefinements('price');\n * // [\n * //   {\n * //     \"value\": [\n * //       100\n * //     ],\n * //     \"operator\": \">\",\n * //     \"type\": \"numeric\"\n * //   }\n * // ]\n * @example\n * helper.addFacetRefinement('color', 'blue');\n * helper.addFacetExclusion('color', 'red');\n * helper.getRefinements('color');\n * // [\n * //   {\n * //     \"value\": \"blue\",\n * //     \"type\": \"conjunctive\"\n * //   },\n * //   {\n * //     \"value\": \"red\",\n * //     \"type\": \"exclude\"\n * //   }\n * // ]\n * @example\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * // [\n * //   {\n * //     \"value\": \"plastic\",\n * //     \"type\": \"disjunctive\"\n * //   }\n * // ]\n */\nAlgoliaSearchHelper.prototype.getRefinements = function (facetName) {\n  var refinements = [];\n\n  if (this.state.isConjunctiveFacet(facetName)) {\n    var conjRefinements = this.state.getConjunctiveRefinements(facetName);\n\n    conjRefinements.forEach(function (r) {\n      refinements.push({\n        value: r,\n        type: 'conjunctive',\n      });\n    });\n\n    var excludeRefinements = this.state.getExcludeRefinements(facetName);\n\n    excludeRefinements.forEach(function (r) {\n      refinements.push({\n        value: r,\n        type: 'exclude',\n      });\n    });\n  } else if (this.state.isDisjunctiveFacet(facetName)) {\n    var disjunctiveRefinements =\n      this.state.getDisjunctiveRefinements(facetName);\n\n    disjunctiveRefinements.forEach(function (r) {\n      refinements.push({\n        value: r,\n        type: 'disjunctive',\n      });\n    });\n  }\n\n  var numericRefinements = this.state.getNumericRefinements(facetName);\n\n  Object.keys(numericRefinements).forEach(function (operator) {\n    var value = numericRefinements[operator];\n\n    refinements.push({\n      value: value,\n      operator: operator,\n      type: 'numeric',\n    });\n  });\n\n  return refinements;\n};\n\n/**\n * Return the current refinement for the (attribute, operator)\n * @param {string} attribute attribute in the record\n * @param {string} operator operator applied on the refined values\n * @return {Array.<number|number[]>} refined values\n */\nAlgoliaSearchHelper.prototype.getNumericRefinement = function (\n  attribute,\n  operator\n) {\n  return this.state.getNumericRefinement(attribute, operator);\n};\n\n/**\n * Get the current breadcrumb for a hierarchical facet, as an array\n * @param  {string} facetName Hierarchical facet name\n * @return {array.<string>} the path as an array of string\n */\nAlgoliaSearchHelper.prototype.getHierarchicalFacetBreadcrumb = function (\n  facetName\n) {\n  return this.state.getHierarchicalFacetBreadcrumb(facetName);\n};\n\n// /////////// PRIVATE\n\n/**\n * Perform the underlying queries\n * @private\n * @param {object} options options for the query\n * @param {boolean} [options.onlyWithDerivedHelpers=false] if true, only the derived helpers will be queried\n * @return {undefined} does not return anything\n * @fires search\n * @fires result\n * @fires error\n */\nAlgoliaSearchHelper.prototype._search = function (options) {\n  var state = this.state;\n  var states = [];\n  var mainQueries = [];\n\n  if (!options.onlyWithDerivedHelpers) {\n    mainQueries = requestBuilder._getQueries(state.index, state);\n\n    states.push({\n      state: state,\n      queriesCount: mainQueries.length,\n      helper: this,\n    });\n\n    this.emit('search', {\n      state: state,\n      results: this.lastResults,\n    });\n  }\n\n  var derivedQueries = this.derivedHelpers.map(function (derivedHelper) {\n    var derivedState = derivedHelper.getModifiedState(state);\n    var derivedStateQueries = derivedState.index\n      ? requestBuilder._getQueries(derivedState.index, derivedState)\n      : [];\n\n    states.push({\n      state: derivedState,\n      queriesCount: derivedStateQueries.length,\n      helper: derivedHelper,\n    });\n\n    derivedHelper.emit('search', {\n      state: derivedState,\n      results: derivedHelper.lastResults,\n    });\n\n    return derivedStateQueries;\n  });\n\n  var queries = Array.prototype.concat.apply(mainQueries, derivedQueries);\n\n  var queryId = this._queryId++;\n  this._currentNbQueries++;\n\n  if (!queries.length) {\n    return Promise.resolve({ results: [] }).then(\n      this._dispatchAlgoliaResponse.bind(this, states, queryId)\n    );\n  }\n\n  try {\n    this.client\n      .search(queries)\n      .then(this._dispatchAlgoliaResponse.bind(this, states, queryId))\n      .catch(this._dispatchAlgoliaError.bind(this, queryId));\n  } catch (error) {\n    // If we reach this part, we're in an internal error state\n    this.emit('error', {\n      error: error,\n    });\n  }\n\n  return undefined;\n};\n\n/**\n * Transform the responses as sent by the server and transform them into a user\n * usable object that merge the results of all the batch requests. It will dispatch\n * over the different helper + derived helpers (when there are some).\n * @private\n * @param {array.<{SearchParameters, AlgoliaQueries, AlgoliaSearchHelper}>} states state used to generate the request\n * @param {number} queryId id of the current request\n * @param {object} content content of the response\n * @return {undefined}\n */\nAlgoliaSearchHelper.prototype._dispatchAlgoliaResponse = function (\n  states,\n  queryId,\n  content\n) {\n  // @TODO remove the number of outdated queries discarded instead of just one\n\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n\n  var results = content.results.slice();\n\n  states.forEach(function (s) {\n    var state = s.state;\n    var queriesCount = s.queriesCount;\n    var helper = s.helper;\n    var specificResults = results.splice(0, queriesCount);\n\n    if (!state.index) {\n      helper.emit('result', {\n        results: null,\n        state: state,\n      });\n      return;\n    }\n\n    helper.lastResults = new SearchResults(state, specificResults);\n\n    helper.emit('result', {\n      results: helper.lastResults,\n      state: state,\n    });\n  });\n};\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaError = function (\n  queryId,\n  error\n) {\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n\n  this.emit('error', {\n    error: error,\n  });\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n};\n\nAlgoliaSearchHelper.prototype.containsRefinement = function (\n  query,\n  facetFilters,\n  numericFilters,\n  tagFilters\n) {\n  return (\n    query ||\n    facetFilters.length !== 0 ||\n    numericFilters.length !== 0 ||\n    tagFilters.length !== 0\n  );\n};\n\n/**\n * Test if there are some disjunctive refinements on the facet\n * @private\n * @param {string} facet the attribute to test\n * @return {boolean} true if there are refinements on this attribute\n */\nAlgoliaSearchHelper.prototype._hasDisjunctiveRefinements = function (facet) {\n  return (\n    this.state.disjunctiveRefinements[facet] &&\n    this.state.disjunctiveRefinements[facet].length > 0\n  );\n};\n\nAlgoliaSearchHelper.prototype._change = function (event) {\n  var state = event.state;\n  var isPageReset = event.isPageReset;\n\n  if (state !== this.state) {\n    this.state = state;\n\n    this.emit('change', {\n      state: this.state,\n      results: this.lastResults,\n      isPageReset: isPageReset,\n    });\n  }\n};\n\n/**\n * Clears the cache of the underlying Algolia client.\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n */\nAlgoliaSearchHelper.prototype.clearCache = function () {\n  if (this.client.clearCache) this.client.clearCache();\n  return this;\n};\n\n/**\n * Updates the internal client instance. If the reference of the clients\n * are equal then no update is actually done.\n * @param  {AlgoliaSearch} newClient an AlgoliaSearch client\n * @return {AlgoliaSearchHelper} Method is chainable, it returns itself\n */\nAlgoliaSearchHelper.prototype.setClient = function (newClient) {\n  if (this.client === newClient) return this;\n\n  if (typeof newClient.addAlgoliaAgent === 'function') {\n    newClient.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n  this.client = newClient;\n\n  return this;\n};\n\n/**\n * Gets the instance of the currently used client.\n * @return {AlgoliaSearch} the currently used client\n */\nAlgoliaSearchHelper.prototype.getClient = function () {\n  return this.client;\n};\n\n/**\n * Creates an derived instance of the Helper. A derived helper\n * is a way to request other indices synchronised with the lifecycle\n * of the main Helper. This mechanism uses the multiqueries feature\n * of Algolia to aggregate all the requests in a single network call.\n *\n * This method takes a function that is used to create a new SearchParameter\n * that will be used to create requests to Algolia. Those new requests\n * are created just before the `search` event. The signature of the function\n * is `SearchParameters -> SearchParameters`.\n *\n * This method returns a new DerivedHelper which is an EventEmitter\n * that fires the same `search`, `result` and `error` events. Those\n * events, however, will receive data specific to this DerivedHelper\n * and the SearchParameters that is returned by the call of the\n * parameter function.\n * @param {function} fn SearchParameters -> SearchParameters\n * @return {DerivedHelper} a new DerivedHelper\n */\nAlgoliaSearchHelper.prototype.derive = function (fn) {\n  var derivedHelper = new DerivedHelper(this, fn);\n  this.derivedHelpers.push(derivedHelper);\n  return derivedHelper;\n};\n\n/**\n * This method detaches a derived Helper from the main one. Prefer using the one from the\n * derived helper itself, to remove the event listeners too.\n * @private\n * @param  {DerivedHelper} derivedHelper the derived helper to detach\n * @return {undefined} nothing is returned\n * @throws Error\n */\nAlgoliaSearchHelper.prototype.detachDerivedHelper = function (derivedHelper) {\n  var pos = this.derivedHelpers.indexOf(derivedHelper);\n  if (pos === -1) throw new Error('Derived helper already detached');\n  this.derivedHelpers.splice(pos, 1);\n};\n\n/**\n * This method returns true if there is currently at least one on-going search.\n * @return {boolean} true if there is a search pending\n */\nAlgoliaSearchHelper.prototype.hasPendingRequests = function () {\n  return this._currentNbQueries > 0;\n};\n\n/**\n * @typedef AlgoliaSearchHelper.NumericRefinement\n * @type {object}\n * @property {number[]} value the numbers that are used for filtering this attribute with\n * the operator specified.\n * @property {string} operator the faceting data: value, number of entries\n * @property {string} type will be 'numeric'\n */\n\n/**\n * @typedef AlgoliaSearchHelper.FacetRefinement\n * @type {object}\n * @property {string} value the string use to filter the attribute\n * @property {string} type the type of filter: 'conjunctive', 'disjunctive', 'exclude'\n */\n\nmodule.exports = AlgoliaSearchHelper;\n","'use strict';\n\nmodule.exports = function compact(array) {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n\n  return array.filter(Boolean);\n};\n","'use strict';\n\n// NOTE: this behaves like lodash/defaults, but doesn't mutate the target\n// it also preserve keys order\nmodule.exports = function defaultsPure() {\n  var sources = Array.prototype.slice.call(arguments);\n\n  return sources.reduceRight(function (acc, source) {\n    Object.keys(Object(source)).forEach(function (key) {\n      if (source[key] === undefined) {\n        return;\n      }\n      if (acc[key] !== undefined) {\n        // remove if already added, so that we can add it in correct order\n        // eslint-disable-next-line no-param-reassign\n        delete acc[key];\n      }\n      // eslint-disable-next-line no-param-reassign\n      acc[key] = source[key];\n    });\n    return acc;\n  }, {});\n};\n","'use strict';\n\n/**\n * Replaces a leading - with \\-\n * @private\n * @param {any} value the facet value to replace\n * @returns {any} the escaped facet value or the value if it was not a string\n */\nfunction escapeFacetValue(value) {\n  if (typeof value !== 'string') return value;\n\n  return String(value).replace(/^-/, '\\\\-');\n}\n\n/**\n * Replaces a leading \\- with -\n * @private\n * @param {any} value the escaped facet value\n * @returns {any} the unescaped facet value or the value if it was not a string\n */\nfunction unescapeFacetValue(value) {\n  if (typeof value !== 'string') return value;\n\n  return value.replace(/^\\\\-/, '-');\n}\n\nmodule.exports = {\n  escapeFacetValue: escapeFacetValue,\n  unescapeFacetValue: unescapeFacetValue,\n};\n","'use strict';\n\n// @MAJOR can be replaced by native Array#find when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n\n  return undefined;\n};\n","'use strict';\n\n// @MAJOR can be replaced by native Array#findIndex when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n};\n","'use strict';\n\nvar find = require('./find');\n\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function (sort) {\n    return sort.split(':');\n  });\n\n  return sortBy.reduce(\n    function preparePredicate(out, sort) {\n      var sortInstruction = sort.split(':');\n\n      var matchingDefault = find(\n        defaultInstructions,\n        function (defaultInstruction) {\n          return defaultInstruction[0] === sortInstruction[0];\n        }\n      );\n\n      if (sortInstruction.length > 1 || !matchingDefault) {\n        out[0].push(sortInstruction[0]);\n        out[1].push(sortInstruction[1]);\n        return out;\n      }\n\n      out[0].push(matchingDefault[0]);\n      out[1].push(matchingDefault[1]);\n      return out;\n    },\n    [[], []]\n  );\n};\n","'use strict';\n\nfunction inherits(ctor, superCtor) {\n  // eslint-disable-next-line no-param-reassign\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true,\n    },\n  });\n}\n\nmodule.exports = inherits;\n","'use strict';\n\nfunction intersection(arr1, arr2) {\n  return arr1.filter(function (value, index) {\n    return (\n      arr2.indexOf(value) > -1 &&\n      arr1.indexOf(value) === index /* skips duplicates */\n    );\n  });\n}\n\nmodule.exports = intersection;\n","'use strict';\n\nfunction clone(value) {\n  if (typeof value === 'object' && value !== null) {\n    return _merge(Array.isArray(value) ? [] : {}, value);\n  }\n  return value;\n}\n\nfunction isObjectOrArrayOrFunction(value) {\n  return (\n    typeof value === 'function' ||\n    Array.isArray(value) ||\n    Object.prototype.toString.call(value) === '[object Object]'\n  );\n}\n\nfunction _merge(target, source) {\n  if (target === source) {\n    return target;\n  }\n\n  for (var key in source) {\n    if (\n      !Object.prototype.hasOwnProperty.call(source, key) ||\n      key === '__proto__' ||\n      key === 'constructor'\n    ) {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    var sourceVal = source[key];\n    var targetVal = target[key];\n\n    if (typeof targetVal !== 'undefined' && typeof sourceVal === 'undefined') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (\n      isObjectOrArrayOrFunction(targetVal) &&\n      isObjectOrArrayOrFunction(sourceVal)\n    ) {\n      // eslint-disable-next-line no-param-reassign\n      target[key] = _merge(targetVal, sourceVal);\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      target[key] = clone(sourceVal);\n    }\n  }\n  return target;\n}\n\n/**\n * This method is like Object.assign, but recursively merges own and inherited\n * enumerable keyed properties of source objects into the destination object.\n *\n * NOTE: this behaves like lodash/merge, but:\n * - does mutate functions if they are a source\n * - treats non-plain objects as plain\n * - does not work for circular objects\n * - treats sparse arrays as sparse\n * - does not convert Array-like objects (Arguments, NodeLists, etc.) to arrays\n *\n * @param {Object} target The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n */\nfunction merge(target) {\n  if (!isObjectOrArrayOrFunction(target)) {\n    // eslint-disable-next-line no-param-reassign\n    target = {};\n  }\n\n  for (var i = 1, l = arguments.length; i < l; i++) {\n    var source = arguments[i];\n\n    if (isObjectOrArrayOrFunction(source)) {\n      _merge(target, source);\n    }\n  }\n  return target;\n}\n\nmodule.exports = merge;\n","'use strict';\n\nfunction objectHasKeys(obj) {\n  return obj && Object.keys(obj).length > 0;\n}\n\nmodule.exports = objectHasKeys;\n","'use strict';\n\n// https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source === null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key;\n  var i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    // eslint-disable-next-line no-continue\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n","'use strict';\n\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined;\n    var valIsNull = value === null;\n\n    var othIsDefined = other !== undefined;\n    var othIsNull = other === null;\n\n    if (\n      (!othIsNull && value > other) ||\n      (valIsNull && othIsDefined) ||\n      !valIsDefined\n    ) {\n      return 1;\n    }\n    if (\n      (!valIsNull && value < other) ||\n      (othIsNull && valIsDefined) ||\n      !othIsDefined\n    ) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\n/**\n * @param {Array<object>} collection object with keys in attributes\n * @param {Array<string>} iteratees attributes\n * @param {Array<string>} orders asc | desc\n * @return {Array<object>} sorted collection\n */\nfunction orderBy(collection, iteratees, orders) {\n  if (!Array.isArray(collection)) {\n    return [];\n  }\n\n  if (!Array.isArray(orders)) {\n    // eslint-disable-next-line no-param-reassign\n    orders = [];\n  }\n\n  var result = collection.map(function (value, index) {\n    return {\n      criteria: iteratees.map(function (iteratee) {\n        return value[iteratee];\n      }),\n      index: index,\n      value: value,\n    };\n  });\n\n  result.sort(function comparer(object, other) {\n    var index = -1;\n\n    while (++index < object.criteria.length) {\n      var res = compareAscending(object.criteria[index], other.criteria[index]);\n      if (res) {\n        if (index >= orders.length) {\n          return res;\n        }\n        if (orders[index] === 'desc') {\n          return -res;\n        }\n        return res;\n      }\n    }\n\n    // This ensures a stable sort in V8 and other engines.\n    // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  });\n\n  return result.map(function (res) {\n    return res.value;\n  });\n}\n\nmodule.exports = orderBy;\n","'use strict';\n\nfunction valToNumber(v) {\n  if (typeof v === 'number') {\n    return v;\n  } else if (typeof v === 'string') {\n    return parseFloat(v);\n  } else if (Array.isArray(v)) {\n    return v.map(valToNumber);\n  }\n\n  throw new Error(\n    'The value should be a number, a parsable string or an array of those.'\n  );\n}\n\nmodule.exports = valToNumber;\n","'use strict';\n\nvar merge = require('./functions/merge');\n\nfunction sortObject(obj) {\n  return Object.keys(obj)\n    .sort(function (a, b) {\n      return a.localeCompare(b);\n    })\n    .reduce(function (acc, curr) {\n      // eslint-disable-next-line no-param-reassign\n      acc[curr] = obj[curr];\n      return acc;\n    }, {});\n}\n\nvar requestBuilder = {\n  /**\n   * Get all the queries to send to the client, those queries can used directly\n   * with the Algolia client.\n   * @private\n   * @param  {string} index The name of the index\n   * @param  {SearchParameters} state The state from which to get the queries\n   * @return {object[]} The queries\n   */\n  _getQueries: function getQueries(index, state) {\n    var queries = [];\n\n    // One query for the hits\n    queries.push({\n      indexName: index,\n      params: requestBuilder._getHitsSearchParams(state),\n    });\n\n    // One for each disjunctive facets\n    state.getRefinedDisjunctiveFacets().forEach(function (refinedFacet) {\n      queries.push({\n        indexName: index,\n        params: requestBuilder._getDisjunctiveFacetSearchParams(\n          state,\n          refinedFacet\n        ),\n      });\n    });\n\n    // More to get the parent levels of the hierarchical facets when refined\n    state.getRefinedHierarchicalFacets().forEach(function (refinedFacet) {\n      var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n      var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n      // If we are deeper than level 0 (starting from `beer > IPA`)\n      // we want to get all parent values\n      if (\n        currentRefinement.length > 0 &&\n        currentRefinement[0].split(separator).length > 1\n      ) {\n        // We generate a map of the filters we will use for our facet values queries\n        var filtersMap = currentRefinement[0]\n          .split(separator)\n          .slice(0, -1)\n          .reduce(function createFiltersMap(map, segment, level) {\n            return map.concat({\n              attribute: hierarchicalFacet.attributes[level],\n              value:\n                level === 0\n                  ? segment\n                  : [map[map.length - 1].value, segment].join(separator),\n            });\n          }, []);\n\n        filtersMap.forEach(function (filter, level) {\n          var params = requestBuilder._getDisjunctiveFacetSearchParams(\n            state,\n            filter.attribute,\n            level === 0\n          );\n\n          // Keep facet filters unrelated to current hierarchical attributes\n          function hasHierarchicalFacetFilter(value) {\n            return hierarchicalFacet.attributes.some(function (attribute) {\n              return attribute === value.split(':')[0];\n            });\n          }\n\n          var filteredFacetFilters = (params.facetFilters || []).reduce(\n            function (acc, facetFilter) {\n              if (Array.isArray(facetFilter)) {\n                var filtered = facetFilter.filter(function (filterValue) {\n                  return !hasHierarchicalFacetFilter(filterValue);\n                });\n\n                if (filtered.length > 0) {\n                  acc.push(filtered);\n                }\n              }\n\n              if (\n                typeof facetFilter === 'string' &&\n                !hasHierarchicalFacetFilter(facetFilter)\n              ) {\n                acc.push(facetFilter);\n              }\n\n              return acc;\n            },\n            []\n          );\n\n          var parent = filtersMap[level - 1];\n          if (level > 0) {\n            params.facetFilters = filteredFacetFilters.concat(\n              parent.attribute + ':' + parent.value\n            );\n          } else {\n            params.facetFilters =\n              filteredFacetFilters.length > 0\n                ? filteredFacetFilters\n                : undefined;\n          }\n\n          queries.push({ indexName: index, params: params });\n        });\n      }\n    });\n\n    return queries;\n  },\n\n  /**\n   * Build search parameters used to fetch hits\n   * @private\n   * @param  {SearchParameters} state The state from which to get the queries\n   * @return {object.<string, any>} The search parameters for hits\n   */\n  _getHitsSearchParams: function (state) {\n    var facets = state.facets\n      .concat(state.disjunctiveFacets)\n      .concat(requestBuilder._getHitsHierarchicalFacetsAttributes(state));\n\n    var facetFilters = requestBuilder._getFacetFilters(state);\n    var numericFilters = requestBuilder._getNumericFilters(state);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      facets: facets.indexOf('*') > -1 ? ['*'] : facets,\n      tagFilters: tagFilters,\n    };\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    return sortObject(merge({}, state.getQueryParams(), additionalParams));\n  },\n\n  /**\n   * Build search parameters used to fetch a disjunctive facet\n   * @private\n   * @param  {SearchParameters} state The state from which to get the queries\n   * @param  {string} facet the associated facet name\n   * @param  {boolean} hierarchicalRootLevel ?? FIXME\n   * @return {object} The search parameters for a disjunctive facet\n   */\n  _getDisjunctiveFacetSearchParams: function (\n    state,\n    facet,\n    hierarchicalRootLevel\n  ) {\n    var facetFilters = requestBuilder._getFacetFilters(\n      state,\n      facet,\n      hierarchicalRootLevel\n    );\n    var numericFilters = requestBuilder._getNumericFilters(state, facet);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      hitsPerPage: 0,\n      page: 0,\n      analytics: false,\n      clickAnalytics: false,\n    };\n\n    if (tagFilters.length > 0) {\n      additionalParams.tagFilters = tagFilters;\n    }\n\n    var hierarchicalFacet = state.getHierarchicalFacetByName(facet);\n\n    if (hierarchicalFacet) {\n      additionalParams.facets =\n        requestBuilder._getDisjunctiveHierarchicalFacetAttribute(\n          state,\n          hierarchicalFacet,\n          hierarchicalRootLevel\n        );\n    } else {\n      additionalParams.facets = facet;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    return sortObject(merge({}, state.getQueryParams(), additionalParams));\n  },\n\n  /**\n   * Return the numeric filters in an algolia request fashion\n   * @private\n   * @param {SearchParameters} state the state from which to get the filters\n   * @param {string} [facetName] the name of the attribute for which the filters should be excluded\n   * @return {string[]} the numeric filters in the algolia format\n   */\n  _getNumericFilters: function (state, facetName) {\n    if (state.numericFilters) {\n      return state.numericFilters;\n    }\n\n    var numericFilters = [];\n\n    Object.keys(state.numericRefinements).forEach(function (attribute) {\n      var operators = state.numericRefinements[attribute] || {};\n      Object.keys(operators).forEach(function (operator) {\n        var values = operators[operator] || [];\n        if (facetName !== attribute) {\n          values.forEach(function (value) {\n            if (Array.isArray(value)) {\n              var vs = value.map(function (v) {\n                return attribute + operator + v;\n              });\n              numericFilters.push(vs);\n            } else {\n              numericFilters.push(attribute + operator + value);\n            }\n          });\n        }\n      });\n    });\n\n    return numericFilters;\n  },\n\n  /**\n   * Return the tags filters depending on which format is used, either tagFilters or tagRefinements\n   * @private\n   * @param {SearchParameters} state the state from which to get the filters\n   * @return {string} Tag filters in a single string\n   */\n  _getTagFilters: function (state) {\n    if (state.tagFilters) {\n      return state.tagFilters;\n    }\n\n    return state.tagRefinements.join(',');\n  },\n\n  /**\n   * Build facetFilters parameter based on current refinements. The array returned\n   * contains strings representing the facet filters in the algolia format.\n   * @private\n   * @param  {SearchParameters} state The state from which to get the queries\n   * @param  {string} [facet] if set, the current disjunctive facet\n   * @param  {boolean} [hierarchicalRootLevel] ?? FIXME\n   * @return {array.<string>} The facet filters in the algolia format\n   */\n  _getFacetFilters: function (state, facet, hierarchicalRootLevel) {\n    var facetFilters = [];\n\n    var facetsRefinements = state.facetsRefinements || {};\n    Object.keys(facetsRefinements).forEach(function (facetName) {\n      var facetValues = facetsRefinements[facetName] || [];\n      facetValues.forEach(function (facetValue) {\n        facetFilters.push(facetName + ':' + facetValue);\n      });\n    });\n\n    var facetsExcludes = state.facetsExcludes || {};\n    Object.keys(facetsExcludes).forEach(function (facetName) {\n      var facetValues = facetsExcludes[facetName] || [];\n      facetValues.forEach(function (facetValue) {\n        facetFilters.push(facetName + ':-' + facetValue);\n      });\n    });\n\n    var disjunctiveFacetsRefinements = state.disjunctiveFacetsRefinements || {};\n    Object.keys(disjunctiveFacetsRefinements).forEach(function (facetName) {\n      var facetValues = disjunctiveFacetsRefinements[facetName] || [];\n      if (facetName === facet || !facetValues || facetValues.length === 0) {\n        return;\n      }\n      var orFilters = [];\n\n      facetValues.forEach(function (facetValue) {\n        orFilters.push(facetName + ':' + facetValue);\n      });\n\n      facetFilters.push(orFilters);\n    });\n\n    var hierarchicalFacetsRefinements =\n      state.hierarchicalFacetsRefinements || {};\n    Object.keys(hierarchicalFacetsRefinements).forEach(function (facetName) {\n      var facetValues = hierarchicalFacetsRefinements[facetName] || [];\n      var facetValue = facetValues[0];\n\n      if (facetValue === undefined) {\n        return;\n      }\n\n      var hierarchicalFacet = state.getHierarchicalFacetByName(facetName);\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeToRefine;\n      var attributesIndex;\n\n      // we ask for parent facet values only when the `facet` is the current hierarchical facet\n      if (facet === facetName) {\n        // if we are at the root level already, no need to ask for facet values, we get them from\n        // the hits query\n        if (\n          facetValue.indexOf(separator) === -1 ||\n          (!rootPath && hierarchicalRootLevel === true) ||\n          (rootPath &&\n            rootPath.split(separator).length ===\n              facetValue.split(separator).length)\n        ) {\n          return;\n        }\n\n        if (!rootPath) {\n          attributesIndex = facetValue.split(separator).length - 2;\n          facetValue = facetValue.slice(0, facetValue.lastIndexOf(separator));\n        } else {\n          attributesIndex = rootPath.split(separator).length - 1;\n          facetValue = rootPath;\n        }\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      } else {\n        attributesIndex = facetValue.split(separator).length - 1;\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      }\n\n      if (attributeToRefine) {\n        facetFilters.push([attributeToRefine + ':' + facetValue]);\n      }\n    });\n\n    return facetFilters;\n  },\n\n  _getHitsHierarchicalFacetsAttributes: function (state) {\n    var out = [];\n\n    return state.hierarchicalFacets.reduce(\n      // ask for as much levels as there's hierarchical refinements\n      function getHitsAttributesForHierarchicalFacet(\n        allAttributes,\n        hierarchicalFacet\n      ) {\n        var hierarchicalRefinement = state.getHierarchicalRefinement(\n          hierarchicalFacet.name\n        )[0];\n\n        // if no refinement, ask for root level\n        if (!hierarchicalRefinement) {\n          allAttributes.push(hierarchicalFacet.attributes[0]);\n          return allAttributes;\n        }\n\n        var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        var level = hierarchicalRefinement.split(separator).length;\n        var newAttributes = hierarchicalFacet.attributes.slice(0, level + 1);\n\n        return allAttributes.concat(newAttributes);\n      },\n      out\n    );\n  },\n\n  _getDisjunctiveHierarchicalFacetAttribute: function (\n    state,\n    hierarchicalFacet,\n    rootLevel\n  ) {\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n    if (rootLevel === true) {\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeIndex = 0;\n\n      if (rootPath) {\n        attributeIndex = rootPath.split(separator).length;\n      }\n      return [hierarchicalFacet.attributes[attributeIndex]];\n    }\n\n    var hierarchicalRefinement =\n      state.getHierarchicalRefinement(hierarchicalFacet.name)[0] || '';\n    // if refinement is 'beers > IPA > Flying dog',\n    // then we want `facets: ['beers > IPA']` as disjunctive facet (parent level values)\n\n    var parentLevel = hierarchicalRefinement.split(separator).length - 1;\n    return hierarchicalFacet.attributes.slice(0, parentLevel + 1);\n  },\n\n  getSearchForFacetQuery: function (facetName, query, maxFacetHits, state) {\n    var stateForSearchForFacetValues = state.isDisjunctiveFacet(facetName)\n      ? state.clearRefinements(facetName)\n      : state;\n    var searchForFacetSearchParameters = {\n      facetQuery: query,\n      facetName: facetName,\n    };\n    if (typeof maxFacetHits === 'number') {\n      searchForFacetSearchParameters.maxFacetHits = maxFacetHits;\n    }\n    return sortObject(\n      merge(\n        {},\n        requestBuilder._getHitsSearchParams(stateForSearchForFacetValues),\n        searchForFacetSearchParameters\n      )\n    );\n  },\n};\n\nmodule.exports = requestBuilder;\n","'use strict';\n\nmodule.exports = function isValidUserToken(userToken) {\n  if (userToken === null) {\n    return false;\n  }\n  return /^[a-zA-Z0-9_-]{1,64}$/.test(userToken);\n};\n","'use strict';\n\nmodule.exports = '3.13.3';\n","/*! algoliasearch-lite.umd.js | 4.18.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).algoliasearch=t()}(this,(function(){\"use strict\";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function u(e){var t,r=\"algoliasearch-client-js-\".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(n().getItem(r)||\"{}\")},u=function(e){n().setItem(r,JSON.stringify(e))},i=function(){var t=e.timeToLive?1e3*e.timeToLive:null,r=a(),n=Object.fromEntries(Object.entries(r).filter((function(e){return void 0!==o(e,2)[1].timestamp})));if(u(n),t){var i=Object.fromEntries(Object.entries(n).filter((function(e){var r=o(e,2)[1],n=(new Date).getTime();return!(r.timestamp+t<n)})));u(i)}};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){i();var t=JSON.stringify(e);return a()[t]})).then((function(e){return Promise.all([e?e.value:t(),void 0!==e])})).then((function(e){var t=o(e,2),n=t[0],a=t[1];return Promise.all([n,a||r.miss(n)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var o=a();return o[JSON.stringify(e)]={timestamp:(new Date).getTime(),value:t},n().setItem(r,JSON.stringify(o)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],n().setItem(r,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(r)}))}}}function i(e){var t=a(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},n=t();return n.then((function(e){return Promise.all([e,r.miss(e)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,o).catch((function(){return i({caches:t}).get(e,n,o)}))},set:function(e,n){return r.set(e,n).catch((function(){return i({caches:t}).set(e,n)}))},delete:function(e){return r.delete(e).catch((function(){return i({caches:t}).delete(e)}))},clear:function(){return r.clear().catch((function(){return i({caches:t}).clear()}))}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var u=n(),i=o&&o.miss||function(){return Promise.resolve()};return u.then((function(e){return i(e)})).then((function(){return u}))},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e,t){return t?(Object.keys(t).forEach((function(r){e[r]=t[r](e)})),e):e}function f(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[o++])}))}var m={WithinQueryParameters:0,WithinHeaders:1};function h(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach((function(e){-1===[\"timeout\",\"headers\",\"queryParameters\",\"data\",\"cacheable\"].indexOf(e)&&(n[e]=r[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var d={Read:1,Write:2,Any:3},p=1,v=2,g=3;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return\"string\"==typeof e?{protocol:\"https\",url:e,accept:d.Any}:{protocol:e.protocol||\"https\",url:e.url,accept:e.accept||d.Any}}var O=\"GET\",P=\"POST\";function q(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(y(t))}))}))).then((function(e){var r=e.filter((function(e){return function(e){return e.status===p||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===g&&Date.now()-e.lastUpdate<=12e4}(e)})),o=[].concat(a(r),a(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:o.length>0?o.map((function(e){return b(e)})):t}}))}function j(e,t,n,o){var u=[],i=function(e,t){if(e.method===O||void 0===e.data&&void 0===t.data)return;var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}(n,o),s=function(e,t){var n=r(r({},e.headers),t.headers),o={};return Object.keys(n).forEach((function(e){var t=n[e];o[e.toLowerCase()]=t})),o}(e,o),c=n.method,l=n.method!==O?{}:r(r({},n.data),o.data),f=r(r(r({\"x-algolia-agent\":e.userAgent.value},e.queryParameters),l),o.queryParameters),m=0,h=function t(r,a){var l=r.pop();if(void 0===l)throw{name:\"RetryError\",message:\"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",transporterStackTrace:A(u)};var h={data:i,headers:s,method:c,url:S(l,n.path,f),connectTimeout:a(m,e.timeouts.connect),responseTimeout:a(m,o.timeout)},d=function(e){var t={request:h,response:e,host:l,triesLeft:r.length};return u.push(t),t},p={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:\"DeserializationError\",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var o=d(n);return n.isTimedOut&&m++,Promise.all([e.logger.info(\"Retryable failure\",N(o)),e.hostsCache.set(l,y(l,n.isTimedOut?g:v))]).then((function(){return t(r,a)}))},onFail:function(e){throw d(e),function(e,t){var r=e.content,n=e.status,o=r;try{o=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:\"ApiError\",message:e,status:t,transporterStackTrace:r}}(o,n,t)}(e,A(u))}};return e.requester.send(h).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,p)}))};return q(e.hostsCache,t).then((function(e){return h(a(e.statelessHosts).reverse(),e.getTimeout)}))}function w(e){var t={value:\"Algolia for JavaScript (\".concat(e,\")\"),add:function(e){var r=\"; \".concat(e.segment).concat(void 0!==e.version?\" (\".concat(e.version,\")\"):\"\");return-1===t.value.indexOf(r)&&(t.value=\"\".concat(t.value).concat(r)),t}};return t}function S(e,t,r){var n=T(r),o=\"\".concat(e.protocol,\"://\").concat(e.url,\"/\").concat(\"/\"===t.charAt(0)?t.substr(1):t);return n.length&&(o+=\"?\".concat(n)),o}function T(e){return Object.keys(e).map((function(t){return f(\"%s=%s\",t,(r=e[t],\"[object Object]\"===Object.prototype.toString.call(r)||\"[object Array]\"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join(\"&\")}function A(e){return e.map((function(e){return N(e)}))}function N(e){var t=e.request.headers[\"x-algolia-api-key\"]?{\"x-algolia-api-key\":\"*****\"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var x=function(e){var t=e.appId,n=function(e,t,r){var n={\"x-algolia-api-key\":r,\"x-algolia-application-id\":t};return{headers:function(){return e===m.WithinHeaders?n:{}},queryParameters:function(){return e===m.WithinQueryParameters?n:{}}}}(void 0!==e.authMode?e.authMode:m.WithinHeaders,t,e.apiKey),a=function(e){var t=e.hostsCache,r=e.logger,n=e.requester,a=e.requestsCache,u=e.responsesCache,i=e.timeouts,s=e.userAgent,c=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:r,requester:n,requestsCache:a,responsesCache:u,timeouts:i,userAgent:s,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return b(e)})),read:function(e,t){var r=h(t,f.timeouts.read),n=function(){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&d.Read)})),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return n();var a={request:e,mappedRequestOptions:r,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(a,(function(){return f.requestsCache.get(a,(function(){return f.requestsCache.set(a,n()).then((function(e){return Promise.all([f.requestsCache.delete(a),e])}),(function(e){return Promise.all([f.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=o(e,2);t[0];return t[1]}))}))}),{miss:function(e){return f.responsesCache.set(a,e)}})},write:function(e,t){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&d.Write)})),e,h(t,f.timeouts.write))}};return f}(r(r({hosts:[{url:\"\".concat(t,\"-dsn.algolia.net\"),accept:d.Read},{url:\"\".concat(t,\".algolia.net\"),accept:d.Write}].concat(c([{url:\"\".concat(t,\"-1.algolianet.com\")},{url:\"\".concat(t,\"-2.algolianet.com\")},{url:\"\".concat(t,\"-3.algolianet.com\")}]))},e),{},{headers:r(r(r({},n.headers()),{\"content-type\":\"application/x-www-form-urlencoded\"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return l({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then((function(){}))}},e.methods)},C=function(e){return function(t,r){return t.method===O?e.transporter.read(t,r):e.transporter.write(t,r)}},E=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={transporter:e.transporter,appId:e.appId,indexName:t};return l(n,r.methods)}},J=function(e){return function(t,n){var o=t.map((function(e){return r(r({},e),{},{params:T(e.params||{})})}));return e.transporter.read({method:P,path:\"1/indexes/*/queries\",data:{requests:o},cacheable:!0},n)}},k=function(e){return function(t,o){return Promise.all(t.map((function(t){var a=t.params,u=a.facetName,i=a.facetQuery,s=n(a,[\"facetName\",\"facetQuery\"]);return E(e)(t.indexName,{methods:{searchForFacetValues:R}}).searchForFacetValues(u,i,r(r({},o),s))})))}},I=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/answers/%s/prediction\",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},F=function(e){return function(t,r){return e.transporter.read({method:P,path:f(\"1/indexes/%s/query\",e.indexName),data:{query:t},cacheable:!0},r)}},R=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/indexes/%s/facets/%s/query\",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},D=1,W=2,H=3;function Q(e,t,n){var o,a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return r.setRequestHeader(t,e.headers[t])}));var n,o=function(e,n){return setTimeout((function(){r.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},a=o(e.connectTimeout,\"Connection timeout\");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(a),n=o(e.responseTimeout,\"Socket timeout\"))},r.onerror=function(){0===r.status&&(clearTimeout(a),clearTimeout(n),t({content:r.responseText||\"Network request failed\",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(a),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)}))}},logger:(o=H,{debug:function(e,t){return D>=o&&console.debug(e,t),Promise.resolve()},info:function(e,t){return W>=o&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:s(),requestsCache:s({serializable:!1}),hostsCache:i({caches:[u({key:\"\".concat(\"4.18.0\",\"-\").concat(e)}),s()]}),userAgent:w(\"4.18.0\").add({segment:\"Browser\",version:\"lite\"}),authMode:m.WithinQueryParameters};return x(r(r(r({},a),n),{},{methods:{search:J,searchForFacetValues:k,multipleQueries:J,multipleSearchForFacetValues:k,customRequest:C,initIndex:function(e){return function(t){return E(e)(t,{methods:{search:F,searchForFacetValues:R,findAnswers:I}})}}}}))}return Q.version=\"4.18.0\",Q}));\n","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = uncurryThis([].push);\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_REJECT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that);\n    var length = lengthOfArrayLike(self);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push(target, value);      // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push(target, value);      // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n","var isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar $Array = Array;\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? $Array : C;\n};\n","var arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var uncurriedNativeMethod = uncurryThis(nativeMethod);\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };\n        }\n        return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    defineBuiltIn(String.prototype, KEY, methods[0]);\n    defineBuiltIn(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","var classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n// eslint-disable-next-line redos/no-vulnerable -- safe\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (charAt(ch, 0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return stringSlice(str, 0, position);\n      case \"'\": return stringSlice(str, tailPos);\n      case '<':\n        capture = namedCaptures[stringSlice(ch, 1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || this || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","var $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","var isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar Symbol = global.Symbol;\nvar ITERATOR = Symbol && Symbol.iterator;\nvar hex = /^[+-]?0x/i;\nvar exec = uncurryThis(hex.exec);\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22\n  // MS Edge 18- broken with boxed symbols\n  || (ITERATOR && !fails(function () { $parseInt(Object(ITERATOR)); }));\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(toString(string));\n  return $parseInt(S, (radix >>> 0) || (exec(hex, S) ? 16 : 10));\n} : $parseInt;\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (Target, Source, key) {\n  key in Target || defineProperty(Target, key, {\n    configurable: true,\n    get: function () { return Source[key]; },\n    set: function (it) { Source[key] = it; }\n  });\n};\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar $TypeError = TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw $TypeError('RegExp#exec called on incompatible receiver');\n};\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var call = require('../internals/function-call');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (R) {\n  var flags = R.flags;\n  return flags === undefined && !('flags' in RegExpPrototype) && !hasOwn(R, 'flags') && isPrototypeOf(RegExpPrototype, R)\n    ? call(regExpFlags, R) : flags;\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nvar UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\n// UC Browser bug\n// https://github.com/zloirock/core-js/issues/1008\nvar MISSED_STICKY = UNSUPPORTED_Y || fails(function () {\n  return !$RegExp('a', 'y').sticky;\n});\n\nvar BROKEN_CARET = UNSUPPORTED_Y || fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n\nmodule.exports = {\n  BROKEN_CARET: BROKEN_CARET,\n  MISSED_STICKY: MISSED_STICKY,\n  UNSUPPORTED_Y: UNSUPPORTED_Y\n};\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('../internals/fails');\nvar global = require('../internals/global');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = global.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","var isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineBuiltInAccessor(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.31.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2023 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.31.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar ltrim = RegExp('^[' + whitespaces + ']+');\nvar rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '$1');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\n// eslint-disable-next-line es/no-array-prototype-find -- testing\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  defineBuiltIn(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var $ = require('../internals/export');\nvar $parseInt = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != $parseInt }, {\n  parseInt: $parseInt\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar isRegExp = require('../internals/is-regexp');\nvar toString = require('../internals/to-string');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar proxyAccessor = require('../internals/proxy-accessor');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar fails = require('../internals/fails');\nvar hasOwn = require('../internals/has-own-property');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar SyntaxError = global.SyntaxError;\nvar exec = uncurryThis(RegExpPrototype.exec);\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar stringSlice = uncurryThis(''.slice);\n// TODO: Use only proper RegExpIdentifierName\nvar IS_NCG = /^\\?<[^\\s\\d!#%&*+<=>@^][^\\s!#%&*+<=>@^]*>/;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar MISSED_STICKY = stickyHelpers.MISSED_STICKY;\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar BASE_FORCED = DESCRIPTORS &&\n  (!CORRECT_NEW || MISSED_STICKY || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG || fails(function () {\n    re2[MATCH] = false;\n    // RegExp constructor can alter flags and IsRegExp works correct with @@match\n    return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n  }));\n\nvar handleDotAll = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var brackets = false;\n  var chr;\n  for (; index <= length; index++) {\n    chr = charAt(string, index);\n    if (chr === '\\\\') {\n      result += chr + charAt(string, ++index);\n      continue;\n    }\n    if (!brackets && chr === '.') {\n      result += '[\\\\s\\\\S]';\n    } else {\n      if (chr === '[') {\n        brackets = true;\n      } else if (chr === ']') {\n        brackets = false;\n      } result += chr;\n    }\n  } return result;\n};\n\nvar handleNCG = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var named = [];\n  var names = {};\n  var brackets = false;\n  var ncg = false;\n  var groupid = 0;\n  var groupname = '';\n  var chr;\n  for (; index <= length; index++) {\n    chr = charAt(string, index);\n    if (chr === '\\\\') {\n      chr = chr + charAt(string, ++index);\n    } else if (chr === ']') {\n      brackets = false;\n    } else if (!brackets) switch (true) {\n      case chr === '[':\n        brackets = true;\n        break;\n      case chr === '(':\n        if (exec(IS_NCG, stringSlice(string, index + 1))) {\n          index += 2;\n          ncg = true;\n        }\n        result += chr;\n        groupid++;\n        continue;\n      case chr === '>' && ncg:\n        if (groupname === '' || hasOwn(names, groupname)) {\n          throw new SyntaxError('Invalid capture group name');\n        }\n        names[groupname] = true;\n        named[named.length] = [groupname, groupid];\n        ncg = false;\n        groupname = '';\n        continue;\n    }\n    if (ncg) groupname += chr;\n    else result += chr;\n  } return [result, named];\n};\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (isForced('RegExp', BASE_FORCED)) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = isPrototypeOf(RegExpPrototype, this);\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var groups = [];\n    var rawPattern = pattern;\n    var rawFlags, dotAll, sticky, handled, result, state;\n\n    if (!thisIsRegExp && patternIsRegExp && flagsAreUndefined && pattern.constructor === RegExpWrapper) {\n      return pattern;\n    }\n\n    if (patternIsRegExp || isPrototypeOf(RegExpPrototype, pattern)) {\n      pattern = pattern.source;\n      if (flagsAreUndefined) flags = getRegExpFlags(rawPattern);\n    }\n\n    pattern = pattern === undefined ? '' : toString(pattern);\n    flags = flags === undefined ? '' : toString(flags);\n    rawPattern = pattern;\n\n    if (UNSUPPORTED_DOT_ALL && 'dotAll' in re1) {\n      dotAll = !!flags && stringIndexOf(flags, 's') > -1;\n      if (dotAll) flags = replace(flags, /s/g, '');\n    }\n\n    rawFlags = flags;\n\n    if (MISSED_STICKY && 'sticky' in re1) {\n      sticky = !!flags && stringIndexOf(flags, 'y') > -1;\n      if (sticky && UNSUPPORTED_Y) flags = replace(flags, /y/g, '');\n    }\n\n    if (UNSUPPORTED_NCG) {\n      handled = handleNCG(pattern);\n      pattern = handled[0];\n      groups = handled[1];\n    }\n\n    result = inheritIfRequired(NativeRegExp(pattern, flags), thisIsRegExp ? this : RegExpPrototype, RegExpWrapper);\n\n    if (dotAll || sticky || groups.length) {\n      state = enforceInternalState(result);\n      if (dotAll) {\n        state.dotAll = true;\n        state.raw = RegExpWrapper(handleDotAll(pattern), rawFlags);\n      }\n      if (sticky) state.sticky = true;\n      if (groups.length) state.groups = groups;\n    }\n\n    if (pattern !== rawPattern) try {\n      // fails in old engines, but we have no alternatives for unsupported regex syntax\n      createNonEnumerableProperty(result, 'source', rawPattern === '' ? '(?:)' : rawPattern);\n    } catch (error) { /* empty */ }\n\n    return result;\n  };\n\n  for (var keys = getOwnPropertyNames(NativeRegExp), index = 0; keys.length > index;) {\n    proxyAccessor(RegExpWrapper, NativeRegExp, keys[index++]);\n  }\n\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  defineBuiltIn(global, 'RegExp', RegExpWrapper, { constructor: true });\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar classof = require('../internals/classof-raw');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar getInternalState = require('../internals/internal-state').get;\n\nvar RegExpPrototype = RegExp.prototype;\nvar $TypeError = TypeError;\n\n// `RegExp.prototype.dotAll` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.dotall\nif (DESCRIPTORS && UNSUPPORTED_DOT_ALL) {\n  defineBuiltInAccessor(RegExpPrototype, 'dotAll', {\n    configurable: true,\n    get: function dotAll() {\n      if (this === RegExpPrototype) return undefined;\n      // We can't use InternalStateModule.getterFor because\n      // we don't add metadata for regexps created by a literal.\n      if (classof(this) === 'RegExp') {\n        return !!getInternalState(this).dotAll;\n      }\n      throw $TypeError('Incompatible receiver, RegExp required');\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar MISSED_STICKY = require('../internals/regexp-sticky-helpers').MISSED_STICKY;\nvar classof = require('../internals/classof-raw');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar getInternalState = require('../internals/internal-state').get;\n\nvar RegExpPrototype = RegExp.prototype;\nvar $TypeError = TypeError;\n\n// `RegExp.prototype.sticky` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.sticky\nif (DESCRIPTORS && MISSED_STICKY) {\n  defineBuiltInAccessor(RegExpPrototype, 'sticky', {\n    configurable: true,\n    get: function sticky() {\n      if (this === RegExpPrototype) return;\n      // We can't use InternalStateModule.getterFor because\n      // we don't add metadata for regexps created by a literal.\n      if (classof(this) === 'RegExp') {\n        return !!getInternalState(this).sticky;\n      }\n      throw $TypeError('Incompatible receiver, RegExp required');\n    }\n  });\n}\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar anObject = require('../internals/an-object');\nvar toString = require('../internals/to-string');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar nativeTest = /./.test;\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (S) {\n    var R = anObject(this);\n    var string = toString(S);\n    var exec = R.exec;\n    if (!isCallable(exec)) return call(nativeTest, R, string);\n    var result = call(exec, R, string);\n    if (result === null) return false;\n    anObject(result);\n    return true;\n  }\n});\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar defineBuiltIn = require('../internals/define-built-in');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  defineBuiltIn(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var pattern = $toString(R.source);\n    var flags = $toString(getRegExpFlags(R));\n    return '/' + pattern + '/' + flags;\n  }, { unsafe: true });\n}\n","'use strict';\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getMethod = require('../internals/get-method');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\nvar concat = uncurryThis([].concat);\nvar push = uncurryThis([].push);\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar stringSlice = uncurryThis(''.slice);\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = isNullOrUndefined(searchValue) ? undefined : getMethod(searchValue, REPLACE);\n      return replacer\n        ? call(replacer, searchValue, O, replaceValue)\n        : call(nativeReplace, toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue == 'string' &&\n        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&\n        stringIndexOf(replaceValue, '$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = isCallable(replaceValue);\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        push(results, result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = concat([matched], captures, position, S);\n          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);\n          var replacement = toString(apply(replaceValue, undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + stringSlice(S, nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar call = require('../internals/function-call');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, SEARCH);\n      return searcher ? call(searcher, regexp, O) : new RegExp(regexp)[SEARCH](toString(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeSearch, rx, S);\n\n      if (res.done) return res.value;\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar split = String.prototype.split;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            if (generateArrayPrefix === 'comma' && encodeValuesOnly) {\n                var valuesArray = split.call(String(obj), ',');\n                var valuesJoined = '';\n                for (var i = 0; i < valuesArray.length; ++i) {\n                    valuesJoined += (i === 0 ? '' : ',') + formatter(encoder(valuesArray[i], defaults.encoder, charset, 'value', format));\n                }\n                return [formatter(keyValue) + '=' + valuesJoined];\n            }\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var NAMESPACE = 'ais';\nexport var component = function component(componentName) {\n  return function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      descendantName = _ref.descendantName,\n      modifierName = _ref.modifierName;\n    var descendent = descendantName ? \"-\".concat(descendantName) : '';\n    var modifier = modifierName ? \"--\".concat(modifierName) : '';\n    return \"\".concat(NAMESPACE, \"-\").concat(componentName).concat(descendent).concat(modifier);\n  };\n};","export function getPropertyByPath(object, path) {\n  var parts = Array.isArray(path) ? path : path.split('.');\n  return parts.reduce(function (current, key) {\n    return current && current[key];\n  }, object);\n}","/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/escape.js\n */\n\n// Used to map characters to HTML entities.\nvar htmlEntities = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\n// Used to match HTML entities and HTML characters.\nvar regexUnescapedHtml = /[&<>\"']/g;\nvar regexHasUnescapedHtml = RegExp(regexUnescapedHtml.source);\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n */\nexport function escape(value) {\n  return value && regexHasUnescapedHtml.test(value) ? value.replace(regexUnescapedHtml, function (character) {\n    return htmlEntities[character];\n  }) : value;\n}\n\n/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/unescape.js\n */\n\n// Used to map HTML entities to characters.\nvar htmlCharacters = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n// Used to match HTML entities and HTML characters.\nvar regexEscapedHtml = /&(amp|quot|lt|gt|#39);/g;\nvar regexHasEscapedHtml = RegExp(regexEscapedHtml.source);\n\n/**\n * Converts the HTML entities \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * characters.\n */\nexport function unescape(value) {\n  return value && regexHasEscapedHtml.test(value) ? value.replace(regexEscapedHtml, function (character) {\n    return htmlCharacters[character];\n  }) : value;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/master/isPlainObject.js\n */\n\nfunction getTag(value) {\n  if (value === null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n  return Object.prototype.toString.call(value);\n}\nfunction isObjectLike(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\n\n/**\n * Checks if `value` is a plain object.\n *\n * A plain object is an object created by the `Object`\n * constructor or with a `[[Prototype]]` of `null`.\n */\nexport function isPlainObject(value) {\n  if (!isObjectLike(value) || getTag(value) !== '[object Object]') {\n    return false;\n  }\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n  var proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure \" + obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { escape } from \"./escape-html.js\";\nimport { isPlainObject } from \"./isPlainObject.js\";\nexport var TAG_PLACEHOLDER = {\n  highlightPreTag: '__ais-highlight__',\n  highlightPostTag: '__/ais-highlight__'\n};\nexport var TAG_REPLACEMENT = {\n  highlightPreTag: '<mark>',\n  highlightPostTag: '</mark>'\n};\n\n// @MAJOR: in the future, this should only escape, not replace\nfunction replaceTagsAndEscape(value) {\n  return escape(value).replace(new RegExp(TAG_PLACEHOLDER.highlightPreTag, 'g'), TAG_REPLACEMENT.highlightPreTag).replace(new RegExp(TAG_PLACEHOLDER.highlightPostTag, 'g'), TAG_REPLACEMENT.highlightPostTag);\n}\nfunction recursiveEscape(input) {\n  if (isPlainObject(input) && typeof input.value !== 'string') {\n    return Object.keys(input).reduce(function (acc, key) {\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, recursiveEscape(input[key])));\n    }, {});\n  }\n  if (Array.isArray(input)) {\n    return input.map(recursiveEscape);\n  }\n  return _objectSpread(_objectSpread({}, input), {}, {\n    value: replaceTagsAndEscape(input.value)\n  });\n}\nexport function escapeHits(hits) {\n  if (hits.__escaped === undefined) {\n    // We don't override the value on hit because it will mutate the raw results\n    // instead we make a shallow copy and we assign the escaped values on it.\n    hits = hits.map(function (_ref) {\n      var hit = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n      if (hit._highlightResult) {\n        hit._highlightResult = recursiveEscape(hit._highlightResult);\n      }\n      if (hit._snippetResult) {\n        hit._snippetResult = recursiveEscape(hit._snippetResult);\n      }\n      return hit;\n    });\n    hits.__escaped = true;\n  }\n  return hits;\n}\nexport function escapeFacets(facetHits) {\n  return facetHits.map(function (h) {\n    return _objectSpread(_objectSpread({}, h), {}, {\n      highlighted: replaceTagsAndEscape(h.highlighted)\n    });\n  });\n}","import { component } from \"../lib/suit.js\";\nimport { getPropertyByPath, TAG_REPLACEMENT, warning } from \"../lib/utils/index.js\";\nvar suit = component('Highlight');\n\n/**\n * @deprecated use html tagged templates and the Highlight component instead\n */\nexport default function highlight(_ref) {\n  var attribute = _ref.attribute,\n    _ref$highlightedTagNa = _ref.highlightedTagName,\n    highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n    hit = _ref.hit,\n    _ref$cssClasses = _ref.cssClasses,\n    cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n  process.env.NODE_ENV === 'development' ? warning(false, \"`instantsearch.highlight` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `Highlight` component.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates\") : void 0;\n  var highlightAttributeResult = getPropertyByPath(hit._highlightResult, attribute);\n\n  // @MAJOR fallback to attribute value if highlight is not found\n  process.env.NODE_ENV === 'development' ? warning(highlightAttributeResult, \"Could not enable highlight for \\\"\".concat(attribute, \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\\n\\nSee: https://alg.li/highlighting\\n\")) : void 0;\n  var _ref2 = highlightAttributeResult || {},\n    _ref2$value = _ref2.value,\n    attributeValue = _ref2$value === void 0 ? '' : _ref2$value;\n\n  // cx is not used, since it would be bundled as a dependency for Vue & Angular\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { TAG_REPLACEMENT } from \"./escape-highlight.js\";\nexport function concatHighlightedParts(parts) {\n  var highlightPreTag = TAG_REPLACEMENT.highlightPreTag,\n    highlightPostTag = TAG_REPLACEMENT.highlightPostTag;\n  return parts.map(function (part) {\n    return part.isHighlighted ? highlightPreTag + part.value + highlightPostTag : part.value;\n  }).join('');\n}","import { unescape } from \"./escape-html.js\";\nvar hasAlphanumeric = new RegExp(/\\w/i);\nexport function getHighlightFromSiblings(parts, i) {\n  var _parts, _parts2;\n  var current = parts[i];\n  var isNextHighlighted = ((_parts = parts[i + 1]) === null || _parts === void 0 ? void 0 : _parts.isHighlighted) || true;\n  var isPreviousHighlighted = ((_parts2 = parts[i - 1]) === null || _parts2 === void 0 ? void 0 : _parts2.isHighlighted) || true;\n  if (!hasAlphanumeric.test(unescape(current.value)) && isPreviousHighlighted === isNextHighlighted) {\n    return isPreviousHighlighted;\n  }\n  return current.isHighlighted;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { getHighlightFromSiblings } from \"./getHighlightFromSiblings.js\";\nexport function reverseHighlightedParts(parts) {\n  if (!parts.some(function (part) {\n    return part.isHighlighted;\n  })) {\n    return parts.map(function (part) {\n      return _objectSpread(_objectSpread({}, part), {}, {\n        isHighlighted: false\n      });\n    });\n  }\n  return parts.map(function (part, i) {\n    return _objectSpread(_objectSpread({}, part), {}, {\n      isHighlighted: !getHighlightFromSiblings(parts, i)\n    });\n  });\n}","import { TAG_REPLACEMENT } from \"./escape-highlight.js\";\nexport function getHighlightedParts(highlightedValue) {\n  // @MAJOR: this should use TAG_PLACEHOLDER\n  var highlightPostTag = TAG_REPLACEMENT.highlightPostTag,\n    highlightPreTag = TAG_REPLACEMENT.highlightPreTag;\n  var splitByPreTag = highlightedValue.split(highlightPreTag);\n  var firstValue = splitByPreTag.shift();\n  var elements = !firstValue ? [] : [{\n    value: firstValue,\n    isHighlighted: false\n  }];\n  splitByPreTag.forEach(function (split) {\n    var splitByPostTag = split.split(highlightPostTag);\n    elements.push({\n      value: splitByPostTag[0],\n      isHighlighted: true\n    });\n    if (splitByPostTag[1] !== '') {\n      elements.push({\n        value: splitByPostTag[1],\n        isHighlighted: false\n      });\n    }\n  });\n  return elements;\n}","import { component } from \"../lib/suit.js\";\nimport { TAG_REPLACEMENT, getPropertyByPath, getHighlightedParts, reverseHighlightedParts, concatHighlightedParts, warning } from \"../lib/utils/index.js\";\nvar suit = component('ReverseHighlight');\n\n/**\n * @deprecated use html tagged templates and the ReverseHighlight component instead\n */\nexport default function reverseHighlight(_ref) {\n  var attribute = _ref.attribute,\n    _ref$highlightedTagNa = _ref.highlightedTagName,\n    highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n    hit = _ref.hit,\n    _ref$cssClasses = _ref.cssClasses,\n    cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n  process.env.NODE_ENV === 'development' ? warning(false, \"`instantsearch.reverseHighlight` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `ReverseHighlight` component.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates\") : void 0;\n  var highlightAttributeResult = getPropertyByPath(hit._highlightResult, attribute);\n\n  // @MAJOR fallback to attribute value if highlight is not found\n  process.env.NODE_ENV === 'development' ? warning(highlightAttributeResult, \"Could not enable reverse highlight for \\\"\".concat(attribute, \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\\n\\nSee: https://alg.li/highlighting\\n\")) : void 0;\n  var _ref2 = highlightAttributeResult || {},\n    _ref2$value = _ref2.value,\n    attributeValue = _ref2$value === void 0 ? '' : _ref2$value;\n\n  // cx is not used, since it would be bundled as a dependency for Vue & Angular\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = concatHighlightedParts(reverseHighlightedParts(getHighlightedParts(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { component } from \"../lib/suit.js\";\nimport { TAG_REPLACEMENT, getPropertyByPath, warning } from \"../lib/utils/index.js\";\nvar suit = component('Snippet');\n\n/**\n * @deprecated use html tagged templates and the Snippet component instead\n */\nexport default function snippet(_ref) {\n  var attribute = _ref.attribute,\n    _ref$highlightedTagNa = _ref.highlightedTagName,\n    highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n    hit = _ref.hit,\n    _ref$cssClasses = _ref.cssClasses,\n    cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n  process.env.NODE_ENV === 'development' ? warning(false, \"`instantsearch.snippet` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `Snippet` component.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates\") : void 0;\n  var snippetAttributeResult = getPropertyByPath(hit._snippetResult, attribute);\n\n  // @MAJOR fallback to attribute value if snippet is not found\n  process.env.NODE_ENV === 'development' ? warning(snippetAttributeResult, \"Could not enable snippet for \\\"\".concat(attribute, \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\\n\\nSee: https://alg.li/highlighting\\n\")) : void 0;\n  var _ref2 = snippetAttributeResult || {},\n    _ref2$value = _ref2.value,\n    attributeValue = _ref2$value === void 0 ? '' : _ref2$value;\n\n  // cx is not used, since it would be bundled as a dependency for Vue & Angular\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { component } from \"../lib/suit.js\";\nimport { TAG_REPLACEMENT, getPropertyByPath, getHighlightedParts, reverseHighlightedParts, concatHighlightedParts, warning } from \"../lib/utils/index.js\";\nvar suit = component('ReverseSnippet');\n\n/**\n * @deprecated use html tagged templates and the ReverseSnippet component instead\n */\nexport default function reverseSnippet(_ref) {\n  var attribute = _ref.attribute,\n    _ref$highlightedTagNa = _ref.highlightedTagName,\n    highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n    hit = _ref.hit,\n    _ref$cssClasses = _ref.cssClasses,\n    cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n  process.env.NODE_ENV === 'development' ? warning(false, \"`instantsearch.reverseSnippet` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `ReverseSnippet` component.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates\") : void 0;\n  var snippetAttributeResult = getPropertyByPath(hit._snippetResult, attribute);\n\n  // @MAJOR fallback to attribute value if snippet is not found\n  process.env.NODE_ENV === 'development' ? warning(snippetAttributeResult, \"Could not enable reverse snippet for \\\"\".concat(attribute, \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\\n\\nSee: https://alg.li/highlighting\\n\")) : void 0;\n  var _ref2 = snippetAttributeResult || {},\n    _ref2$value = _ref2.value,\n    attributeValue = _ref2$value === void 0 ? '' : _ref2$value;\n\n  // cx is not used, since it would be bundled as a dependency for Vue & Angular\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = concatHighlightedParts(reverseHighlightedParts(getHighlightedParts(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","export function serializePayload(payload) {\n  return btoa(encodeURIComponent(JSON.stringify(payload)));\n}\nexport function deserializePayload(serialized) {\n  return JSON.parse(decodeURIComponent(atob(serialized)));\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nimport { warning, serializePayload, deserializePayload } from \"../lib/utils/index.js\";\n/** @deprecated use bindEvent instead */\nexport function readDataAttributes(domElement) {\n  var method = domElement.getAttribute('data-insights-method');\n  var serializedPayload = domElement.getAttribute('data-insights-payload');\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.');\n  }\n  try {\n    var payload = deserializePayload(serializedPayload);\n    return {\n      method: method,\n      payload: payload\n    };\n  } catch (error) {\n    throw new Error('The insights helper was unable to parse `data-insights-payload`.');\n  }\n}\n\n/** @deprecated use bindEvent instead */\nexport function writeDataAttributes(_ref) {\n  var method = _ref.method,\n    payload = _ref.payload;\n  if (_typeof(payload) !== 'object') {\n    throw new Error(\"The insights helper expects the payload to be an object.\");\n  }\n  var serializedPayload;\n  try {\n    serializedPayload = serializePayload(payload);\n  } catch (error) {\n    throw new Error(\"Could not JSON serialize the payload object.\");\n  }\n  return \"data-insights-method=\\\"\".concat(method, \"\\\" data-insights-payload=\\\"\").concat(serializedPayload, \"\\\"\");\n}\n\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\nexport default function insights(method, payload) {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return writeDataAttributes({\n    method: method,\n    payload: payload\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nimport { warning } from \"../lib/utils/index.js\";\nexport var ANONYMOUS_TOKEN_COOKIE_KEY = '_ALGOLIA';\nfunction getCookie(name) {\n  if ((typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) !== 'object' || typeof document.cookie !== 'string') {\n    return undefined;\n  }\n  var prefix = \"\".concat(name, \"=\");\n  var cookies = document.cookie.split(';');\n  for (var i = 0; i < cookies.length; i++) {\n    var cookie = cookies[i];\n    while (cookie.charAt(0) === ' ') {\n      cookie = cookie.substring(1);\n    }\n    if (cookie.indexOf(prefix) === 0) {\n      return cookie.substring(prefix.length, cookie.length);\n    }\n  }\n  return undefined;\n}\nexport function getInsightsAnonymousUserTokenInternal() {\n  return getCookie(ANONYMOUS_TOKEN_COOKIE_KEY);\n}\n\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\nexport default function getInsightsAnonymousUserToken() {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return getInsightsAnonymousUserTokenInternal();\n}","// eslint-disable-next-line no-restricted-globals\n\n/**\n * Runs code on browser environments safely.\n */\nexport function safelyRunOnBrowser(callback) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      fallback: function fallback() {\n        return undefined;\n      }\n    },\n    fallback = _ref.fallback;\n  // eslint-disable-next-line no-restricted-globals\n  if (typeof window === 'undefined') {\n    return fallback();\n  }\n\n  // eslint-disable-next-line no-restricted-globals\n  return callback({\n    window: window\n  });\n}","function isPrimitive(obj) {\n  return obj !== Object(obj);\n}\nexport function isEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n  if (isPrimitive(first) || isPrimitive(second) || typeof first === 'function' || typeof second === 'function') {\n    return first === second;\n  }\n  if (Object.keys(first).length !== Object.keys(second).length) {\n    return false;\n  }\n\n  // @TODO avoid for..of because of the large polyfill\n  // eslint-disable-next-line no-restricted-syntax\n  for (var _i = 0, _Object$keys = Object.keys(first); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    if (!(key in second)) {\n      return false;\n    }\n    if (!isEqual(first[key], second[key])) {\n      return false;\n    }\n  }\n  return true;\n}","var _excluded = [\"page\"];\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { isEqual, safelyRunOnBrowser } from \"../utils/index.js\";\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n    page = _ref.page,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  return rest;\n}\nvar KEY = 'ais.infiniteHits';\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n      var sessionStorage = safelyRunOnBrowser(function (_ref3) {\n        var window = _ref3.window;\n        return window.sessionStorage;\n      });\n      if (!sessionStorage) {\n        return null;\n      }\n      try {\n        var cache = JSON.parse(\n        // @ts-expect-error JSON.parse() requires a string, but it actually accepts null, too.\n        sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            sessionStorage.removeItem(KEY);\n          } catch (err) {\n            // do nothing\n          }\n        }\n        return null;\n      }\n    },\n    write: function write(_ref4) {\n      var state = _ref4.state,\n        hits = _ref4.hits;\n      var sessionStorage = safelyRunOnBrowser(function (_ref5) {\n        var window = _ref5.window;\n        return window.sessionStorage;\n      });\n      if (!sessionStorage) {\n        return;\n      }\n      try {\n        sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {\n        // do nothing\n      }\n    }\n  };\n}","export function noop() {}","// We aren't using the native `Array.prototype.find` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `find` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.find` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\nexport function find(items, predicate) {\n  var value;\n  for (var i = 0; i < items.length; i++) {\n    value = items[i];\n    // inlined for performance: if (Call(predicate, thisArg, [value, i, list])) {\n    if (predicate(value, i, items)) {\n      return value;\n    }\n  }\n  return undefined;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport { getInsightsAnonymousUserTokenInternal } from \"../helpers/index.js\";\nimport { warning, noop, getAppIdAndApiKey, find, safelyRunOnBrowser } from \"../lib/utils/index.js\";\nvar ALGOLIA_INSIGHTS_VERSION = '2.6.0';\nvar ALGOLIA_INSIGHTS_SRC = \"https://cdn.jsdelivr.net/npm/search-insights@\".concat(ALGOLIA_INSIGHTS_VERSION, \"/dist/search-insights.min.js\");\nexport function createInsightsMiddleware() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _insightsClient = props.insightsClient,\n    insightsInitParams = props.insightsInitParams,\n    onEvent = props.onEvent,\n    _props$$$internal = props.$$internal,\n    $$internal = _props$$$internal === void 0 ? false : _props$$$internal;\n  var potentialInsightsClient = _insightsClient;\n  if (!_insightsClient && _insightsClient !== null) {\n    safelyRunOnBrowser(function (_ref) {\n      var window = _ref.window;\n      var pointer = window.AlgoliaAnalyticsObject || 'aa';\n      if (typeof pointer === 'string') {\n        potentialInsightsClient = window[pointer];\n      }\n      if (!potentialInsightsClient) {\n        window.AlgoliaAnalyticsObject = pointer;\n        if (!window[pointer]) {\n          window[pointer] = function () {\n            if (!window[pointer].queue) {\n              window[pointer].queue = [];\n            }\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            window[pointer].queue.push(args);\n          };\n          window[pointer].version = ALGOLIA_INSIGHTS_VERSION;\n          window[pointer].shouldAddScript = true;\n        }\n        potentialInsightsClient = window[pointer];\n      }\n    });\n  }\n  // if still no insightsClient was found, we use a noop\n  var insightsClient = potentialInsightsClient || noop;\n  return function (_ref2) {\n    var instantSearchInstance = _ref2.instantSearchInstance;\n    // remove existing default insights middleware\n    // user-provided insights middleware takes precedence\n    var existingInsightsMiddlewares = instantSearchInstance.middleware.filter(function (m) {\n      return m.instance.$$type === 'ais.insights' && m.instance.$$internal;\n    }).map(function (m) {\n      return m.creator;\n    });\n    instantSearchInstance.unuse.apply(instantSearchInstance, _toConsumableArray(existingInsightsMiddlewares));\n    var _getAppIdAndApiKey = getAppIdAndApiKey(instantSearchInstance.client),\n      _getAppIdAndApiKey2 = _slicedToArray(_getAppIdAndApiKey, 2),\n      appId = _getAppIdAndApiKey2[0],\n      apiKey = _getAppIdAndApiKey2[1];\n\n    // search-insights.js also throws an error so dev-only clarification is sufficient\n    process.env.NODE_ENV === 'development' ? warning(Boolean(appId && apiKey), 'could not extract Algolia credentials from searchClient in insights middleware.') : void 0;\n    var queuedUserToken = undefined;\n    var userTokenBeforeInit = undefined;\n    if (Array.isArray(insightsClient.queue)) {\n      // Context: The umd build of search-insights is asynchronously loaded by the snippet.\n      //\n      // When user calls `aa('setUserToken', 'my-user-token')` before `search-insights` is loaded,\n      // ['setUserToken', 'my-user-token'] gets stored in `aa.queue`.\n      // Whenever `search-insights` is finally loaded, it will process the queue.\n      //\n      // But here's the reason why we handle it here:\n      // At this point, even though `search-insights` is not loaded yet,\n      // we still want to read the token from the queue.\n      // Otherwise, the first search call will be fired without the token.\n      var _ref3 = find(insightsClient.queue.slice().reverse(), function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 1),\n          method = _ref6[0];\n        return method === 'setUserToken';\n      }) || [];\n      var _ref4 = _slicedToArray(_ref3, 2);\n      queuedUserToken = _ref4[1];\n    }\n    insightsClient('getUserToken', null, function (_error, userToken) {\n      // If user has called `aa('setUserToken', 'my-user-token')` before creating\n      // the `insights` middleware, we store them temporarily and\n      // set it later on.\n      //\n      // Otherwise, the `init` call might override it with anonymous user token.\n      userTokenBeforeInit = userToken;\n    });\n\n    // Only `init` if the `insightsInitParams` option is passed or\n    // if the `insightsClient` version doesn't supports optional `init` calling.\n    if (insightsInitParams || !isModernInsightsClient(insightsClient)) {\n      insightsClient('init', _objectSpread({\n        appId: appId,\n        apiKey: apiKey,\n        partial: true\n      }, insightsInitParams));\n    }\n    var initialParameters;\n    var helper;\n    return {\n      $$type: 'ais.insights',\n      $$internal: $$internal,\n      onStateChange: function onStateChange() {},\n      subscribe: function subscribe() {\n        if (!insightsClient.shouldAddScript) return;\n        var errorMessage = '[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init';\n        try {\n          var script = document.createElement('script');\n          script.async = true;\n          script.src = ALGOLIA_INSIGHTS_SRC;\n          script.onerror = function () {\n            instantSearchInstance.emit('error', new Error(errorMessage));\n          };\n          document.body.appendChild(script);\n          insightsClient.shouldAddScript = false;\n        } catch (cause) {\n          insightsClient.shouldAddScript = false;\n          instantSearchInstance.emit('error', new Error(errorMessage));\n        }\n      },\n      started: function started() {\n        insightsClient('addAlgoliaAgent', 'insights-middleware');\n        helper = instantSearchInstance.helper;\n        initialParameters = {\n          userToken: helper.state.userToken,\n          clickAnalytics: helper.state.clickAnalytics\n        };\n        helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, helper.state), {}, {\n          clickAnalytics: true\n        }));\n        if (!$$internal) {\n          instantSearchInstance.scheduleSearch();\n        }\n        var setUserTokenToSearch = function setUserTokenToSearch(userToken) {\n          if (!userToken) {\n            return;\n          }\n          var existingToken = helper.state.userToken;\n          helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, helper.state), {}, {\n            userToken: userToken\n          }));\n          if (existingToken && existingToken !== userToken) {\n            instantSearchInstance.scheduleSearch();\n          }\n        };\n        var anonymousUserToken = getInsightsAnonymousUserTokenInternal();\n        if (anonymousUserToken) {\n          // When `aa('init', { ... })` is called, it creates an anonymous user token in cookie.\n          // We can set it as userToken.\n          setUserTokenToSearch(anonymousUserToken);\n        }\n\n        // We consider the `userToken` coming from a `init` call to have a higher\n        // importance than the one coming from the queue.\n        if (userTokenBeforeInit) {\n          setUserTokenToSearch(userTokenBeforeInit);\n          insightsClient('setUserToken', userTokenBeforeInit);\n        } else if (queuedUserToken) {\n          setUserTokenToSearch(queuedUserToken);\n          insightsClient('setUserToken', queuedUserToken);\n        }\n\n        // This updates userToken which is set explicitly by `aa('setUserToken', userToken)`\n        insightsClient('onUserTokenChange', setUserTokenToSearch, {\n          immediate: true\n        });\n        var insightsClientWithLocalCredentials = insightsClient;\n        if (isModernInsightsClient(insightsClient)) {\n          insightsClientWithLocalCredentials = function insightsClientWithLocalCredentials(method, payload) {\n            var extraParams = {\n              headers: {\n                'X-Algolia-Application-Id': appId,\n                'X-Algolia-API-Key': apiKey\n              }\n            };\n\n            // @ts-ignore we are calling this only when we know that the client actually is correct\n            return insightsClient(method, payload, extraParams);\n          };\n        }\n        instantSearchInstance.sendEventToInsights = function (event) {\n          if (onEvent) {\n            onEvent(event, insightsClientWithLocalCredentials);\n          } else if (event.insightsMethod) {\n            // Source is used to differentiate events sent by instantsearch from those sent manually.\n            event.payload.algoliaSource = ['instantsearch'];\n            if (event.eventModifier === 'internal') {\n              event.payload.algoliaSource.push('instantsearch-internal');\n            }\n            insightsClientWithLocalCredentials(event.insightsMethod, event.payload);\n            process.env.NODE_ENV === 'development' ? warning(Boolean(helper.state.userToken), \"\\nCannot send event to Algolia Insights because `userToken` is not set.\\n\\nSee documentation: https://www.algolia.com/doc/guides/building-search-ui/going-further/send-insights-events/js/#setting-the-usertoken\\n\") : void 0;\n          } else {\n            process.env.NODE_ENV === 'development' ? warning(false, 'Cannot send event to Algolia Insights because `insightsMethod` option is missing.') : void 0;\n          }\n        };\n      },\n      unsubscribe: function unsubscribe() {\n        insightsClient('onUserTokenChange', undefined);\n        instantSearchInstance.sendEventToInsights = noop;\n        if (helper && initialParameters) {\n          helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, helper.state), initialParameters));\n          instantSearchInstance.scheduleSearch();\n        }\n      }\n    };\n  };\n}\n\n/**\n * Determines if a given insights `client` supports the optional call to `init`\n * and the ability to set credentials via extra parameters when sending events.\n */\nfunction isModernInsightsClient(client) {\n  var _split$map = (client.version || '').split('.').map(Number),\n    _split$map2 = _slicedToArray(_split$map, 2),\n    major = _split$map2[0],\n    minor = _split$map2[1];\n\n  /* eslint-disable @typescript-eslint/naming-convention */\n  var v3 = major >= 3;\n  var v2_6 = major === 2 && minor >= 6;\n  var v1_10 = major === 1 && minor >= 10;\n  /* eslint-enable @typescript-eslint/naming-convention */\n\n  return v3 || v2_6 || v1_10;\n}","export function createInitArgs(instantSearchInstance, parent, uiState) {\n  var helper = parent.getHelper();\n  return {\n    uiState: uiState,\n    helper: helper,\n    parent: parent,\n    instantSearchInstance: instantSearchInstance,\n    state: helper.state,\n    renderState: instantSearchInstance.renderState,\n    templatesConfig: instantSearchInstance.templatesConfig,\n    createURL: parent.createURL,\n    scopedResults: [],\n    searchMetadata: {\n      isSearchStalled: instantSearchInstance.status === 'stalled'\n    },\n    status: instantSearchInstance.status,\n    error: instantSearchInstance.error\n  };\n}\nexport function createRenderArgs(instantSearchInstance, parent) {\n  var results = parent.getResults();\n  var helper = parent.getHelper();\n  return {\n    helper: helper,\n    parent: parent,\n    instantSearchInstance: instantSearchInstance,\n    results: results,\n    scopedResults: parent.getScopedResults(),\n    state: results ? results._state : helper.state,\n    renderState: instantSearchInstance.renderState,\n    templatesConfig: instantSearchInstance.templatesConfig,\n    createURL: parent.createURL,\n    searchMetadata: {\n      isSearchStalled: instantSearchInstance.status === 'stalled'\n    },\n    status: instantSearchInstance.status,\n    error: instantSearchInstance.error\n  };\n}","import { createInitArgs, safelyRunOnBrowser } from \"../lib/utils/index.js\";\nfunction extractWidgetPayload(widgets, instantSearchInstance, payload) {\n  var initOptions = createInitArgs(instantSearchInstance, instantSearchInstance.mainIndex, instantSearchInstance._initialUiState);\n  widgets.forEach(function (widget) {\n    var widgetParams = {};\n    if (widget.getWidgetRenderState) {\n      var renderState = widget.getWidgetRenderState(initOptions);\n      if (renderState && renderState.widgetParams) {\n        // casting, as we just earlier checked widgetParams exists, and thus an object\n        widgetParams = renderState.widgetParams;\n      }\n    }\n\n    // since we destructure in all widgets, the parameters with defaults are set to \"undefined\"\n    var params = Object.keys(widgetParams).filter(function (key) {\n      return widgetParams[key] !== undefined;\n    });\n    payload.widgets.push({\n      type: widget.$$type,\n      widgetType: widget.$$widgetType,\n      params: params\n    });\n    if (widget.$$type === 'ais.index') {\n      extractWidgetPayload(widget.getWidgets(), instantSearchInstance, payload);\n    }\n  });\n}\nexport function isMetadataEnabled() {\n  return safelyRunOnBrowser(function (_ref) {\n    var _window$navigator, _window$navigator$use;\n    var window = _ref.window;\n    return ((_window$navigator = window.navigator) === null || _window$navigator === void 0 ? void 0 : (_window$navigator$use = _window$navigator.userAgent) === null || _window$navigator$use === void 0 ? void 0 : _window$navigator$use.indexOf('Algolia Crawler')) > -1;\n  }, {\n    fallback: function fallback() {\n      return false;\n    }\n  });\n}\n\n/**\n * Exposes the metadata of mounted widgets in a custom\n * `<meta name=\"instantsearch:widgets\" />` tag. The metadata per widget is:\n * - applied parameters\n * - widget name\n * - connector name\n */\nexport function createMetadataMiddleware() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref2$$$internal = _ref2.$$internal,\n    $$internal = _ref2$$$internal === void 0 ? false : _ref2$$$internal;\n  return function (_ref3) {\n    var instantSearchInstance = _ref3.instantSearchInstance;\n    var payload = {\n      widgets: []\n    };\n    var payloadContainer = document.createElement('meta');\n    var refNode = document.querySelector('head');\n    payloadContainer.name = 'instantsearch:widgets';\n    return {\n      $$type: 'ais.metadata',\n      $$internal: $$internal,\n      onStateChange: function onStateChange() {},\n      subscribe: function subscribe() {\n        // using setTimeout here to delay extraction until widgets have been added in a tick (e.g. Vue)\n        setTimeout(function () {\n          var client = instantSearchInstance.client;\n          payload.ua = client.transporter && client.transporter.userAgent ? client.transporter.userAgent.value : client._ua;\n          extractWidgetPayload(instantSearchInstance.mainIndex.getWidgets(), instantSearchInstance, payload);\n          instantSearchInstance.middleware.forEach(function (middleware) {\n            return payload.widgets.push({\n              middleware: true,\n              type: middleware.instance.$$type,\n              internal: middleware.instance.$$internal\n            });\n          });\n          payloadContainer.content = JSON.stringify(payload);\n          refNode.appendChild(payloadContainer);\n        }, 0);\n      },\n      started: function started() {},\n      unsubscribe: function unsubscribe() {\n        payloadContainer.remove();\n      }\n    };\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport qs from 'qs';\nimport { safelyRunOnBrowser, warning } from \"../utils/index.js\";\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    // This function is only executed on browsers so we can disable this check.\n    // eslint-disable-next-line no-restricted-globals\n    window.document.title = title;\n  }\n};\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Transforms a UI state into a title for the page.\n   */\n\n  /**\n   * Time in milliseconds before performing a write in the history.\n   * It prevents from adding too many entries in the history and\n   * makes the back button more usable.\n   *\n   * @default 400\n   */\n\n  /**\n   * Creates a full URL based on the route state.\n   * The storage adaptor maps all syncable keys to the query string of the URL.\n   */\n\n  /**\n   * Parses the URL into a route state.\n   * It should be symmetrical to `createURL`.\n   */\n\n  /**\n   * Returns the location to store in the history.\n   * @default () => window.location\n   */\n\n  /**\n   * Indicates if last action was back/forward in the browser.\n   */\n\n  /**\n   * Indicates whether the history router is disposed or not.\n   */\n\n  /**\n   * Indicates the window.history.length before the last call to\n   * window.history.pushState (called in `write`).\n   * It allows to determine if a `pushState` has been triggered elsewhere,\n   * and thus to prevent the `write` method from calling `pushState`.\n   */\n\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory(_ref) {\n    var _this = this;\n    var windowTitle = _ref.windowTitle,\n      _ref$writeDelay = _ref.writeDelay,\n      writeDelay = _ref$writeDelay === void 0 ? 400 : _ref$writeDelay,\n      createURL = _ref.createURL,\n      parseURL = _ref.parseURL,\n      getLocation = _ref.getLocation,\n      start = _ref.start,\n      dispose = _ref.dispose,\n      push = _ref.push;\n    _classCallCheck(this, BrowserHistory);\n    _defineProperty(this, \"$$type\", 'ais.browser');\n    _defineProperty(this, \"windowTitle\", void 0);\n    _defineProperty(this, \"writeDelay\", void 0);\n    _defineProperty(this, \"_createURL\", void 0);\n    _defineProperty(this, \"parseURL\", void 0);\n    _defineProperty(this, \"getLocation\", void 0);\n    _defineProperty(this, \"writeTimer\", void 0);\n    _defineProperty(this, \"_onPopState\", void 0);\n    _defineProperty(this, \"inPopState\", false);\n    _defineProperty(this, \"isDisposed\", false);\n    _defineProperty(this, \"latestAcknowledgedHistory\", 0);\n    _defineProperty(this, \"_start\", void 0);\n    _defineProperty(this, \"_dispose\", void 0);\n    _defineProperty(this, \"_push\", void 0);\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    this.getLocation = getLocation;\n    this._start = start;\n    this._dispose = dispose;\n    this._push = push;\n    safelyRunOnBrowser(function (_ref2) {\n      var window = _ref2.window;\n      var title = _this.windowTitle && _this.windowTitle(_this.read());\n      setWindowTitle(title);\n      _this.latestAcknowledgedHistory = window.history.length;\n    });\n  }\n\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: this.getLocation()\n      });\n    }\n\n    /**\n     * Pushes a search state into the URL.\n     */\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this2 = this;\n      safelyRunOnBrowser(function (_ref3) {\n        var window = _ref3.window;\n        var url = _this2.createURL(routeState);\n        var title = _this2.windowTitle && _this2.windowTitle(routeState);\n        if (_this2.writeTimer) {\n          clearTimeout(_this2.writeTimer);\n        }\n        _this2.writeTimer = setTimeout(function () {\n          setWindowTitle(title);\n          if (_this2.shouldWrite(url)) {\n            if (_this2._push) {\n              _this2._push(url);\n            } else {\n              window.history.pushState(routeState, title || '', url);\n            }\n            _this2.latestAcknowledgedHistory = window.history.length;\n          }\n          _this2.inPopState = false;\n          _this2.writeTimer = undefined;\n        }, _this2.writeDelay);\n      });\n    }\n\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this3 = this;\n      if (this._start) {\n        this._start(function () {\n          callback(_this3.read());\n        });\n      }\n      this._onPopState = function () {\n        if (_this3.writeTimer) {\n          clearTimeout(_this3.writeTimer);\n          _this3.writeTimer = undefined;\n        }\n        _this3.inPopState = true;\n\n        // We always read the state from the URL because the state of the history\n        // can be incorect in some cases (e.g. using React Router).\n        callback(_this3.read());\n      };\n      safelyRunOnBrowser(function (_ref4) {\n        var window = _ref4.window;\n        window.addEventListener('popstate', _this3._onPopState);\n      });\n    }\n\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch.js/issues/790\n     */\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      var url = this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: this.getLocation()\n      });\n      if (process.env.NODE_ENV === 'development') {\n        try {\n          // We just want to check if the URL is valid.\n          // eslint-disable-next-line no-new\n          new URL(url);\n        } catch (e) {\n          process.env.NODE_ENV === 'development' ? warning(false, \"The URL returned by the `createURL` function is invalid.\\nPlease make sure it returns an absolute URL to avoid issues, e.g: `https://algolia.com/search?query=iphone`.\") : void 0;\n        }\n      }\n      return url;\n    }\n\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this4 = this;\n      if (this._dispose) {\n        this._dispose();\n      }\n      this.isDisposed = true;\n      safelyRunOnBrowser(function (_ref5) {\n        var window = _ref5.window;\n        if (_this4._onPopState) {\n          window.removeEventListener('popstate', _this4._onPopState);\n        }\n      });\n      if (this.writeTimer) {\n        clearTimeout(this.writeTimer);\n      }\n      this.write({});\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this.isDisposed = false;\n    }\n  }, {\n    key: \"shouldWrite\",\n    value: function shouldWrite(url) {\n      var _this5 = this;\n      return safelyRunOnBrowser(function (_ref6) {\n        var window = _ref6.window;\n        // We do want to `pushState` if:\n        // - the router is not disposed, IS.js needs to update the URL\n        // OR\n        // - the last write was from InstantSearch.js\n        // (unlike a SPA, where it would have last written)\n        var lastPushWasByISAfterDispose = !(_this5.isDisposed && _this5.latestAcknowledgedHistory !== window.history.length);\n        return (\n          // When the last state change was through popstate, the IS.js state changes,\n          // but that should not write the URL.\n          !_this5.inPopState &&\n          // When the previous pushState after dispose was by IS.js, we want to write the URL.\n          lastPushWasByISAfterDispose &&\n          // When the URL is the same as the current one, we do not want to write it.\n          url !== window.location.href\n        );\n      });\n    }\n  }]);\n  return BrowserHistory;\n}();\nexport default function historyRouter() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref7$createURL = _ref7.createURL,\n    createURL = _ref7$createURL === void 0 ? function (_ref8) {\n      var qsModule = _ref8.qsModule,\n        routeState = _ref8.routeState,\n        location = _ref8.location;\n      var protocol = location.protocol,\n        hostname = location.hostname,\n        _location$port = location.port,\n        port = _location$port === void 0 ? '' : _location$port,\n        pathname = location.pathname,\n        hash = location.hash;\n      var queryString = qsModule.stringify(routeState);\n      var portWithPrefix = port === '' ? '' : \":\".concat(port);\n\n      // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n      if (!queryString) {\n        return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n      }\n      return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n    } : _ref7$createURL,\n    _ref7$parseURL = _ref7.parseURL,\n    parseURL = _ref7$parseURL === void 0 ? function (_ref9) {\n      var qsModule = _ref9.qsModule,\n        location = _ref9.location;\n      // `qs` by default converts arrays with more than 20 items to an object.\n      // We want to avoid this because the data structure manipulated can therefore vary.\n      // Setting the limit to `100` seems a good number because the engine's default is 100\n      // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n      //\n      // Using an `arrayLimit` of `n` allows `n + 1` items.\n      //\n      // See:\n      //   - https://github.com/ljharb/qs#parsing-arrays\n      //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n      return qsModule.parse(location.search.slice(1), {\n        arrayLimit: 99\n      });\n    } : _ref7$parseURL,\n    _ref7$writeDelay = _ref7.writeDelay,\n    writeDelay = _ref7$writeDelay === void 0 ? 400 : _ref7$writeDelay,\n    windowTitle = _ref7.windowTitle,\n    _ref7$getLocation = _ref7.getLocation,\n    getLocation = _ref7$getLocation === void 0 ? function () {\n      return safelyRunOnBrowser(function (_ref10) {\n        var window = _ref10.window;\n        return window.location;\n      }, {\n        fallback: function fallback() {\n          throw new Error('You need to provide `getLocation` to the `history` router in environments where `window` does not exist.');\n        }\n      });\n    } : _ref7$getLocation,\n    start = _ref7.start,\n    dispose = _ref7.dispose,\n    push = _ref7.push;\n  return new BrowserHistory({\n    createURL: createURL,\n    parseURL: parseURL,\n    writeDelay: writeDelay,\n    windowTitle: windowTitle,\n    getLocation: getLocation,\n    start: start,\n    dispose: dispose,\n    push: push\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _excluded = [\"configure\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction getIndexStateWithoutConfigure(uiState) {\n  var configure = uiState.configure,\n    trackedUiState = _objectWithoutProperties(uiState, _excluded);\n  return trackedUiState;\n}\n\n// technically a URL could contain any key, since users provide it,\n// which is why the input to this function is UiState, not something\n// which excludes \"configure\" as this function does.\nexport default function simpleStateMapping() {\n  return {\n    $$type: 'ais.simple',\n    stateToRoute: function stateToRoute(uiState) {\n      return Object.keys(uiState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(uiState[indexId])));\n      }, {});\n    },\n    routeToState: function routeToState() {\n      var routeState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.keys(routeState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(routeState[indexId])));\n      }, {});\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport historyRouter from \"../lib/routers/history.js\";\nimport simpleStateMapping from \"../lib/stateMappings/simple.js\";\nimport { isEqual } from \"../lib/utils/index.js\";\nexport var createRouterMiddleware = function createRouterMiddleware() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _props$router = props.router,\n    router = _props$router === void 0 ? historyRouter() : _props$router,\n    _props$stateMapping = props.stateMapping,\n    stateMapping = _props$stateMapping === void 0 ? simpleStateMapping() : _props$stateMapping,\n    _props$$$internal = props.$$internal,\n    $$internal = _props$$$internal === void 0 ? false : _props$$$internal;\n  return function (_ref) {\n    var instantSearchInstance = _ref.instantSearchInstance;\n    function topLevelCreateURL(nextState) {\n      var uiState = Object.keys(nextState).reduce(function (acc, indexId) {\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, indexId, nextState[indexId]));\n      }, instantSearchInstance.mainIndex.getWidgetUiState({}));\n      var route = stateMapping.stateToRoute(uiState);\n      return router.createURL(route);\n    }\n\n    // casting to UiState here to keep createURL unaware of custom UiState\n    // (as long as it's an object, it's ok)\n    instantSearchInstance._createURL = topLevelCreateURL;\n    var lastRouteState = undefined;\n    var initialUiState = instantSearchInstance._initialUiState;\n    return {\n      $$type: \"ais.router({router:\".concat(router.$$type || '__unknown__', \", stateMapping:\").concat(stateMapping.$$type || '__unknown__', \"})\"),\n      $$internal: $$internal,\n      onStateChange: function onStateChange(_ref2) {\n        var uiState = _ref2.uiState;\n        var routeState = stateMapping.stateToRoute(uiState);\n        if (lastRouteState === undefined || !isEqual(lastRouteState, routeState)) {\n          router.write(routeState);\n          lastRouteState = routeState;\n        }\n      },\n      subscribe: function subscribe() {\n        instantSearchInstance._initialUiState = _objectSpread(_objectSpread({}, initialUiState), stateMapping.routeToState(router.read()));\n        router.onUpdate(function (route) {\n          instantSearchInstance.setUiState(stateMapping.routeToState(route));\n        });\n      },\n      started: function started() {\n        var _router$start;\n        (_router$start = router.start) === null || _router$start === void 0 ? void 0 : _router$start.call(router);\n      },\n      unsubscribe: function unsubscribe() {\n        router.dispose();\n      }\n    };\n  };\n};","export function createDocumentationLink(_ref) {\n  var name = _ref.name,\n    _ref$connector = _ref.connector,\n    connector = _ref$connector === void 0 ? false : _ref$connector;\n  return ['https://www.algolia.com/doc/api-reference/widgets/', name, '/js/', connector ? '#connector' : ''].join('');\n}\nexport function createDocumentationMessageGenerator() {\n  for (var _len = arguments.length, widgets = new Array(_len), _key = 0; _key < _len; _key++) {\n    widgets[_key] = arguments[_key];\n  }\n  var links = widgets.map(function (widget) {\n    return createDocumentationLink(widget);\n  }).join(', ');\n  return function (message) {\n    return [message, \"See documentation: \".concat(links)].filter(Boolean).join('\\n\\n');\n  };\n}","export function isIndexWidget(widget) {\n  return widget.$$type === 'ais.index';\n}","export function uniq(array) {\n  return array.filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _excluded = [\"facets\", \"disjunctiveFacets\", \"facetsRefinements\", \"facetsExcludes\", \"disjunctiveFacetsRefinements\", \"numericRefinements\", \"tagRefinements\", \"hierarchicalFacets\", \"hierarchicalFacetsRefinements\", \"ruleContexts\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { findIndex } from \"./findIndex.js\";\nimport { uniq } from \"./uniq.js\";\nvar mergeWithRest = function mergeWithRest(left, right) {\n  var facets = right.facets,\n    disjunctiveFacets = right.disjunctiveFacets,\n    facetsRefinements = right.facetsRefinements,\n    facetsExcludes = right.facetsExcludes,\n    disjunctiveFacetsRefinements = right.disjunctiveFacetsRefinements,\n    numericRefinements = right.numericRefinements,\n    tagRefinements = right.tagRefinements,\n    hierarchicalFacets = right.hierarchicalFacets,\n    hierarchicalFacetsRefinements = right.hierarchicalFacetsRefinements,\n    ruleContexts = right.ruleContexts,\n    rest = _objectWithoutProperties(right, _excluded);\n  return left.setQueryParameters(rest);\n};\n\n// Merge facets\nvar mergeFacets = function mergeFacets(left, right) {\n  return right.facets.reduce(function (_, name) {\n    return _.addFacet(name);\n  }, left);\n};\nvar mergeDisjunctiveFacets = function mergeDisjunctiveFacets(left, right) {\n  return right.disjunctiveFacets.reduce(function (_, name) {\n    return _.addDisjunctiveFacet(name);\n  }, left);\n};\nvar mergeHierarchicalFacets = function mergeHierarchicalFacets(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacets: right.hierarchicalFacets.reduce(function (facets, facet) {\n      var index = findIndex(facets, function (_) {\n        return _.name === facet.name;\n      });\n      if (index === -1) {\n        return facets.concat(facet);\n      }\n      var nextFacets = facets.slice();\n      nextFacets.splice(index, 1, facet);\n      return nextFacets;\n    }, left.hierarchicalFacets)\n  });\n};\n\n// Merge facet refinements\nvar mergeTagRefinements = function mergeTagRefinements(left, right) {\n  return right.tagRefinements.reduce(function (_, value) {\n    return _.addTagRefinement(value);\n  }, left);\n};\nvar mergeFacetRefinements = function mergeFacetRefinements(left, right) {\n  return left.setQueryParameters({\n    facetsRefinements: _objectSpread(_objectSpread({}, left.facetsRefinements), right.facetsRefinements)\n  });\n};\nvar mergeFacetsExcludes = function mergeFacetsExcludes(left, right) {\n  return left.setQueryParameters({\n    facetsExcludes: _objectSpread(_objectSpread({}, left.facetsExcludes), right.facetsExcludes)\n  });\n};\nvar mergeDisjunctiveFacetsRefinements = function mergeDisjunctiveFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    disjunctiveFacetsRefinements: _objectSpread(_objectSpread({}, left.disjunctiveFacetsRefinements), right.disjunctiveFacetsRefinements)\n  });\n};\nvar mergeNumericRefinements = function mergeNumericRefinements(left, right) {\n  return left.setQueryParameters({\n    numericRefinements: _objectSpread(_objectSpread({}, left.numericRefinements), right.numericRefinements)\n  });\n};\nvar mergeHierarchicalFacetsRefinements = function mergeHierarchicalFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacetsRefinements: _objectSpread(_objectSpread({}, left.hierarchicalFacetsRefinements), right.hierarchicalFacetsRefinements)\n  });\n};\nvar mergeRuleContexts = function mergeRuleContexts(left, right) {\n  var ruleContexts = uniq([].concat(left.ruleContexts).concat(right.ruleContexts).filter(Boolean));\n  if (ruleContexts.length > 0) {\n    return left.setQueryParameters({\n      ruleContexts: ruleContexts\n    });\n  }\n  return left;\n};\nexport var mergeSearchParameters = function mergeSearchParameters() {\n  for (var _len = arguments.length, parameters = new Array(_len), _key = 0; _key < _len; _key++) {\n    parameters[_key] = arguments[_key];\n  }\n  return parameters.reduce(function (left, right) {\n    var hierarchicalFacetsRefinementsMerged = mergeHierarchicalFacetsRefinements(left, right);\n    var hierarchicalFacetsMerged = mergeHierarchicalFacets(hierarchicalFacetsRefinementsMerged, right);\n    var tagRefinementsMerged = mergeTagRefinements(hierarchicalFacetsMerged, right);\n    var numericRefinementsMerged = mergeNumericRefinements(tagRefinementsMerged, right);\n    var disjunctiveFacetsRefinementsMerged = mergeDisjunctiveFacetsRefinements(numericRefinementsMerged, right);\n    var facetsExcludesMerged = mergeFacetsExcludes(disjunctiveFacetsRefinementsMerged, right);\n    var facetRefinementsMerged = mergeFacetRefinements(facetsExcludesMerged, right);\n    var disjunctiveFacetsMerged = mergeDisjunctiveFacets(facetRefinementsMerged, right);\n    var ruleContextsMerged = mergeRuleContexts(disjunctiveFacetsMerged, right);\n    var facetsMerged = mergeFacets(ruleContextsMerged, right);\n    return mergeWithRest(facetsMerged, right);\n  });\n};","// We aren't using the native `Array.prototype.findIndex` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `findIndex` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.findIndex` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\nexport function findIndex(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _excluded = [\"initialSearchParameters\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { checkIndexUiState, createDocumentationMessageGenerator, resolveSearchParameters, mergeSearchParameters, warning, isIndexWidget, createInitArgs, createRenderArgs } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'index-widget'\n});\n/**\n * This is the same content as helper._change / setState, but allowing for extra\n * UiState to be synchronized.\n * see: https://github.com/algolia/algoliasearch-helper-js/blob/6b835ffd07742f2d6b314022cce6848f5cfecd4a/src/algoliasearch.helper.js#L1311-L1324\n */\nfunction privateHelperSetState(helper, _ref) {\n  var state = _ref.state,\n    isPageReset = _ref.isPageReset,\n    _uiState = _ref._uiState;\n  if (state !== helper.state) {\n    helper.state = state;\n    helper.emit('change', {\n      state: helper.state,\n      results: helper.lastResults,\n      isPageReset: isPageReset,\n      _uiState: _uiState\n    });\n  }\n}\nfunction getLocalWidgetsUiState(widgets, widgetStateOptions) {\n  var initialUiState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return widgets.reduce(function (uiState, widget) {\n    if (isIndexWidget(widget)) {\n      return uiState;\n    }\n    if (!widget.getWidgetUiState && !widget.getWidgetState) {\n      return uiState;\n    }\n    if (widget.getWidgetUiState) {\n      return widget.getWidgetUiState(uiState, widgetStateOptions);\n    }\n    return widget.getWidgetState(uiState, widgetStateOptions);\n  }, initialUiState);\n}\nfunction getLocalWidgetsSearchParameters(widgets, widgetSearchParametersOptions) {\n  var initialSearchParameters = widgetSearchParametersOptions.initialSearchParameters,\n    rest = _objectWithoutProperties(widgetSearchParametersOptions, _excluded);\n  return widgets.filter(function (widget) {\n    return !isIndexWidget(widget);\n  }).reduce(function (state, widget) {\n    if (!widget.getWidgetSearchParameters) {\n      return state;\n    }\n    return widget.getWidgetSearchParameters(state, rest);\n  }, initialSearchParameters);\n}\nfunction resetPageFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n  if (indexWidgets.length === 0) {\n    return;\n  }\n  indexWidgets.forEach(function (widget) {\n    var widgetHelper = widget.getHelper();\n    privateHelperSetState(widgetHelper, {\n      state: widgetHelper.state.resetPage(),\n      isPageReset: true\n    });\n    resetPageFromWidgets(widget.getWidgets());\n  });\n}\nfunction resolveScopedResultsFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n  return indexWidgets.reduce(function (scopedResults, current) {\n    return scopedResults.concat.apply(scopedResults, [{\n      indexId: current.getIndexId(),\n      results: current.getResults(),\n      helper: current.getHelper()\n    }].concat(_toConsumableArray(resolveScopedResultsFromWidgets(current.getWidgets()))));\n  }, []);\n}\nvar index = function index(widgetParams) {\n  if (widgetParams === undefined || widgetParams.indexName === undefined) {\n    throw new Error(withUsage('The `indexName` option is required.'));\n  }\n  var indexName = widgetParams.indexName,\n    _widgetParams$indexId = widgetParams.indexId,\n    indexId = _widgetParams$indexId === void 0 ? indexName : _widgetParams$indexId;\n  var localWidgets = [];\n  var localUiState = {};\n  var localInstantSearchInstance = null;\n  var localParent = null;\n  var helper = null;\n  var derivedHelper = null;\n  var lastValidSearchParameters = null;\n  return {\n    $$type: 'ais.index',\n    $$widgetType: 'ais.index',\n    getIndexName: function getIndexName() {\n      return indexName;\n    },\n    getIndexId: function getIndexId() {\n      return indexId;\n    },\n    getHelper: function getHelper() {\n      return helper;\n    },\n    getResults: function getResults() {\n      var _derivedHelper;\n      if (!((_derivedHelper = derivedHelper) !== null && _derivedHelper !== void 0 && _derivedHelper.lastResults)) return null;\n\n      // To make the UI optimistic, we patch the state to display to the current\n      // one instead of the one associated with the latest results.\n      // This means user-driven UI changes (e.g., checked checkbox) are reflected\n      // immediately instead of waiting for Algolia to respond, regardless of\n      // the status of the network request.\n      derivedHelper.lastResults._state = helper.state;\n      return derivedHelper.lastResults;\n    },\n    getPreviousState: function getPreviousState() {\n      return lastValidSearchParameters;\n    },\n    getScopedResults: function getScopedResults() {\n      var widgetParent = this.getParent();\n\n      // If the widget is the root, we consider itself as the only sibling.\n      var widgetSiblings = widgetParent ? widgetParent.getWidgets() : [this];\n      return resolveScopedResultsFromWidgets(widgetSiblings);\n    },\n    getParent: function getParent() {\n      return localParent;\n    },\n    createURL: function createURL(nextState) {\n      return localInstantSearchInstance._createURL(_defineProperty({}, indexId, getLocalWidgetsUiState(localWidgets, {\n        searchParameters: nextState,\n        helper: helper\n      })));\n    },\n    getWidgets: function getWidgets() {\n      return localWidgets;\n    },\n    addWidgets: function addWidgets(widgets) {\n      var _this = this;\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets.'));\n      }\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n      localWidgets = localWidgets.concat(widgets);\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        privateHelperSetState(helper, {\n          state: getLocalWidgetsSearchParameters(localWidgets, {\n            uiState: localUiState,\n            initialSearchParameters: helper.state\n          }),\n          _uiState: localUiState\n        });\n\n        // We compute the render state before calling `init` in a separate loop\n        // to construct the whole render state object that is then passed to\n        // `init`.\n        widgets.forEach(function (widget) {\n          if (widget.getRenderState) {\n            var renderState = widget.getRenderState(localInstantSearchInstance.renderState[_this.getIndexId()] || {}, createInitArgs(localInstantSearchInstance, _this, localInstantSearchInstance._initialUiState));\n            storeRenderState({\n              renderState: renderState,\n              instantSearchInstance: localInstantSearchInstance,\n              parent: _this\n            });\n          }\n        });\n        widgets.forEach(function (widget) {\n          if (widget.init) {\n            widget.init(createInitArgs(localInstantSearchInstance, _this, localInstantSearchInstance._initialUiState));\n          }\n        });\n        localInstantSearchInstance.scheduleSearch();\n      }\n      return this;\n    },\n    removeWidgets: function removeWidgets(widgets) {\n      var _this2 = this;\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets.'));\n      }\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n      localWidgets = localWidgets.filter(function (widget) {\n        return widgets.indexOf(widget) === -1;\n      });\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        var nextState = widgets.reduce(function (state, widget) {\n          // the `dispose` method exists at this point we already assert it\n          var next = widget.dispose({\n            helper: helper,\n            state: state,\n            parent: _this2\n          });\n          return next || state;\n        }, helper.state);\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: nextState,\n          helper: helper\n        });\n        helper.setState(getLocalWidgetsSearchParameters(localWidgets, {\n          uiState: localUiState,\n          initialSearchParameters: nextState\n        }));\n        if (localWidgets.length) {\n          localInstantSearchInstance.scheduleSearch();\n        }\n      }\n      return this;\n    },\n    init: function init(_ref2) {\n      var _this3 = this,\n        _instantSearchInstanc;\n      var instantSearchInstance = _ref2.instantSearchInstance,\n        parent = _ref2.parent,\n        uiState = _ref2.uiState;\n      if (helper !== null) {\n        // helper is already initialized, therefore we do not need to set up\n        // any listeners\n        return;\n      }\n      localInstantSearchInstance = instantSearchInstance;\n      localParent = parent;\n      localUiState = uiState[indexId] || {};\n\n      // The `mainHelper` is already defined at this point. The instance is created\n      // inside InstantSearch at the `start` method, which occurs before the `init`\n      // step.\n      var mainHelper = instantSearchInstance.mainHelper;\n      var parameters = getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: localUiState,\n        initialSearchParameters: new algoliasearchHelper.SearchParameters({\n          index: indexName\n        })\n      });\n\n      // This Helper is only used for state management we do not care about the\n      // `searchClient`. Only the \"main\" Helper created at the `InstantSearch`\n      // level is aware of the client.\n      helper = algoliasearchHelper({}, parameters.index, parameters);\n\n      // We forward the call to `search` to the \"main\" instance of the Helper\n      // which is responsible for managing the queries (it's the only one that is\n      // aware of the `searchClient`).\n      helper.search = function () {\n        if (instantSearchInstance.onStateChange) {\n          instantSearchInstance.onStateChange({\n            uiState: instantSearchInstance.mainIndex.getWidgetUiState({}),\n            setUiState: function setUiState(nextState) {\n              return instantSearchInstance.setUiState(nextState, false);\n            }\n          });\n\n          // We don't trigger a search when controlled because it becomes the\n          // responsibility of `setUiState`.\n          return mainHelper;\n        }\n        return mainHelper.search();\n      };\n      helper.searchWithoutTriggeringOnStateChange = function () {\n        return mainHelper.search();\n      };\n\n      // We use the same pattern for the `searchForFacetValues`.\n      helper.searchForFacetValues = function (facetName, facetValue, maxFacetHits, userState) {\n        var state = helper.state.setQueryParameters(userState);\n        return mainHelper.searchForFacetValues(facetName, facetValue, maxFacetHits, state);\n      };\n      derivedHelper = mainHelper.derive(function () {\n        return mergeSearchParameters.apply(void 0, _toConsumableArray(resolveSearchParameters(_this3)));\n      });\n      var indexInitialResults = (_instantSearchInstanc = instantSearchInstance._initialResults) === null || _instantSearchInstanc === void 0 ? void 0 : _instantSearchInstanc[this.getIndexId()];\n      if (indexInitialResults) {\n        // We restore the shape of the results provided to the instance to respect\n        // the helper's structure.\n        var results = new algoliasearchHelper.SearchResults(new algoliasearchHelper.SearchParameters(indexInitialResults.state), indexInitialResults.results);\n        derivedHelper.lastResults = results;\n        helper.lastResults = results;\n      }\n\n      // Subscribe to the Helper state changes for the page before widgets\n      // are initialized. This behavior mimics the original one of the Helper.\n      // It makes sense to replicate it at the `init` step. We have another\n      // listener on `change` below, once `init` is done.\n      helper.on('change', function (_ref3) {\n        var isPageReset = _ref3.isPageReset;\n        if (isPageReset) {\n          resetPageFromWidgets(localWidgets);\n        }\n      });\n      derivedHelper.on('search', function () {\n        // The index does not manage the \"staleness\" of the search. This is the\n        // responsibility of the main instance. It does not make sense to manage\n        // it at the index level because it's either: all of them or none of them\n        // that are stalled. The queries are performed into a single network request.\n        instantSearchInstance.scheduleStalledRender();\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: _this3,\n            indexUiState: localUiState\n          });\n        }\n      });\n      derivedHelper.on('result', function (_ref4) {\n        var results = _ref4.results;\n        // The index does not render the results it schedules a new render\n        // to let all the other indices emit their own results. It allows us to\n        // run the render process in one pass.\n        instantSearchInstance.scheduleRender();\n\n        // the derived helper is the one which actually searches, but the helper\n        // which is exposed e.g. via instance.helper, doesn't search, and thus\n        // does not have access to lastResults, which it used to in pre-federated\n        // search behavior.\n        helper.lastResults = results;\n        lastValidSearchParameters = results === null || results === void 0 ? void 0 : results._state;\n      });\n\n      // We compute the render state before calling `init` in a separate loop\n      // to construct the whole render state object that is then passed to\n      // `init`.\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this3.getIndexId()] || {}, createInitArgs(instantSearchInstance, _this3, uiState));\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this3\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        process.env.NODE_ENV === 'development' ? warning(\n        // if it has NO getWidgetState or if it has getWidgetUiState, we don't warn\n        // aka we warn if there's _only_ getWidgetState\n        !widget.getWidgetState || Boolean(widget.getWidgetUiState), 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n        if (widget.init) {\n          widget.init(createInitArgs(instantSearchInstance, _this3, uiState));\n        }\n      });\n\n      // Subscribe to the Helper state changes for the `uiState` once widgets\n      // are initialized. Until the first render, state changes are part of the\n      // configuration step. This is mainly for backward compatibility with custom\n      // widgets. When the subscription happens before the `init` step, the (static)\n      // configuration of the widget is pushed in the URL. That's what we want to avoid.\n      // https://github.com/algolia/instantsearch.js/pull/994/commits/4a672ae3fd78809e213de0368549ef12e9dc9454\n      helper.on('change', function (event) {\n        var state = event.state;\n        var _uiState = event._uiState;\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: state,\n          helper: helper\n        }, _uiState || {});\n\n        // We don't trigger an internal change when controlled because it\n        // becomes the responsibility of `setUiState`.\n        if (!instantSearchInstance.onStateChange) {\n          instantSearchInstance.onInternalStateChange();\n        }\n      });\n      if (indexInitialResults) {\n        // If there are initial results, we're not notified of the next results\n        // because we don't trigger an initial search. We therefore need to directly\n        // schedule a render that will render the results injected on the helper.\n        instantSearchInstance.scheduleRender();\n      }\n    },\n    render: function render(_ref5) {\n      var _this4 = this;\n      var instantSearchInstance = _ref5.instantSearchInstance;\n      // we can't attach a listener to the error event of search, as the error\n      // then would no longer be thrown for global handlers.\n      if (instantSearchInstance.status === 'error' && !instantSearchInstance.mainHelper.hasPendingRequests() && lastValidSearchParameters) {\n        helper.setState(lastValidSearchParameters);\n      }\n\n      // We only render index widgets if there are no results.\n      // This makes sure `render` is never called with `results` being `null`.\n      var widgetsToRender = this.getResults() ? localWidgets : localWidgets.filter(isIndexWidget);\n      widgetsToRender.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this4.getIndexId()] || {}, createRenderArgs(instantSearchInstance, _this4));\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this4\n          });\n        }\n      });\n      widgetsToRender.forEach(function (widget) {\n        // At this point, all the variables used below are set. Both `helper`\n        // and `derivedHelper` have been created at the `init` step. The attribute\n        // `lastResults` might be `null` though. It's possible that a stalled render\n        // happens before the result e.g with a dynamically added index the request might\n        // be delayed. The render is triggered for the complete tree but some parts do\n        // not have results yet.\n\n        if (widget.render) {\n          widget.render(createRenderArgs(instantSearchInstance, _this4));\n        }\n      });\n    },\n    dispose: function dispose() {\n      var _this5 = this,\n        _helper,\n        _derivedHelper2;\n      localWidgets.forEach(function (widget) {\n        if (widget.dispose) {\n          // The dispose function is always called once the instance is started\n          // (it's an effect of `removeWidgets`). The index is initialized and\n          // the Helper is available. We don't care about the return value of\n          // `dispose` because the index is removed. We can't call `removeWidgets`\n          // because we want to keep the widgets on the instance, to allow idempotent\n          // operations on `add` & `remove`.\n          widget.dispose({\n            helper: helper,\n            state: helper.state,\n            parent: _this5\n          });\n        }\n      });\n      localInstantSearchInstance = null;\n      localParent = null;\n      (_helper = helper) === null || _helper === void 0 ? void 0 : _helper.removeAllListeners();\n      helper = null;\n      (_derivedHelper2 = derivedHelper) === null || _derivedHelper2 === void 0 ? void 0 : _derivedHelper2.detach();\n      derivedHelper = null;\n    },\n    getWidgetUiState: function getWidgetUiState(uiState) {\n      return localWidgets.filter(isIndexWidget).reduce(function (previousUiState, innerIndex) {\n        return innerIndex.getWidgetUiState(previousUiState);\n      }, _objectSpread(_objectSpread({}, uiState), {}, _defineProperty({}, indexId, _objectSpread(_objectSpread({}, uiState[indexId]), localUiState))));\n    },\n    getWidgetState: function getWidgetState(uiState) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n      return this.getWidgetUiState(uiState);\n    },\n    getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n      var uiState = _ref6.uiState;\n      return getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: uiState,\n        initialSearchParameters: searchParameters\n      });\n    },\n    refreshUiState: function refreshUiState() {\n      localUiState = getLocalWidgetsUiState(localWidgets, {\n        searchParameters: this.getHelper().state,\n        helper: this.getHelper()\n      }, localUiState);\n    },\n    setIndexUiState: function setIndexUiState(indexUiState) {\n      var nextIndexUiState = typeof indexUiState === 'function' ? indexUiState(localUiState) : indexUiState;\n      localInstantSearchInstance.setUiState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, nextIndexUiState));\n      });\n    }\n  };\n};\nexport default index;\nfunction storeRenderState(_ref7) {\n  var renderState = _ref7.renderState,\n    instantSearchInstance = _ref7.instantSearchInstance,\n    parent = _ref7.parent;\n  var parentIndexName = parent ? parent.getIndexId() : instantSearchInstance.mainIndex.getIndexId();\n  instantSearchInstance.renderState = _objectSpread(_objectSpread({}, instantSearchInstance.renderState), {}, _defineProperty({}, parentIndexName, _objectSpread(_objectSpread({}, instantSearchInstance.renderState[parentIndexName]), renderState)));\n}","export function resolveSearchParameters(current) {\n  var parent = current.getParent();\n  var states = [current.getHelper().state];\n  while (parent !== null) {\n    states = [parent.getHelper().state].concat(states);\n    parent = parent.getParent();\n  }\n  return states;\n}","export function formatNumber(value, numberLocale) {\n  return value.toLocaleString(numberLocale);\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { highlight as _highlight, reverseHighlight as _reverseHighlight, snippet as _snippet, reverseSnippet as _reverseSnippet, insights as _insights } from \"../helpers/index.js\";\nimport { formatNumber as _formatNumber } from \"./formatNumber.js\";\nexport default function hoganHelpers(_ref) {\n  var numberLocale = _ref.numberLocale;\n  return {\n    formatNumber: function formatNumber(value, render) {\n      return _formatNumber(Number(render(value)), numberLocale);\n    },\n    highlight: function highlight(options, render) {\n      try {\n        var highlightOptions = JSON.parse(options);\n        return render(_highlight(_objectSpread(_objectSpread({}, highlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe highlight helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseHighlight: function reverseHighlight(options, render) {\n      try {\n        var reverseHighlightOptions = JSON.parse(options);\n        return render(_reverseHighlight(_objectSpread(_objectSpread({}, reverseHighlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseHighlight helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    snippet: function snippet(options, render) {\n      try {\n        var snippetOptions = JSON.parse(options);\n        return render(_snippet(_objectSpread(_objectSpread({}, snippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe snippet helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseSnippet: function reverseSnippet(options, render) {\n      try {\n        var reverseSnippetOptions = JSON.parse(options);\n        return render(_reverseSnippet(_objectSpread(_objectSpread({}, reverseSnippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseSnippet helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    insights: function insights(options, render) {\n      try {\n        var _JSON$parse = JSON.parse(options),\n          method = _JSON$parse.method,\n          payload = _JSON$parse.payload;\n        return render(_insights(method, _objectSpread({\n          objectIDs: [this.objectID]\n        }, payload)));\n      } catch (error) {\n        throw new Error(\"\\nThe insights helper expects a JSON object of the format:\\n{ \\\"method\\\": \\\"method-name\\\", \\\"payload\\\": { \\\"eventName\\\": \\\"name of the event\\\" } }\");\n      }\n    }\n  };\n}","var nextMicroTask = Promise.resolve();\nexport function defer(callback) {\n  var progress = null;\n  var cancelled = false;\n  var fn = function fn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (progress !== null) {\n      return;\n    }\n    progress = nextMicroTask.then(function () {\n      progress = null;\n      if (cancelled) {\n        cancelled = false;\n        return;\n      }\n      callback.apply(void 0, args);\n    });\n  };\n  fn.wait = function () {\n    if (progress === null) {\n      throw new Error('The deferred function should be called before calling `wait()`');\n    }\n    return progress;\n  };\n  fn.cancel = function () {\n    if (progress === null) {\n      return;\n    }\n    cancelled = true;\n  };\n  return fn;\n}","import { checkIndexUiState } from \"./checkIndexUiState.js\";\nimport { isIndexWidget } from \"./isIndexWidget.js\";\nexport function setIndexHelperState(finalUiState, indexWidget) {\n  var nextIndexUiState = finalUiState[indexWidget.getIndexId()] || {};\n  if (process.env.NODE_ENV === 'development') {\n    checkIndexUiState({\n      index: indexWidget,\n      indexUiState: nextIndexUiState\n    });\n  }\n  indexWidget.getHelper().setState(indexWidget.getWidgetSearchParameters(indexWidget.getHelper().state, {\n    uiState: nextIndexUiState\n  }));\n  indexWidget.getWidgets().filter(isIndexWidget).forEach(function (widget) {\n    return setIndexHelperState(finalUiState, widget);\n  });\n}","export default '4.56.1';","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport EventEmitter from '@algolia/events';\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { createInsightsMiddleware } from \"../middlewares/createInsightsMiddleware.js\";\nimport { createMetadataMiddleware, isMetadataEnabled } from \"../middlewares/createMetadataMiddleware.js\";\nimport { createRouterMiddleware } from \"../middlewares/createRouterMiddleware.js\";\nimport index from \"../widgets/index/index.js\";\nimport createHelpers from \"./createHelpers.js\";\nimport { createDocumentationMessageGenerator, createDocumentationLink, defer, noop, warning, setIndexHelperState, isIndexWidget } from \"./utils/index.js\";\nimport version from \"./version.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'instantsearch'\n});\nfunction defaultCreateURL() {\n  return '#';\n}\n\n// this purposely breaks typescript's type inference to ensure it's not used\n// as it's used for a default parameter for example\n// source: https://github.com/Microsoft/TypeScript/issues/14829#issuecomment-504042546\n/**\n * The actual implementation of the InstantSearch. This is\n * created using the `instantsearch` factory function.\n * It emits the 'render' event every time a search is done\n */\nvar InstantSearch = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(InstantSearch, _EventEmitter);\n  var _super = _createSuper(InstantSearch);\n  function InstantSearch(options) {\n    var _this;\n    _classCallCheck(this, InstantSearch);\n    _this = _super.call(this);\n\n    // prevent `render` event listening from causing a warning\n    _defineProperty(_assertThisInitialized(_this), \"client\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"indexName\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"insightsClient\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"onStateChange\", null);\n    _defineProperty(_assertThisInitialized(_this), \"helper\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mainHelper\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mainIndex\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"started\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"templatesConfig\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"renderState\", {});\n    _defineProperty(_assertThisInitialized(_this), \"_stalledSearchDelay\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_searchStalledTimer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_initialUiState\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_initialResults\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_createURL\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_searchFunction\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_mainHelperSearch\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"middleware\", []);\n    _defineProperty(_assertThisInitialized(_this), \"sendEventToInsights\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"status\", 'idle');\n    _defineProperty(_assertThisInitialized(_this), \"error\", undefined);\n    _defineProperty(_assertThisInitialized(_this), \"scheduleSearch\", defer(function () {\n      if (_this.started) {\n        _this.mainHelper.search();\n      }\n    }));\n    _defineProperty(_assertThisInitialized(_this), \"scheduleRender\", defer(function () {\n      var _this$mainHelper;\n      var shouldResetStatus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (!((_this$mainHelper = _this.mainHelper) !== null && _this$mainHelper !== void 0 && _this$mainHelper.hasPendingRequests())) {\n        clearTimeout(_this._searchStalledTimer);\n        _this._searchStalledTimer = null;\n        if (shouldResetStatus) {\n          _this.status = 'idle';\n          _this.error = undefined;\n        }\n      }\n      _this.mainIndex.render({\n        instantSearchInstance: _assertThisInitialized(_this)\n      });\n      _this.emit('render');\n    }));\n    _defineProperty(_assertThisInitialized(_this), \"onInternalStateChange\", defer(function () {\n      var nextUiState = _this.mainIndex.getWidgetUiState({});\n      _this.middleware.forEach(function (_ref) {\n        var instance = _ref.instance;\n        instance.onStateChange({\n          uiState: nextUiState\n        });\n      });\n    }));\n    _this.setMaxListeners(100);\n    var _options$indexName = options.indexName,\n      indexName = _options$indexName === void 0 ? '' : _options$indexName,\n      numberLocale = options.numberLocale,\n      _options$initialUiSta = options.initialUiState,\n      initialUiState = _options$initialUiSta === void 0 ? {} : _options$initialUiSta,\n      _options$routing = options.routing,\n      routing = _options$routing === void 0 ? null : _options$routing,\n      _options$insights = options.insights,\n      insights = _options$insights === void 0 ? false : _options$insights,\n      searchFunction = options.searchFunction,\n      _options$stalledSearc = options.stalledSearchDelay,\n      stalledSearchDelay = _options$stalledSearc === void 0 ? 200 : _options$stalledSearc,\n      _options$searchClient = options.searchClient,\n      searchClient = _options$searchClient === void 0 ? null : _options$searchClient,\n      _options$insightsClie = options.insightsClient,\n      insightsClient = _options$insightsClie === void 0 ? null : _options$insightsClie,\n      _options$onStateChang = options.onStateChange,\n      onStateChange = _options$onStateChang === void 0 ? null : _options$onStateChang;\n    if (searchClient === null) {\n      throw new Error(withUsage('The `searchClient` option is required.'));\n    }\n    if (typeof searchClient.search !== 'function') {\n      throw new Error(\"The `searchClient` must implement a `search` method.\\n\\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/\");\n    }\n    if (typeof searchClient.addAlgoliaAgent === 'function') {\n      searchClient.addAlgoliaAgent(\"instantsearch.js (\".concat(version, \")\"));\n    }\n    process.env.NODE_ENV === 'development' ? warning(insightsClient === null, \"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n    if (insightsClient && typeof insightsClient !== 'function') {\n      throw new Error(withUsage('The `insightsClient` option should be a function.'));\n    }\n    process.env.NODE_ENV === 'development' ? warning(!options.searchParameters, \"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\\n\\nYou can replace it with the `configure` widget:\\n\\n```\\nsearch.addWidgets([\\n  configure(\".concat(JSON.stringify(options.searchParameters, null, 2), \")\\n]);\\n```\\n\\nSee \").concat(createDocumentationLink({\n      name: 'configure'\n    }))) : void 0;\n    _this.client = searchClient;\n    _this.insightsClient = insightsClient;\n    _this.indexName = indexName;\n    _this.helper = null;\n    _this.mainHelper = null;\n    _this.mainIndex = index({\n      indexName: indexName\n    });\n    _this.onStateChange = onStateChange;\n    _this.started = false;\n    _this.templatesConfig = {\n      helpers: createHelpers({\n        numberLocale: numberLocale\n      }),\n      compileOptions: {}\n    };\n    _this._stalledSearchDelay = stalledSearchDelay;\n    _this._searchStalledTimer = null;\n    _this._createURL = defaultCreateURL;\n    _this._initialUiState = initialUiState;\n    _this._initialResults = null;\n    if (searchFunction) {\n      process.env.NODE_ENV === 'development' ? warning(false, \"The `searchFunction` option is deprecated. Use `onStateChange` instead.\") : void 0;\n      _this._searchFunction = searchFunction;\n    }\n    _this.sendEventToInsights = noop;\n    if (routing) {\n      var routerOptions = typeof routing === 'boolean' ? {} : routing;\n      routerOptions.$$internal = true;\n      _this.use(createRouterMiddleware(routerOptions));\n    }\n\n    // This is the default middleware,\n    // any user-provided middleware will be added later and override this one.\n    if (insights) {\n      var insightsOptions = typeof insights === 'boolean' ? {} : insights;\n      insightsOptions.$$internal = true;\n      _this.use(createInsightsMiddleware(insightsOptions));\n    }\n    if (isMetadataEnabled()) {\n      _this.use(createMetadataMiddleware({\n        $$internal: true\n      }));\n    }\n    return _this;\n  }\n\n  /**\n   * Hooks a middleware into the InstantSearch lifecycle.\n   */\n  _createClass(InstantSearch, [{\n    key: \"_isSearchStalled\",\n    get:\n    /**\n     * The status of the search. Can be \"idle\", \"loading\", \"stalled\", or \"error\".\n     */\n\n    /**\n     * The last returned error from the Search API.\n     * The error gets cleared when the next valid search response is rendered.\n     */\n\n    /**\n     * @deprecated use `status === 'stalled'` instead\n     */\n    function get() {\n      process.env.NODE_ENV === 'development' ? warning(false, \"`InstantSearch._isSearchStalled` is deprecated and will be removed in InstantSearch.js 5.0.\\n\\nUse `InstantSearch.status === \\\"stalled\\\"` instead.\") : void 0;\n      return this.status === 'stalled';\n    }\n  }, {\n    key: \"use\",\n    value: function use() {\n      var _this2 = this;\n      for (var _len = arguments.length, middleware = new Array(_len), _key = 0; _key < _len; _key++) {\n        middleware[_key] = arguments[_key];\n      }\n      var newMiddlewareList = middleware.map(function (fn) {\n        var newMiddleware = _objectSpread({\n          $$type: '__unknown__',\n          $$internal: false,\n          subscribe: noop,\n          started: noop,\n          unsubscribe: noop,\n          onStateChange: noop\n        }, fn({\n          instantSearchInstance: _this2\n        }));\n        _this2.middleware.push({\n          creator: fn,\n          instance: newMiddleware\n        });\n        return newMiddleware;\n      });\n\n      // If the instance has already started, we directly subscribe the\n      // middleware so they're notified of changes.\n      if (this.started) {\n        newMiddlewareList.forEach(function (m) {\n          m.subscribe();\n          m.started();\n        });\n      }\n      return this;\n    }\n\n    /**\n     * Removes a middleware from the InstantSearch lifecycle.\n     */\n  }, {\n    key: \"unuse\",\n    value: function unuse() {\n      for (var _len2 = arguments.length, middlewareToUnuse = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        middlewareToUnuse[_key2] = arguments[_key2];\n      }\n      this.middleware.filter(function (m) {\n        return middlewareToUnuse.includes(m.creator);\n      }).forEach(function (m) {\n        return m.instance.unsubscribe();\n      });\n      this.middleware = this.middleware.filter(function (m) {\n        return !middlewareToUnuse.includes(m.creator);\n      });\n      return this;\n    }\n\n    // @major we shipped with EXPERIMENTAL_use, but have changed that to just `use` now\n  }, {\n    key: \"EXPERIMENTAL_use\",\n    value: function EXPERIMENTAL_use() {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version.') : void 0;\n      return this.use.apply(this, arguments);\n    }\n\n    /**\n     * Adds a widget to the search instance.\n     * A widget can be added either before or after InstantSearch has started.\n     * @param widget The widget to add to InstantSearch.\n     *\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`.\n     */\n  }, {\n    key: \"addWidget\",\n    value: function addWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`') : void 0;\n      return this.addWidgets([widget]);\n    }\n\n    /**\n     * Adds multiple widgets to the search instance.\n     * Widgets can be added either before or after InstantSearch has started.\n     * @param widgets The array of widgets to add to InstantSearch.\n     */\n  }, {\n    key: \"addWidgets\",\n    value: function addWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets. Please use `addWidget`.'));\n      }\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n      this.mainIndex.addWidgets(widgets);\n      return this;\n    }\n\n    /**\n     * Removes a widget from the search instance.\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`\n     * @param widget The widget instance to remove from InstantSearch.\n     *\n     * The widget must implement a `dispose()` method to clear its state.\n     */\n  }, {\n    key: \"removeWidget\",\n    value: function removeWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`') : void 0;\n      return this.removeWidgets([widget]);\n    }\n\n    /**\n     * Removes multiple widgets from the search instance.\n     * @param widgets Array of widgets instances to remove from InstantSearch.\n     *\n     * The widgets must implement a `dispose()` method to clear their states.\n     */\n  }, {\n    key: \"removeWidgets\",\n    value: function removeWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets. Please use `removeWidget`.'));\n      }\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n      this.mainIndex.removeWidgets(widgets);\n      return this;\n    }\n\n    /**\n     * Ends the initialization of InstantSearch.js and triggers the\n     * first search. This method should be called after all widgets have been added\n     * to the instance of InstantSearch.js. InstantSearch.js also supports adding and removing\n     * widgets after the start as an **EXPERIMENTAL** feature.\n     */\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this3 = this;\n      if (this.started) {\n        throw new Error(withUsage('The `start` method has already been called once.'));\n      }\n\n      // This Helper is used for the queries, we don't care about its state. The\n      // states are managed at the `index` level. We use this Helper to create\n      // DerivedHelper scoped into the `index` widgets.\n      // In Vue InstantSearch' hydrate, a main helper gets set before start, so\n      // we need to respect this helper as a way to keep all listeners correct.\n      var mainHelper = this.mainHelper || algoliasearchHelper(this.client, this.indexName);\n      mainHelper.search = function () {\n        _this3.status = 'loading';\n        _this3.scheduleRender(false);\n        process.env.NODE_ENV === 'development' ? warning(Boolean(_this3.indexName) || _this3.mainIndex.getWidgets().some(isIndexWidget), 'No indexName provided, nor an explicit index widget in the widgets tree. This is required to be able to display results.') : void 0;\n\n        // This solution allows us to keep the exact same API for the users but\n        // under the hood, we have a different implementation. It should be\n        // completely transparent for the rest of the codebase. Only this module\n        // is impacted.\n        return mainHelper.searchOnlyWithDerivedHelpers();\n      };\n      if (this._searchFunction) {\n        // this client isn't used to actually search, but required for the helper\n        // to not throw errors\n        var fakeClient = {\n          search: function search() {\n            return new Promise(noop);\n          }\n        };\n        this._mainHelperSearch = mainHelper.search.bind(mainHelper);\n        mainHelper.search = function () {\n          var mainIndexHelper = _this3.mainIndex.getHelper();\n          var searchFunctionHelper = algoliasearchHelper(fakeClient, mainIndexHelper.state.index, mainIndexHelper.state);\n          searchFunctionHelper.once('search', function (_ref2) {\n            var state = _ref2.state;\n            mainIndexHelper.overrideStateWithoutTriggeringChangeEvent(state);\n            _this3._mainHelperSearch();\n          });\n          // Forward state changes from `searchFunctionHelper` to `mainIndexHelper`\n          searchFunctionHelper.on('change', function (_ref3) {\n            var state = _ref3.state;\n            mainIndexHelper.setState(state);\n          });\n          _this3._searchFunction(searchFunctionHelper);\n          return mainHelper;\n        };\n      }\n\n      // Only the \"main\" Helper emits the `error` event vs the one for `search`\n      // and `results` that are also emitted on the derived one.\n      mainHelper.on('error', function (_ref4) {\n        var error = _ref4.error;\n        if (!(error instanceof Error)) {\n          // typescript lies here, error is in some cases { name: string, message: string }\n          var err = error;\n          error = Object.keys(err).reduce(function (acc, key) {\n            acc[key] = err[key];\n            return acc;\n          }, new Error(err.message));\n        }\n        // If an error is emitted, it is re-thrown by events. In previous versions\n        // we emitted {error}, which is thrown as:\n        // \"Uncaught, unspecified \\\"error\\\" event. ([object Object])\"\n        // To avoid breaking changes, we make the error available in both\n        // `error` and `error.error`\n        // @MAJOR emit only error\n        error.error = error;\n        _this3.error = error;\n        _this3.status = 'error';\n        _this3.scheduleRender(false);\n\n        // This needs to execute last because it throws the error.\n        _this3.emit('error', error);\n      });\n      this.mainHelper = mainHelper;\n      this.middleware.forEach(function (_ref5) {\n        var instance = _ref5.instance;\n        instance.subscribe();\n      });\n      this.mainIndex.init({\n        instantSearchInstance: this,\n        parent: null,\n        uiState: this._initialUiState\n      });\n      if (this._initialResults) {\n        var originalScheduleSearch = this.scheduleSearch;\n        // We don't schedule a first search when initial results are provided\n        // because we already have the results to render. This skips the initial\n        // network request on the browser on `start`.\n        this.scheduleSearch = defer(noop);\n        // We also skip the initial network request when widgets are dynamically\n        // added in the first tick (that's the case in all the framework-based flavors).\n        // When we add a widget to `index`, it calls `scheduleSearch`. We can rely\n        // on our `defer` util to restore the original `scheduleSearch` value once\n        // widgets are added to hook back to the regular lifecycle.\n        defer(function () {\n          _this3.scheduleSearch = originalScheduleSearch;\n        })();\n      }\n      // We only schedule a search when widgets have been added before `start()`\n      // because there are listeners that can use these results.\n      // This is especially useful in framework-based flavors that wait for\n      // dynamically-added widgets to trigger a network request. It avoids\n      // having to batch this initial network request with the one coming from\n      // `addWidgets()`.\n      // Later, we could also skip `index()` widgets and widgets that don't read\n      // the results, but this is an optimization that has a very low impact for now.\n      else if (this.mainIndex.getWidgets().length > 0) {\n        this.scheduleSearch();\n      }\n\n      // Keep the previous reference for legacy purpose, some pattern use\n      // the direct Helper access `search.helper` (e.g multi-index).\n      this.helper = this.mainIndex.getHelper();\n\n      // track we started the search if we add more widgets,\n      // to init them directly after add\n      this.started = true;\n      this.middleware.forEach(function (_ref6) {\n        var instance = _ref6.instance;\n        instance.started();\n      });\n    }\n\n    /**\n     * Removes all widgets without triggering a search afterwards. This is an **EXPERIMENTAL** feature,\n     * if you find an issue with it, please\n     * [open an issue](https://github.com/algolia/instantsearch.js/issues/new?title=Problem%20with%20dispose).\n     * @return {undefined} This method does not return anything\n     */\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this$mainHelper2;\n      this.scheduleSearch.cancel();\n      this.scheduleRender.cancel();\n      clearTimeout(this._searchStalledTimer);\n      this.removeWidgets(this.mainIndex.getWidgets());\n      this.mainIndex.dispose();\n\n      // You can not start an instance two times, therefore a disposed instance\n      // needs to set started as false otherwise this can not be restarted at a\n      // later point.\n      this.started = false;\n\n      // The helper needs to be reset to perform the next search from a fresh state.\n      // If not reset, it would use the state stored before calling `dispose()`.\n      this.removeAllListeners();\n      (_this$mainHelper2 = this.mainHelper) === null || _this$mainHelper2 === void 0 ? void 0 : _this$mainHelper2.removeAllListeners();\n      this.mainHelper = null;\n      this.helper = null;\n      this.middleware.forEach(function (_ref7) {\n        var instance = _ref7.instance;\n        instance.unsubscribe();\n      });\n    }\n  }, {\n    key: \"scheduleStalledRender\",\n    value: function scheduleStalledRender() {\n      var _this4 = this;\n      if (!this._searchStalledTimer) {\n        this._searchStalledTimer = setTimeout(function () {\n          _this4.status = 'stalled';\n          _this4.scheduleRender();\n        }, this._stalledSearchDelay);\n      }\n    }\n\n    /**\n     * Set the UI state and trigger a search.\n     * @param uiState The next UI state or a function computing it from the current state\n     * @param callOnStateChange private parameter used to know if the method is called from a state change\n     */\n  }, {\n    key: \"setUiState\",\n    value: function setUiState(uiState) {\n      var _this5 = this;\n      var callOnStateChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `setUiState`.'));\n      }\n\n      // We refresh the index UI state to update the local UI state that the\n      // main index passes to the function form of `setUiState`.\n      this.mainIndex.refreshUiState();\n      var nextUiState = typeof uiState === 'function' ? uiState(this.mainIndex.getWidgetUiState({})) : uiState;\n      if (this.onStateChange && callOnStateChange) {\n        this.onStateChange({\n          uiState: nextUiState,\n          setUiState: function setUiState(finalUiState) {\n            setIndexHelperState(typeof finalUiState === 'function' ? finalUiState(nextUiState) : finalUiState, _this5.mainIndex);\n            _this5.scheduleSearch();\n            _this5.onInternalStateChange();\n          }\n        });\n      } else {\n        setIndexHelperState(nextUiState, this.mainIndex);\n        this.scheduleSearch();\n        this.onInternalStateChange();\n      }\n    }\n  }, {\n    key: \"getUiState\",\n    value: function getUiState() {\n      if (this.started) {\n        // We refresh the index UI state to make sure changes from `refine` are taken in account\n        this.mainIndex.refreshUiState();\n      }\n      return this.mainIndex.getWidgetUiState({});\n    }\n  }, {\n    key: \"createURL\",\n    value: function createURL() {\n      var nextState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!this.started) {\n        throw new Error(withUsage('The `start` method needs to be called before `createURL`.'));\n      }\n      return this._createURL(nextState);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `refresh`.'));\n      }\n      this.mainHelper.clearCache().search();\n    }\n  }]);\n  return InstantSearch;\n}(EventEmitter);\nexport default InstantSearch;","// typed as any, since it accepts the _real_ js clients, not the interface we otherwise expect\nexport function getAppIdAndApiKey(searchClient) {\n  if (searchClient.transporter) {\n    // searchClient v4\n    var _searchClient$transpo = searchClient.transporter,\n      headers = _searchClient$transpo.headers,\n      queryParameters = _searchClient$transpo.queryParameters;\n    var APP_ID = 'x-algolia-application-id';\n    var API_KEY = 'x-algolia-api-key';\n    var appId = headers[APP_ID] || queryParameters[APP_ID];\n    var apiKey = headers[API_KEY] || queryParameters[API_KEY];\n    return [appId, apiKey];\n  } else {\n    // searchClient v3\n    return [searchClient.applicationID, searchClient.apiKey];\n  }\n}","import { noop } from \"./noop.js\";\n/**\n * Logs a warning when this function is called, in development environment only.\n */\nvar deprecate = function deprecate(fn, message) {\n  return fn;\n};\n\n/**\n * Logs a warning\n * This is used to log issues in development environment only.\n */\nvar warn = noop;\n\n/**\n * Logs a warning if the condition is not met.\n * This is used to log issues in development environment only.\n */\nvar _warning = noop;\nif (process.env.NODE_ENV === 'development') {\n  warn = function warn(message) {\n    // eslint-disable-next-line no-console\n    console.warn(\"[InstantSearch.js]: \".concat(message.trim()));\n  };\n  deprecate = function deprecate(fn, message) {\n    var hasAlreadyPrinted = false;\n    return function () {\n      if (!hasAlreadyPrinted) {\n        hasAlreadyPrinted = true;\n        process.env.NODE_ENV === 'development' ? warn(message) : void 0;\n      }\n      return fn.apply(void 0, arguments);\n    };\n  };\n  _warning = function warning(condition, message) {\n    if (condition) {\n      return;\n    }\n    var hasAlreadyPrinted = _warning.cache[message];\n    if (!hasAlreadyPrinted) {\n      _warning.cache[message] = true;\n      process.env.NODE_ENV === 'development' ? warn(message) : void 0;\n    }\n  };\n  _warning.cache = {};\n}\nexport { warn, deprecate, _warning as warning };","import { snippet, reverseSnippet, highlight, reverseHighlight, insights, getInsightsAnonymousUserToken } from \"./helpers/index.js\";\nimport { createInfiniteHitsSessionStorageCache } from \"./lib/infiniteHitsCache/index.js\";\nimport InstantSearch from \"./lib/InstantSearch.js\";\nimport { deprecate } from \"./lib/utils/index.js\";\nimport version from \"./lib/version.js\";\n/**\n * InstantSearch is the main component of InstantSearch.js. This object\n * manages the widget and lets you add new ones.\n *\n * Two parameters are required to get you started with InstantSearch.js:\n *  - `indexName`: the main index that you will use for your new search UI\n *  - `searchClient`: the search client to plug to InstantSearch.js\n *\n * The [search client provided by Algolia](algolia.com/doc/api-client/getting-started/what-is-the-api-client/javascript/)\n * needs an `appId` and an `apiKey`. Those parameters can be found in your\n * [Algolia dashboard](https://www.algolia.com/api-keys).\n *\n * If you want to get up and running quickly with InstantSearch.js, have a\n * look at the [getting started](https://www.algolia.com/doc/guides/building-search-ui/getting-started/js/).\n */\nvar instantsearch = function instantsearch(options) {\n  return new InstantSearch(options);\n};\ninstantsearch.version = version;\ninstantsearch.createInfiniteHitsSessionStorageCache = deprecate(createInfiniteHitsSessionStorageCache, \"import { createInfiniteHitsSessionStorageCache } from 'instantsearch.js/es/lib/infiniteHitsCache'\");\ninstantsearch.highlight = deprecate(highlight, \"import { highlight } from 'instantsearch.js/es/helpers'\");\ninstantsearch.reverseHighlight = deprecate(reverseHighlight, \"import { reverseHighlight } from 'instantsearch.js/es/helpers'\");\ninstantsearch.snippet = deprecate(snippet, \"import { snippet } from 'instantsearch.js/es/helpers'\");\ninstantsearch.reverseSnippet = deprecate(reverseSnippet, \"import { reverseSnippet } from 'instantsearch.js/es/helpers'\");\ninstantsearch.insights = insights;\ninstantsearch.getInsightsAnonymousUserToken = getInsightsAnonymousUserToken;\nObject.defineProperty(instantsearch, 'widgets', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.widgets\\\" are not available from the ES build.\\n\\nTo import the widgets:\\n\\nimport { searchBox } from 'instantsearch.js/es/widgets'\");\n  }\n});\nObject.defineProperty(instantsearch, 'connectors', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.connectors\\\" are not available from the ES build.\\n\\nTo import the connectors:\\n\\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'\");\n  }\n});\nexport default instantsearch;\nexport * from \"./types/index.js\";\n","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { createDocumentationMessageGenerator, isPlainObject, mergeSearchParameters, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'configure',\n  connector: true\n});\nfunction getInitialSearchParameters(state, widgetParams) {\n  // We leverage the helper internals to remove the `widgetParams` from\n  // the state. The function `setQueryParameters` omits the values that\n  // are `undefined` on the next state.\n  return state.setQueryParameters(Object.keys(widgetParams.searchParameters).reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n  }, {}));\n}\nvar connectConfigure = function connectConfigure() {\n  var renderFn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return function (widgetParams) {\n    if (!widgetParams || !isPlainObject(widgetParams.searchParameters)) {\n      throw new Error(withUsage('The `searchParameters` option expects an object.'));\n    }\n    var connectorState = {};\n    function refine(helper) {\n      return function (searchParameters) {\n        // Merge new `searchParameters` with the ones set from other widgets\n        var actualState = getInitialSearchParameters(helper.state, widgetParams);\n        var nextSearchParameters = mergeSearchParameters(actualState, new algoliasearchHelper.SearchParameters(searchParameters));\n\n        // Update original `widgetParams.searchParameters` to the new refined one\n        widgetParams.searchParameters = searchParameters;\n\n        // Trigger a search with the resolved search parameters\n        helper.setState(nextSearchParameters).search();\n      };\n    }\n    return {\n      $$type: 'ais.configure',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return getInitialSearchParameters(state, widgetParams);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        var _renderState$configur;\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          configure: _objectSpread(_objectSpread({}, widgetRenderState), {}, {\n            widgetParams: _objectSpread(_objectSpread({}, widgetRenderState.widgetParams), {}, {\n              searchParameters: mergeSearchParameters(new algoliasearchHelper.SearchParameters((_renderState$configur = renderState.configure) === null || _renderState$configur === void 0 ? void 0 : _renderState$configur.widgetParams.searchParameters), new algoliasearchHelper.SearchParameters(widgetRenderState.widgetParams.searchParameters)).getQueryParams()\n            })\n          })\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper;\n        if (!connectorState.refine) {\n          connectorState.refine = refine(helper);\n        }\n        return {\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state, _ref3) {\n        var uiState = _ref3.uiState;\n        return mergeSearchParameters(state, new algoliasearchHelper.SearchParameters(_objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState) {\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          configure: _objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)\n        });\n      }\n    };\n  };\n};\nexport default connectConfigure;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport connectConfigure from \"../../connectors/configure/connectConfigure.js\";\nimport { noop } from \"../../lib/utils/index.js\";\nvar configure = function configure(widgetParams) {\n  // This is a renderless widget that falls back to the connector's\n  // noop render and unmount functions.\n  var makeWidget = connectConfigure(noop);\n  return _objectSpread(_objectSpread({}, makeWidget({\n    searchParameters: widgetParams\n  })), {}, {\n    $$widgetType: 'ais.configure'\n  });\n};\nexport default configure;","export function cx() {\n  for (var _len = arguments.length, cssClasses = new Array(_len), _key = 0; _key < _len; _key++) {\n    cssClasses[_key] = arguments[_key];\n  }\n\n  return cssClasses.reduce(function (acc, className) {\n    if (Array.isArray(className)) {\n      return acc.concat(className);\n    }\n\n    return acc.concat([className]);\n  }, []).filter(Boolean).join(' ');\n}","var n,l,u,i,t,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function h(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,t,o,null)}function d(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function k(n){return n.children}function b(n,l){this.props=n,this.context=l}function g(n,l){if(null==l)return n.__?g(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?g(n):null}function m(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return m(n)}}function w(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,l,u,i,o,r,e,c;for(t.sort(f);n=t.shift();)n.__d&&(l=t.length,i=void 0,o=void 0,e=(r=(u=n).__v).__e,(c=u.__P)&&(i=[],(o=h({},r)).__v=r.__v+1,L(c,r,o,u.__n,void 0!==c.ownerSVGElement,null!=r.__h?[e]:null,i,null==e?g(r):e,r.__h),M(i,r),r.__e!=e&&m(r)),t.length>l&&t.sort(f));x.__r=0}function P(n,l,u,i,t,o,r,f,e,a){var h,p,y,_,b,m,w,x=i&&i.__k||s,P=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _||\"function\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?d(null,_,null,null,_):v(_)?d(k,{children:_},null,null,null):_.__b>0?d(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(y=x[h])||y&&_.key==y.key&&_.type===y.type)x[h]=void 0;else for(p=0;p<P;p++){if((y=x[p])&&_.key==y.key&&_.type===y.type){x[p]=void 0;break}y=null}L(n,_,y=y||c,t,o,r,f,e,a),b=_.__e,(p=_.ref)&&y.ref!=p&&(w||(w=[]),y.ref&&w.push(y.ref,null,_),w.push(p,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===y.__k?_.__d=e=C(_,e,n):e=$(n,_,y,x,b,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=g(y))}for(u.__e=m,h=P;h--;)null!=x[h]&&(\"function\"==typeof u.type&&null!=x[h].__e&&x[h].__e==u.__d&&(u.__d=A(i).nextSibling),q(x[h],x[h]));if(w)for(h=0;h<w.length;h++)O(w[h],w[++h],w[++h])}function C(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?C(i,l,u):$(u,i,i,t,i.__e,l));return l}function S(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(v(n)?n.some(function(n){S(n,l)}):l.push(n)),l}function $(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function A(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=A(u)))return i;return null}function H(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||T(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||T(n,o,l[o],u[o],i)}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?z:j,o):n.removeEventListener(l,o?z:j,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function j(n){return this.l[n.type+!1](l.event?l.event(n):n)}function z(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,i,t,o,r,f,e,c){var s,a,p,y,d,_,g,m,w,x,C,S,$,A,H,I=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof I){if(m=u.props,w=(s=I.contextType)&&t[s.__c],x=s?w?w.props.value:s.__:t,i.__c?g=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in I&&I.prototype.render?u.__c=a=new I(m,x):(u.__c=a=new b(m,x),a.constructor=I,a.render=B),w&&w.sub(a),a.props=m,a.state||(a.state={}),a.context=x,a.__n=t,p=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=I.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,I.getDerivedStateFromProps(m,a.__s))),y=a.props,d=a.state,a.__v=u,p)null==I.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==I.getDerivedStateFromProps&&m!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(m,x),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(m,a.__s,x)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=m,a.state=a.__s,a.__d=!1),a.__e=!1,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(m,a.__s,x),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,d,_)})}if(a.context=x,a.props=m,a.__P=n,S=l.__r,$=0,\"prototype\"in I&&I.prototype.render){for(a.state=a.__s,a.__d=!1,S&&S(u),s=a.render(a.props,a.state,a.context),A=0;A<a._sb.length;A++)a.__h.push(a._sb[A]);a._sb=[]}else do{a.__d=!1,S&&S(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++$<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),p||null==a.getSnapshotBeforeUpdate||(_=a.getSnapshotBeforeUpdate(y,d)),P(n,v(H=null!=s&&s.type===k&&null==s.key?s.props.children:s)?H:[H],u,i,t,o,r,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),g&&(a.__E=a.__=null),a.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=N(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function M(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(l,u,i,t,o,r,f,e){var s,a,h,y=i.props,d=u.props,_=u.type,k=0;if(\"svg\"===_&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!_&&(_?s.localName===_:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===_)return document.createTextNode(d);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),r=null,e=!1}if(null===_)y===d||e&&l.data===d||(l.data=d);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!e){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(H(l,d,y,o,e),h)u.__k=[];else if(P(l,v(k=u.props.children)?k:[k],u,i,t,o&&\"foreignObject\"!==_,r,f,r?r[0]:i.__k&&g(i,0),e),null!=r)for(k=r.length;k--;)null!=r[k]&&p(r[k]);e||(\"value\"in d&&void 0!==(k=d.value)&&(k!==l.value||\"progress\"===_&&!k||\"option\"===_&&k!==y.value)&&T(l,\"value\",k,y.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==l.checked&&T(l,\"checked\",k,y.checked,!1))}return l}function O(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||O(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&q(t[o],u,i||\"function\"!=typeof n.type);i||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],L(i,u=(!o&&t||i).__k=y(k,null,[u]),r||c,c,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),M(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,o,r,f,e=h({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):i),d(l.type,e,t||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=k,t=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,k as Fragment,F as cloneElement,G as createContext,y as createElement,_ as createRef,y as h,E as hydrate,i as isValidElement,l as options,D as render,S as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import{h as r,Component as o,render as t}from\"preact\";export{h,render,Component}from\"preact\";import e from\"htm\";var m=e.bind(r);export{m as html};\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"parts\", \"highlightedTagName\", \"nonHighlightedTagName\", \"separator\", \"className\", \"classNames\"];\nimport { cx } from '@algolia/ui-components-shared'; // Basic types to allow this file to compile without a JSX implementation.\n// This is a minimal subset of the actual types from the `JSX` namespace.\n\nfunction createHighlightPartComponent(_ref) {\n  var createElement = _ref.createElement;\n  return function HighlightPart(_ref2) {\n    var classNames = _ref2.classNames,\n        children = _ref2.children,\n        highlightedTagName = _ref2.highlightedTagName,\n        isHighlighted = _ref2.isHighlighted,\n        nonHighlightedTagName = _ref2.nonHighlightedTagName;\n    var TagName = isHighlighted ? highlightedTagName : nonHighlightedTagName;\n    return createElement(TagName, {\n      className: isHighlighted ? classNames.highlighted : classNames.nonHighlighted\n    }, children);\n  };\n}\n\nexport function createHighlightComponent(_ref3) {\n  var createElement = _ref3.createElement,\n      Fragment = _ref3.Fragment;\n  var HighlightPart = createHighlightPartComponent({\n    createElement: createElement,\n    Fragment: Fragment\n  });\n  return function Highlight(_ref4) {\n    var parts = _ref4.parts,\n        _ref4$highlightedTagN = _ref4.highlightedTagName,\n        highlightedTagName = _ref4$highlightedTagN === void 0 ? 'mark' : _ref4$highlightedTagN,\n        _ref4$nonHighlightedT = _ref4.nonHighlightedTagName,\n        nonHighlightedTagName = _ref4$nonHighlightedT === void 0 ? 'span' : _ref4$nonHighlightedT,\n        _ref4$separator = _ref4.separator,\n        separator = _ref4$separator === void 0 ? ', ' : _ref4$separator,\n        className = _ref4.className,\n        _ref4$classNames = _ref4.classNames,\n        classNames = _ref4$classNames === void 0 ? {} : _ref4$classNames,\n        props = _objectWithoutProperties(_ref4, _excluded);\n\n    return createElement(\"span\", _extends({}, props, {\n      className: cx(classNames.root, className)\n    }), parts.map(function (part, partIndex) {\n      var isLastPart = partIndex === parts.length - 1;\n      return createElement(Fragment, {\n        key: partIndex\n      }, part.map(function (subPart, subPartIndex) {\n        return createElement(HighlightPart, {\n          key: subPartIndex,\n          classNames: classNames,\n          highlightedTagName: highlightedTagName,\n          nonHighlightedTagName: nonHighlightedTagName,\n          isHighlighted: subPart.isHighlighted\n        }, subPart.value);\n      }), !isLastPart && createElement(\"span\", {\n        className: classNames.separator\n      }, separator));\n    }));\n  };\n}","import { createHighlightComponent } from '@algolia/ui-components-highlight-vdom';\nimport { createElement, Fragment } from 'preact';\nexport var InternalHighlight = createHighlightComponent({\n  createElement: createElement,\n  Fragment: Fragment\n});","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","var _excluded = [\"classNames\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h } from 'preact';\nimport { InternalHighlight } from \"../InternalHighlight/InternalHighlight.js\";\nexport function Highlight(_ref) {\n  var _ref$classNames = _ref.classNames,\n    classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return h(InternalHighlight, _extends({\n    classNames: {\n      root: cx('ais-Highlight', classNames.root),\n      highlighted: cx('ais-Highlight-highlighted', classNames.highlighted),\n      nonHighlighted: cx('ais-Highlight-nonHighlighted', classNames.nonHighlighted),\n      separator: cx('ais-Highlight-separator', classNames.separator)\n    }\n  }, props));\n}","export function toArray(value) {\n  return Array.isArray(value) ? value : [value];\n}","var _excluded = [\"hit\", \"attribute\", \"cssClasses\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { h } from 'preact';\nimport { Highlight as HighlightUiComponent } from \"../../components/Highlight/Highlight.js\";\nimport { getPropertyByPath, unescape, toArray, warning, getHighlightedParts } from \"../../lib/utils/index.js\";\nexport function Highlight(_ref) {\n  var hit = _ref.hit,\n    attribute = _ref.attribute,\n    cssClasses = _ref.cssClasses,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var property = getPropertyByPath(hit._highlightResult, attribute) || [];\n  var properties = toArray(property);\n  process.env.NODE_ENV === 'development' ? warning(Boolean(properties.length), \"Could not enable highlight for \\\"\".concat(attribute.toString(), \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\\n\\nSee: https://alg.li/highlighting\\n\")) : void 0;\n  var parts = properties.map(function (_ref2) {\n    var value = _ref2.value;\n    return getHighlightedParts(unescape(value || ''));\n  });\n  return h(HighlightUiComponent, _extends({}, props, {\n    parts: parts,\n    classNames: cssClasses\n  }));\n}","var _excluded = [\"classNames\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h } from 'preact';\nimport { InternalHighlight } from \"../InternalHighlight/InternalHighlight.js\";\nexport function ReverseHighlight(_ref) {\n  var _ref$classNames = _ref.classNames,\n    classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return h(InternalHighlight, _extends({\n    classNames: {\n      root: cx('ais-ReverseHighlight', classNames.root),\n      highlighted: cx('ais-ReverseHighlight-highlighted', classNames.highlighted),\n      nonHighlighted: cx('ais-ReverseHighlight-nonHighlighted', classNames.nonHighlighted),\n      separator: cx('ais-ReverseHighlight-separator', classNames.separator)\n    }\n  }, props));\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _excluded = [\"hit\", \"attribute\", \"cssClasses\"],\n  _excluded2 = [\"isHighlighted\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { h } from 'preact';\nimport { ReverseHighlight as ReverseHighlightUiComponent } from \"../../components/ReverseHighlight/ReverseHighlight.js\";\nimport { getPropertyByPath, unescape, toArray, warning, getHighlightedParts } from \"../../lib/utils/index.js\";\nexport function ReverseHighlight(_ref) {\n  var hit = _ref.hit,\n    attribute = _ref.attribute,\n    cssClasses = _ref.cssClasses,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var property = getPropertyByPath(hit._highlightResult, attribute) || [];\n  var properties = toArray(property);\n  process.env.NODE_ENV === 'development' ? warning(Boolean(properties.length), \"Could not enable highlight for \\\"\".concat(attribute.toString(), \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\\n\\nSee: https://alg.li/highlighting\\n\")) : void 0;\n  var parts = properties.map(function (_ref2) {\n    var value = _ref2.value;\n    return getHighlightedParts(unescape(value || '')).map(function (_ref3) {\n      var isHighlighted = _ref3.isHighlighted,\n        rest = _objectWithoutProperties(_ref3, _excluded2);\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        isHighlighted: !isHighlighted\n      });\n    });\n  });\n  return h(ReverseHighlightUiComponent, _extends({}, props, {\n    parts: parts,\n    classNames: cssClasses\n  }));\n}","var _excluded = [\"classNames\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h } from 'preact';\nimport { InternalHighlight } from \"../InternalHighlight/InternalHighlight.js\";\nexport function Snippet(_ref) {\n  var _ref$classNames = _ref.classNames,\n    classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return h(InternalHighlight, _extends({\n    classNames: {\n      root: cx('ais-Snippet', classNames.root),\n      highlighted: cx('ais-Snippet-highlighted', classNames.highlighted),\n      nonHighlighted: cx('ais-Snippet-nonHighlighted', classNames.nonHighlighted),\n      separator: cx('ais-Snippet-separator', classNames.separator)\n    }\n  }, props));\n}","var _excluded = [\"hit\", \"attribute\", \"cssClasses\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { h } from 'preact';\nimport { Snippet as SnippetUiComponent } from \"../../components/Snippet/Snippet.js\";\nimport { getPropertyByPath, unescape, toArray, warning, getHighlightedParts } from \"../../lib/utils/index.js\";\nexport function Snippet(_ref) {\n  var hit = _ref.hit,\n    attribute = _ref.attribute,\n    cssClasses = _ref.cssClasses,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var property = getPropertyByPath(hit._snippetResult, attribute) || [];\n  var properties = toArray(property);\n  process.env.NODE_ENV === 'development' ? warning(Boolean(properties.length), \"Could not enable snippet for \\\"\".concat(attribute.toString(), \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\\n\\nSee: https://alg.li/highlighting\\n\")) : void 0;\n  var parts = properties.map(function (_ref2) {\n    var value = _ref2.value;\n    return getHighlightedParts(unescape(value || ''));\n  });\n  return h(SnippetUiComponent, _extends({}, props, {\n    parts: parts,\n    classNames: cssClasses\n  }));\n}","var _excluded = [\"classNames\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h } from 'preact';\nimport { InternalHighlight } from \"../InternalHighlight/InternalHighlight.js\";\nexport function ReverseSnippet(_ref) {\n  var _ref$classNames = _ref.classNames,\n    classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return h(InternalHighlight, _extends({\n    classNames: {\n      root: cx('ais-ReverseSnippet', classNames.root),\n      highlighted: cx('ais-ReverseSnippet-highlighted', classNames.highlighted),\n      nonHighlighted: cx('ais-ReverseSnippet-nonHighlighted', classNames.nonHighlighted),\n      separator: cx('ais-ReverseSnippet-separator', classNames.separator)\n    }\n  }, props));\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _excluded = [\"hit\", \"attribute\", \"cssClasses\"],\n  _excluded2 = [\"isHighlighted\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { h } from 'preact';\nimport { ReverseSnippet as ReverseSnippetUiComponent } from \"../../components/ReverseSnippet/ReverseSnippet.js\";\nimport { getPropertyByPath, unescape, toArray, warning, getHighlightedParts } from \"../../lib/utils/index.js\";\nexport function ReverseSnippet(_ref) {\n  var hit = _ref.hit,\n    attribute = _ref.attribute,\n    cssClasses = _ref.cssClasses,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var property = getPropertyByPath(hit._snippetResult, attribute) || [];\n  var properties = toArray(property);\n  process.env.NODE_ENV === 'development' ? warning(Boolean(properties.length), \"Could not enable snippet for \\\"\".concat(attribute.toString(), \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\\n\\nSee: https://alg.li/highlighting\\n\")) : void 0;\n  var parts = properties.map(function (_ref2) {\n    var value = _ref2.value;\n    return getHighlightedParts(unescape(value || '')).map(function (_ref3) {\n      var isHighlighted = _ref3.isHighlighted,\n        rest = _objectWithoutProperties(_ref3, _excluded2);\n      return _objectSpread(_objectSpread({}, rest), {}, {\n        isHighlighted: !isHighlighted\n      });\n    });\n  });\n  return h(ReverseSnippetUiComponent, _extends({}, props, {\n    parts: parts,\n    classNames: cssClasses\n  }));\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport hogan from 'hogan.js';\nimport { html } from 'htm/preact';\nimport { Highlight, ReverseHighlight, ReverseSnippet, Snippet } from \"../../helpers/components/index.js\";\n// We add all our template helper methods to the template as lambdas. Note\n// that lambdas in Mustache are supposed to accept a second argument of\n// `render` to get the rendered value, not the literal `{{value}}`. But\n// this is currently broken (see https://github.com/twitter/hogan.js/issues/222).\nfunction transformHelpersToHogan() {\n  var helpers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var compileOptions = arguments.length > 1 ? arguments[1] : undefined;\n  var data = arguments.length > 2 ? arguments[2] : undefined;\n  return Object.keys(helpers).reduce(function (acc, helperKey) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, helperKey, function () {\n      var _this = this;\n      return function (text) {\n        var render = function render(value) {\n          return hogan.compile(value, compileOptions).render(_this);\n        };\n        return helpers[helperKey].call(data, text, render);\n      };\n    }));\n  }, {});\n}\nexport function renderTemplate(_ref) {\n  var templates = _ref.templates,\n    templateKey = _ref.templateKey,\n    compileOptions = _ref.compileOptions,\n    helpers = _ref.helpers,\n    data = _ref.data,\n    bindEvent = _ref.bindEvent,\n    sendEvent = _ref.sendEvent;\n  var template = templates[templateKey];\n  if (typeof template !== 'string' && typeof template !== 'function') {\n    throw new Error(\"Template must be 'string' or 'function', was '\".concat(_typeof(template), \"' (key: \").concat(templateKey, \")\"));\n  }\n  if (typeof template === 'function') {\n    // @MAJOR no longer pass bindEvent when string templates are removed\n    var params = bindEvent || {};\n    params.html = html;\n    params.sendEvent = sendEvent;\n    params.components = {\n      Highlight: Highlight,\n      ReverseHighlight: ReverseHighlight,\n      Snippet: Snippet,\n      ReverseSnippet: ReverseSnippet\n    };\n\n    // @MAJOR remove the `as any` when string templates are removed\n    // needed because not every template receives sendEvent\n    return template(data, params);\n  }\n  var transformedHelpers = transformHelpersToHogan(helpers, compileOptions, data);\n  return hogan.compile(template, compileOptions).render(_objectSpread(_objectSpread({}, data), {}, {\n    helpers: transformedHelpers\n  })).replace(/[ \\n\\r\\t\\f\\xA0]+/g, function (spaces) {\n    return spaces.replace(/(^|\\xA0+)[^\\xA0]+/g, '$1 ');\n  }).trim();\n}","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { h, Component } from 'preact';\nimport { renderTemplate } from \"../../lib/templating/index.js\";\nimport { warning, isEqual } from \"../../lib/utils/index.js\";\nvar defaultProps = {\n  data: {},\n  rootTagName: 'div',\n  useCustomCompileOptions: {},\n  templates: {},\n  templatesConfig: {}\n};\n// @TODO: Template should be a generic and receive TData to pass to Templates (to avoid TTemplateData to be set as `any`)\nvar Template = /*#__PURE__*/function (_Component) {\n  _inherits(Template, _Component);\n  var _super = _createSuper(Template);\n  function Template() {\n    _classCallCheck(this, Template);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Template, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return !isEqual(this.props.data, nextProps.data) || this.props.templateKey !== nextProps.templateKey || !isEqual(this.props.rootProps, nextProps.rootProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n      if (process.env.NODE_ENV === 'development') {\n        var nonFunctionTemplates = Object.keys(this.props.templates).filter(function (key) {\n          return typeof _this.props.templates[key] !== 'function';\n        });\n        process.env.NODE_ENV === 'development' ? warning(nonFunctionTemplates.length === 0, \"Hogan.js and string-based templates are deprecated and will not be supported in InstantSearch.js 5.x.\\n\\nYou can replace them with function-form templates and use either the provided `html` function or JSX templates.\\n\\nString-based templates: \".concat(nonFunctionTemplates.join(', '), \".\\n\\nSee: https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/#upgrade-templates\")) : void 0;\n      }\n      var RootTagName = this.props.rootTagName;\n      var useCustomCompileOptions = this.props.useCustomCompileOptions[this.props.templateKey];\n      var compileOptions = useCustomCompileOptions ? this.props.templatesConfig.compileOptions : {};\n      var content = renderTemplate({\n        templates: this.props.templates,\n        templateKey: this.props.templateKey,\n        compileOptions: compileOptions,\n        helpers: this.props.templatesConfig.helpers,\n        data: this.props.data,\n        bindEvent: this.props.bindEvent,\n        sendEvent: this.props.sendEvent\n      });\n      if (content === null) {\n        // Adds a noscript to the DOM but virtual DOM is null\n        // See http://facebook.github.io/react/docs/component-specs.html#render\n        return null;\n      }\n      if (_typeof(content) === 'object') {\n        return h(RootTagName, this.props.rootProps, content);\n      }\n      return h(RootTagName, _extends({}, this.props.rootProps, {\n        dangerouslySetInnerHTML: {\n          __html: content\n        }\n      }));\n    }\n  }]);\n  return Template;\n}(Component);\n_defineProperty(Template, \"defaultProps\", defaultProps);\nexport default Template;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { h, createRef, Component } from 'preact';\nimport { noop } from \"../../lib/utils/index.js\";\nimport Template from \"../Template/Template.js\";\nvar defaultProps = {\n  query: '',\n  showSubmit: true,\n  showReset: true,\n  showLoadingIndicator: true,\n  autofocus: false,\n  searchAsYouType: true,\n  isSearchStalled: false,\n  disabled: false,\n  onChange: noop,\n  onSubmit: noop,\n  onReset: noop,\n  refine: noop\n};\nvar SearchBox = /*#__PURE__*/function (_Component) {\n  _inherits(SearchBox, _Component);\n  var _super = _createSuper(SearchBox);\n  function SearchBox() {\n    var _this;\n    _classCallCheck(this, SearchBox);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      query: _this.props.query,\n      focused: false\n    });\n    _defineProperty(_assertThisInitialized(_this), \"input\", createRef());\n    _defineProperty(_assertThisInitialized(_this), \"onInput\", function (event) {\n      var _this$props = _this.props,\n        searchAsYouType = _this$props.searchAsYouType,\n        refine = _this$props.refine,\n        onChange = _this$props.onChange;\n      var query = event.target.value;\n      if (searchAsYouType) {\n        refine(query);\n      }\n      _this.setState({\n        query: query\n      });\n      onChange(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function (event) {\n      var _this$props2 = _this.props,\n        searchAsYouType = _this$props2.searchAsYouType,\n        refine = _this$props2.refine,\n        onSubmit = _this$props2.onSubmit;\n      event.preventDefault();\n      event.stopPropagation();\n      if (_this.input.current) {\n        _this.input.current.blur();\n      }\n      if (!searchAsYouType) {\n        refine(_this.state.query);\n      }\n      onSubmit(event);\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onReset\", function (event) {\n      var _this$props3 = _this.props,\n        refine = _this$props3.refine,\n        onReset = _this$props3.onReset;\n      var query = '';\n      if (_this.input.current) {\n        _this.input.current.focus();\n      }\n      refine(query);\n      _this.setState({\n        query: query\n      });\n      onReset(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function () {\n      _this.setState({\n        focused: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function () {\n      _this.setState({\n        focused: true\n      });\n    });\n    return _this;\n  }\n  _createClass(SearchBox, [{\n    key: \"resetInput\",\n    value:\n    /**\n     * This public method is used in the RefinementList SFFV search box\n     * to reset the input state when an item is selected.\n     *\n     * @see RefinementList#componentWillReceiveProps\n     * @return {undefined}\n     */\n    function resetInput() {\n      this.setState({\n        query: ''\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      /**\n       * when the user is typing, we don't want to replace the query typed\n       * by the user (state.query) with the query exposed by the connector (props.query)\n       * see: https://github.com/algolia/instantsearch.js/issues/4141\n       */\n      if (!this.state.focused && nextProps.query !== this.state.query) {\n        this.setState({\n          query: nextProps.query\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        cssClasses = _this$props4.cssClasses,\n        placeholder = _this$props4.placeholder,\n        autofocus = _this$props4.autofocus,\n        showSubmit = _this$props4.showSubmit,\n        showReset = _this$props4.showReset,\n        showLoadingIndicator = _this$props4.showLoadingIndicator,\n        templates = _this$props4.templates,\n        isSearchStalled = _this$props4.isSearchStalled;\n      return h(\"div\", {\n        className: cssClasses.root\n      }, h(\"form\", {\n        action: \"\",\n        role: \"search\",\n        className: cssClasses.form,\n        noValidate: true,\n        onSubmit: this.onSubmit,\n        onReset: this.onReset\n      }, h(\"input\", {\n        ref: this.input,\n        value: this.state.query,\n        disabled: this.props.disabled,\n        className: cssClasses.input,\n        type: \"search\",\n        placeholder: placeholder,\n        autoFocus: autofocus,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        autoCapitalize: \"off\"\n        // @ts-expect-error `spellCheck` attribute is missing in preact JSX types\n        ,\n        spellCheck: \"false\",\n        maxLength: 512,\n        onInput: this.onInput,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus\n      }), h(Template, {\n        templateKey: \"submit\",\n        rootTagName: \"button\",\n        rootProps: {\n          className: cssClasses.submit,\n          type: 'submit',\n          title: 'Submit the search query.',\n          hidden: !showSubmit\n        },\n        templates: templates,\n        data: {\n          cssClasses: cssClasses\n        }\n      }), h(Template, {\n        templateKey: \"reset\",\n        rootTagName: \"button\",\n        rootProps: {\n          className: cssClasses.reset,\n          type: 'reset',\n          title: 'Clear the search query.',\n          hidden: !(showReset && this.state.query.trim() && !isSearchStalled)\n        },\n        templates: templates,\n        data: {\n          cssClasses: cssClasses\n        }\n      }), showLoadingIndicator && h(Template, {\n        templateKey: \"loadingIndicator\",\n        rootTagName: \"span\",\n        rootProps: {\n          className: cssClasses.loadingIndicator,\n          hidden: !isSearchStalled\n        },\n        templates: templates,\n        data: {\n          cssClasses: cssClasses\n        }\n      })));\n    }\n  }]);\n  return SearchBox;\n}(Component);\n_defineProperty(SearchBox, \"defaultProps\", defaultProps);\nexport default SearchBox;","import { getObjectType } from \"./getObjectType.js\";\nexport function checkRendering(rendering, usage) {\n  if (rendering === undefined || typeof rendering !== 'function') {\n    throw new Error(\"The render function is not valid (received type \".concat(getObjectType(rendering), \").\\n\\n\").concat(usage));\n  }\n}","export function getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { checkRendering, createDocumentationMessageGenerator, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'search-box',\n  connector: true\n});\nvar defaultQueryHook = function defaultQueryHook(query, hook) {\n  return hook(query);\n};\n\n/**\n * **SearchBox** connector provides the logic to build a widget that will let the user search for a query.\n *\n * The connector provides to the rendering: `refine()` to set the query. The behaviour of this function\n * may be impacted by the `queryHook` widget parameter.\n */\nvar connectSearchBox = function connectSearchBox(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      _ref$queryHook = _ref.queryHook,\n      queryHook = _ref$queryHook === void 0 ? defaultQueryHook : _ref$queryHook;\n    var _refine;\n    var _clear;\n    return {\n      $$type: 'ais.searchBox',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.setQueryParameter('query', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          searchBox: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var helper = _ref3.helper,\n          searchMetadata = _ref3.searchMetadata,\n          state = _ref3.state;\n        if (!_refine) {\n          _refine = function _refine(query) {\n            queryHook(query, function (q) {\n              return helper.setQuery(q).search();\n            });\n          };\n          _clear = function _clear() {\n            helper.setQuery('').search();\n          };\n        }\n        return {\n          query: state.query || '',\n          refine: _refine,\n          clear: _clear,\n          widgetParams: widgetParams,\n          isSearchStalled: searchMetadata.isSearchStalled\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var query = searchParameters.query || '';\n        if (query === '' || uiState && uiState.query === query) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        return searchParameters.setQueryParameter('query', uiState.query || '');\n      }\n    };\n  };\n};\nexport default connectSearchBox;","import { isDomElement } from \"./isDomElement.js\";\n\n/**\n * Return the container. If it's a string, it is considered a\n * css selector and retrieves the first matching element. Otherwise\n * test if it validates that it's a correct DOMElement.\n *\n * @param {string|HTMLElement} selectorOrHTMLElement CSS Selector or container node.\n * @return {HTMLElement} Container node\n * @throws Error when the type is not correct\n */\nexport function getContainerNode(selectorOrHTMLElement) {\n  var isSelectorString = typeof selectorOrHTMLElement === 'string';\n  var domElement = isSelectorString ? document.querySelector(selectorOrHTMLElement) : selectorOrHTMLElement;\n  if (!isDomElement(domElement)) {\n    var errorMessage = 'Container must be `string` or `HTMLElement`.';\n    if (isSelectorString) {\n      errorMessage += \" Unable to find \".concat(selectorOrHTMLElement);\n    }\n    throw new Error(errorMessage);\n  }\n  return domElement;\n}","export function isDomElement(object) {\n  return object instanceof HTMLElement || Boolean(object) && object.nodeType > 0;\n}","import { h } from 'preact';\nvar _ref2 = h(\"path\", {\n  d: \"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\"\n});\nvar _ref4 = h(\"path\", {\n  d: \"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"\n});\nvar _ref6 = h(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, h(\"g\", {\n  transform: \"translate(1 1)\",\n  strokeWidth: \"2\"\n}, h(\"circle\", {\n  strokeOpacity: \".5\",\n  cx: \"18\",\n  cy: \"18\",\n  r: \"18\"\n}), h(\"path\", {\n  d: \"M36 18c0-9.94-8.06-18-18-18\"\n}, h(\"animateTransform\", {\n  attributeName: \"transform\",\n  type: \"rotate\",\n  from: \"0 18 18\",\n  to: \"360 18 18\",\n  dur: \"1s\",\n  repeatCount: \"indefinite\"\n}))));\nvar defaultTemplate = {\n  reset: function reset(_ref) {\n    var cssClasses = _ref.cssClasses;\n    return h(\"svg\", {\n      className: cssClasses.resetIcon,\n      viewBox: \"0 0 20 20\",\n      width: \"10\",\n      height: \"10\",\n      \"aria-hidden\": \"true\"\n    }, _ref2);\n  },\n  submit: function submit(_ref3) {\n    var cssClasses = _ref3.cssClasses;\n    return h(\"svg\", {\n      className: cssClasses.submitIcon,\n      width: \"10\",\n      height: \"10\",\n      viewBox: \"0 0 40 40\",\n      \"aria-hidden\": \"true\"\n    }, _ref4);\n  },\n  loadingIndicator: function loadingIndicator(_ref5) {\n    var cssClasses = _ref5.cssClasses;\n    return h(\"svg\", {\n      className: cssClasses.loadingIcon,\n      width: \"16\",\n      height: \"16\",\n      viewBox: \"0 0 38 38\",\n      stroke: \"#444\",\n      \"aria-hidden\": \"true\"\n    }, _ref6);\n  }\n};\nexport default defaultTemplate;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h, render } from 'preact';\nimport SearchBox from \"../../components/SearchBox/SearchBox.js\";\nimport connectSearchBox from \"../../connectors/search-box/connectSearchBox.js\";\nimport { component } from \"../../lib/suit.js\";\nimport { getContainerNode, createDocumentationMessageGenerator } from \"../../lib/utils/index.js\";\nimport defaultTemplates from \"./defaultTemplates.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'search-box'\n});\nvar suit = component('SearchBox');\nvar renderer = function renderer(_ref) {\n  var containerNode = _ref.containerNode,\n    cssClasses = _ref.cssClasses,\n    placeholder = _ref.placeholder,\n    templates = _ref.templates,\n    autofocus = _ref.autofocus,\n    searchAsYouType = _ref.searchAsYouType,\n    showReset = _ref.showReset,\n    showSubmit = _ref.showSubmit,\n    showLoadingIndicator = _ref.showLoadingIndicator;\n  return function (_ref2) {\n    var refine = _ref2.refine,\n      query = _ref2.query,\n      isSearchStalled = _ref2.isSearchStalled;\n    render(h(SearchBox, {\n      query: query,\n      placeholder: placeholder,\n      autofocus: autofocus,\n      refine: refine,\n      searchAsYouType: searchAsYouType,\n      templates: templates,\n      showSubmit: showSubmit,\n      showReset: showReset,\n      showLoadingIndicator: showLoadingIndicator,\n      isSearchStalled: isSearchStalled,\n      cssClasses: cssClasses\n    }), containerNode);\n  };\n};\n\n/**\n * The searchbox widget is used to let the user set a text based query.\n *\n * This is usually the  main entry point to start the search in an instantsearch context. For that\n * reason is usually placed on top, and not hidden so that the user can start searching right\n * away.\n *\n */\n\nvar searchBox = function searchBox(widgetParams) {\n  var _ref3 = widgetParams || {},\n    container = _ref3.container,\n    _ref3$placeholder = _ref3.placeholder,\n    placeholder = _ref3$placeholder === void 0 ? '' : _ref3$placeholder,\n    _ref3$cssClasses = _ref3.cssClasses,\n    userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses,\n    _ref3$autofocus = _ref3.autofocus,\n    autofocus = _ref3$autofocus === void 0 ? false : _ref3$autofocus,\n    _ref3$searchAsYouType = _ref3.searchAsYouType,\n    searchAsYouType = _ref3$searchAsYouType === void 0 ? true : _ref3$searchAsYouType,\n    _ref3$showReset = _ref3.showReset,\n    showReset = _ref3$showReset === void 0 ? true : _ref3$showReset,\n    _ref3$showSubmit = _ref3.showSubmit,\n    showSubmit = _ref3$showSubmit === void 0 ? true : _ref3$showSubmit,\n    _ref3$showLoadingIndi = _ref3.showLoadingIndicator,\n    showLoadingIndicator = _ref3$showLoadingIndi === void 0 ? true : _ref3$showLoadingIndi,\n    queryHook = _ref3.queryHook,\n    _ref3$templates = _ref3.templates,\n    userTemplates = _ref3$templates === void 0 ? {} : _ref3$templates;\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n  var containerNode = getContainerNode(container);\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    form: cx(suit({\n      descendantName: 'form'\n    }), userCssClasses.form),\n    input: cx(suit({\n      descendantName: 'input'\n    }), userCssClasses.input),\n    submit: cx(suit({\n      descendantName: 'submit'\n    }), userCssClasses.submit),\n    submitIcon: cx(suit({\n      descendantName: 'submitIcon'\n    }), userCssClasses.submitIcon),\n    reset: cx(suit({\n      descendantName: 'reset'\n    }), userCssClasses.reset),\n    resetIcon: cx(suit({\n      descendantName: 'resetIcon'\n    }), userCssClasses.resetIcon),\n    loadingIndicator: cx(suit({\n      descendantName: 'loadingIndicator'\n    }), userCssClasses.loadingIndicator),\n    loadingIcon: cx(suit({\n      descendantName: 'loadingIcon'\n    }), userCssClasses.loadingIcon)\n  };\n  var templates = _objectSpread(_objectSpread({}, defaultTemplates), userTemplates);\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    placeholder: placeholder,\n    templates: templates,\n    autofocus: autofocus,\n    searchAsYouType: searchAsYouType,\n    showReset: showReset,\n    showSubmit: showSubmit,\n    showLoadingIndicator: showLoadingIndicator\n  });\n  var makeWidget = connectSearchBox(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({\n    queryHook: queryHook\n  })), {}, {\n    $$widgetType: 'ais.searchBox'\n  });\n};\nexport default searchBox;","import { h } from 'preact';\nimport { readDataAttributes } from \"../../helpers/insights.js\";\nimport { deserializePayload, warning } from \"../utils/index.js\";\nexport var createInsightsEventHandler = function createInsightsEventHandler(_ref) {\n  var insights = _ref.insights,\n    sendEvent = _ref.sendEvent;\n  return function (event) {\n    // new way, e.g. bindEvent(\"click\", hit, \"Hit clicked\")\n    var insightsThroughSendEvent = findInsightsTarget(event.target, event.currentTarget, function (element) {\n      return element.hasAttribute('data-insights-event');\n    });\n    if (insightsThroughSendEvent) {\n      var payload = parseInsightsEvent(insightsThroughSendEvent);\n      payload.forEach(function (single) {\n        return sendEvent(single);\n      });\n    }\n\n    // old way, e.g. instantsearch.insights(\"clickedObjectIDsAfterSearch\", { .. })\n    var insightsThroughFunction = findInsightsTarget(event.target, event.currentTarget, function (element) {\n      return element.hasAttribute('data-insights-method') && element.hasAttribute('data-insights-payload');\n    });\n    if (insightsThroughFunction) {\n      var _readDataAttributes = readDataAttributes(insightsThroughFunction),\n        method = _readDataAttributes.method,\n        _payload = _readDataAttributes.payload;\n      insights(method, _payload);\n    }\n  };\n};\nfunction findInsightsTarget(startElement, endElement, validator) {\n  var element = startElement;\n  while (element && !validator(element)) {\n    if (element === endElement) {\n      return null;\n    }\n    element = element.parentElement;\n  }\n  return element;\n}\nfunction parseInsightsEvent(element) {\n  var serializedPayload = element.getAttribute('data-insights-event');\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.');\n  }\n  try {\n    return deserializePayload(serializedPayload);\n  } catch (error) {\n    throw new Error('The insights middleware was unable to parse `data-insights-event`.');\n  }\n}\n\n/**\n * @deprecated use `sendEvent` directly instead\n */\nexport default function withInsightsListener(BaseComponent) {\n  process.env.NODE_ENV === 'development' ? warning(false, 'The `withInsightsListener` function is deprecated and will be removed in the next major version. Please use `sendEvent` directly instead.') : void 0;\n  return function WithInsightsListener(props) {\n    var handleClick = createInsightsEventHandler(props);\n    return h(\"div\", {\n      onClick: handleClick\n    }, h(BaseComponent, props));\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h } from 'preact';\nimport { createInsightsEventHandler } from \"../../lib/insights/listener.js\";\nimport { warning } from \"../../lib/utils/index.js\";\nimport Template from \"../Template/Template.js\";\nexport default function Hits(_ref) {\n  var results = _ref.results,\n    hits = _ref.hits,\n    insights = _ref.insights,\n    bindEvent = _ref.bindEvent,\n    sendEvent = _ref.sendEvent,\n    cssClasses = _ref.cssClasses,\n    templateProps = _ref.templateProps;\n  var handleInsightsClick = createInsightsEventHandler({\n    insights: insights,\n    sendEvent: sendEvent\n  });\n  if (results.hits.length === 0) {\n    return h(Template, _extends({}, templateProps, {\n      templateKey: \"empty\",\n      rootProps: {\n        className: cx(cssClasses.root, cssClasses.emptyRoot),\n        onClick: handleInsightsClick\n      },\n      data: results\n    }));\n  }\n  return h(\"div\", {\n    className: cssClasses.root\n  }, h(\"ol\", {\n    className: cssClasses.list\n  }, hits.map(function (hit, index) {\n    return h(Template, _extends({}, templateProps, {\n      templateKey: \"item\",\n      rootTagName: \"li\",\n      rootProps: {\n        className: cssClasses.item,\n        onClick: function onClick(event) {\n          handleInsightsClick(event);\n          sendEvent('click:internal', hit, 'Hit Clicked');\n        },\n        onAuxClick: function onAuxClick(event) {\n          handleInsightsClick(event);\n          sendEvent('click:internal', hit, 'Hit Clicked');\n        }\n      },\n      key: hit.objectID,\n      data: _objectSpread(_objectSpread({}, hit), {}, {\n        get __hitIndex() {\n          process.env.NODE_ENV === 'development' ? warning(false, 'The `__hitIndex` property is deprecated. Use the absolute `__position` instead.') : void 0;\n          return index;\n        }\n      }),\n      bindEvent: bindEvent,\n      sendEvent: sendEvent\n    }));\n  })));\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nimport { serializePayload } from \"./serializer.js\";\nfunction chunk(arr) {\n  var chunkSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n  var chunks = [];\n  for (var i = 0; i < Math.ceil(arr.length / chunkSize); i++) {\n    chunks.push(arr.slice(i * chunkSize, (i + 1) * chunkSize));\n  }\n  return chunks;\n}\nexport function _buildEventPayloadsForHits(_ref) {\n  var index = _ref.index,\n    widgetType = _ref.widgetType,\n    methodName = _ref.methodName,\n    args = _ref.args,\n    instantSearchInstance = _ref.instantSearchInstance;\n  // when there's only one argument, that means it's custom\n  if (args.length === 1 && _typeof(args[0]) === 'object') {\n    return [args[0]];\n  }\n  var _args$0$split = args[0].split(':'),\n    _args$0$split2 = _slicedToArray(_args$0$split, 2),\n    eventType = _args$0$split2[0],\n    eventModifier = _args$0$split2[1];\n  var hits = args[1];\n  var eventName = args[2];\n  if (!hits) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass hit or hits as the second argument like:\\n  \".concat(methodName, \"(eventType, hit);\\n  \"));\n    } else {\n      return [];\n    }\n  }\n  if ((eventType === 'click' || eventType === 'conversion') && !eventName) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass eventName as the third argument for 'click' or 'conversion' events like:\\n  \".concat(methodName, \"('click', hit, 'Product Purchased');\\n\\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\\n  \"));\n    } else {\n      return [];\n    }\n  }\n  var hitsArray = Array.isArray(hits) ? hits : [hits];\n  if (hitsArray.length === 0) {\n    return [];\n  }\n  var queryID = hitsArray[0].__queryID;\n  var hitsChunks = chunk(hitsArray);\n  var objectIDsByChunk = hitsChunks.map(function (batch) {\n    return batch.map(function (hit) {\n      return hit.objectID;\n    });\n  });\n  var positionsByChunk = hitsChunks.map(function (batch) {\n    return batch.map(function (hit) {\n      return hit.__position;\n    });\n  });\n  if (eventType === 'view') {\n    if (instantSearchInstance.status !== 'idle') {\n      return [];\n    }\n    return hitsChunks.map(function (batch, i) {\n      return {\n        insightsMethod: 'viewedObjectIDs',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: {\n          eventName: eventName || 'Hits Viewed',\n          index: index,\n          objectIDs: objectIDsByChunk[i]\n        },\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (eventType === 'click') {\n    return hitsChunks.map(function (batch, i) {\n      return {\n        insightsMethod: 'clickedObjectIDsAfterSearch',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: {\n          eventName: eventName || 'Hit Clicked',\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDsByChunk[i],\n          positions: positionsByChunk[i]\n        },\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (eventType === 'conversion') {\n    return hitsChunks.map(function (batch, i) {\n      return {\n        insightsMethod: 'convertedObjectIDsAfterSearch',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: {\n          eventName: eventName || 'Hit Converted',\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDsByChunk[i]\n        },\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (process.env.NODE_ENV === 'development') {\n    throw new Error(\"eventType(\\\"\".concat(eventType, \"\\\") is not supported.\\n    If you want to send a custom payload, you can pass one object: \").concat(methodName, \"(customPayload);\\n    \"));\n  } else {\n    return [];\n  }\n}\nexport function createSendEventForHits(_ref2) {\n  var instantSearchInstance = _ref2.instantSearchInstance,\n    index = _ref2.index,\n    widgetType = _ref2.widgetType;\n  var sentEvents = {};\n  var timer = undefined;\n  var sendEventForHits = function sendEventForHits() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var payloads = _buildEventPayloadsForHits({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'sendEvent',\n      args: args,\n      instantSearchInstance: instantSearchInstance\n    });\n    payloads.forEach(function (payload) {\n      if (payload.eventType === 'click' && payload.eventModifier === 'internal' && sentEvents[payload.eventType]) {\n        return;\n      }\n      sentEvents[payload.eventType] = true;\n      instantSearchInstance.sendEventToInsights(payload);\n    });\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      sentEvents = {};\n    }, 0);\n  };\n  return sendEventForHits;\n}\nexport function createBindEventForHits(_ref3) {\n  var index = _ref3.index,\n    widgetType = _ref3.widgetType,\n    instantSearchInstance = _ref3.instantSearchInstance;\n  var bindEventForHits = function bindEventForHits() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    var payloads = _buildEventPayloadsForHits({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'bindEvent',\n      args: args,\n      instantSearchInstance: instantSearchInstance\n    });\n    return payloads.length ? \"data-insights-event=\".concat(serializePayload(payloads)) : '';\n  };\n  return bindEventForHits;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nexport function addAbsolutePosition(hits, page, hitsPerPage) {\n  return hits.map(function (hit, idx) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __position: hitsPerPage * page + idx + 1\n    });\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nexport function addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n  return hits.map(function (hit) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __queryID: queryID\n    });\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { escapeHits, TAG_PLACEHOLDER, checkRendering, createDocumentationMessageGenerator, addAbsolutePosition, addQueryID, createSendEventForHits, createBindEventForHits, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits',\n  connector: true\n});\nvar connectHits = function connectHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      _ref$escapeHTML = _ref.escapeHTML,\n      escapeHTML = _ref$escapeHTML === void 0 ? true : _ref$escapeHTML,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    var sendEvent;\n    var bindEvent;\n    return {\n      $$type: 'ais.hits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var renderState = this.getWidgetRenderState(renderOptions);\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n        renderState.sendEvent('view:internal', renderState.hits);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n          helper = _ref2.helper,\n          instantSearchInstance = _ref2.instantSearchInstance;\n        if (!sendEvent) {\n          sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n        if (!bindEvent) {\n          bindEvent = createBindEventForHits({\n            index: helper.getIndex(),\n            widgetType: this.$$type,\n            instantSearchInstance: instantSearchInstance\n          });\n        }\n        if (!results) {\n          return {\n            hits: [],\n            results: undefined,\n            sendEvent: sendEvent,\n            bindEvent: bindEvent,\n            widgetParams: widgetParams\n          };\n        }\n        if (escapeHTML && results.hits.length > 0) {\n          results.hits = escapeHits(results.hits);\n        }\n        var hitsWithAbsolutePosition = addAbsolutePosition(results.hits, results.page, results.hitsPerPage);\n        var hitsWithAbsolutePositionAndQueryID = addQueryID(hitsWithAbsolutePosition, results.queryID);\n        var transformedHits = transformItems(hitsWithAbsolutePositionAndQueryID, {\n          results: results\n        });\n        return {\n          hits: transformedHits,\n          results: results,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        if (!escapeHTML) {\n          return state;\n        }\n        return state.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state) {\n        if (!escapeHTML) {\n          return state;\n        }\n        return state.setQueryParameters(TAG_PLACEHOLDER);\n      }\n    };\n  };\n};\nexport default connectHits;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { uniq, find, createDocumentationMessageGenerator, warning } from \"../utils/index.js\";\nvar getSelectedHits = function getSelectedHits(hits, selectedObjectIDs) {\n  return selectedObjectIDs.map(function (objectID) {\n    var hit = find(hits, function (h) {\n      return h.objectID === objectID;\n    });\n    if (typeof hit === 'undefined') {\n      throw new Error(\"Could not find objectID \\\"\".concat(objectID, \"\\\" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.\"));\n    }\n    return hit;\n  });\n};\nvar getQueryID = function getQueryID(selectedHits) {\n  var queryIDs = uniq(selectedHits.map(function (hit) {\n    return hit.__queryID;\n  }));\n  if (queryIDs.length > 1) {\n    throw new Error('Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.');\n  }\n  var queryID = queryIDs[0];\n  if (typeof queryID !== 'string') {\n    throw new Error(\"Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\\n\\nSee: https://alg.li/lNiZZ7\");\n  }\n  return queryID;\n};\nvar getPositions = function getPositions(selectedHits) {\n  return selectedHits.map(function (hit) {\n    return hit.__position;\n  });\n};\nexport var inferPayload = function inferPayload(_ref) {\n  var method = _ref.method,\n    results = _ref.results,\n    hits = _ref.hits,\n    objectIDs = _ref.objectIDs;\n  var index = results.index;\n  var selectedHits = getSelectedHits(hits, objectIDs);\n  var queryID = getQueryID(selectedHits);\n  switch (method) {\n    case 'clickedObjectIDsAfterSearch':\n      {\n        var positions = getPositions(selectedHits);\n        return {\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDs,\n          positions: positions\n        };\n      }\n    case 'convertedObjectIDsAfterSearch':\n      return {\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs\n      };\n    default:\n      throw new Error(\"Unsupported method passed to insights: \\\"\".concat(method, \"\\\".\"));\n  }\n};\nvar wrapInsightsClient = function wrapInsightsClient(aa, results, hits) {\n  return function (method) {\n    for (var _len = arguments.length, payloads = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      payloads[_key - 1] = arguments[_key];\n    }\n    var payload = payloads[0];\n    process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n    if (!aa) {\n      var withInstantSearchUsage = createDocumentationMessageGenerator({\n        name: 'instantsearch'\n      });\n      throw new Error(withInstantSearchUsage('The `insightsClient` option has not been provided to `instantsearch`.'));\n    }\n    if (!Array.isArray(payload.objectIDs)) {\n      throw new TypeError('Expected `objectIDs` to be an array.');\n    }\n    var inferredPayload = inferPayload({\n      method: method,\n      results: results,\n      hits: hits,\n      objectIDs: payload.objectIDs\n    });\n    aa(method, _objectSpread(_objectSpread({}, inferredPayload), payload));\n  };\n};\n\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n * It passes `insights` to `HitsWithInsightsListener` and `InfiniteHitsWithInsightsListener`.\n */\nexport default function withInsights(connector) {\n  return function (renderFn, unmountFn) {\n    return connector(function (renderOptions, isFirstRender) {\n      var results = renderOptions.results,\n        hits = renderOptions.hits,\n        instantSearchInstance = renderOptions.instantSearchInstance;\n      if (results && hits && instantSearchInstance) {\n        var insights = wrapInsightsClient(instantSearchInstance.insightsClient, results, hits);\n        return renderFn(_objectSpread(_objectSpread({}, renderOptions), {}, {\n          insights: insights\n        }), isFirstRender);\n      }\n      return renderFn(renderOptions, isFirstRender);\n    }, unmountFn);\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport { uniq } from \"../utils/uniq.js\";\nfunction prepareTemplates(\n// can not use = {} here, since the template could have different constraints\ndefaultTemplates) {\n  var templates = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var allKeys = uniq([].concat(_toConsumableArray(Object.keys(defaultTemplates || {})), _toConsumableArray(Object.keys(templates))));\n  return allKeys.reduce(function (config, key) {\n    var defaultTemplate = defaultTemplates ? defaultTemplates[key] : undefined;\n    var customTemplate = templates[key];\n    var isCustomTemplate = customTemplate !== undefined && customTemplate !== defaultTemplate;\n    config.templates[key] = isCustomTemplate ? customTemplate : defaultTemplate;\n    config.useCustomCompileOptions[key] = isCustomTemplate;\n    return config;\n  }, {\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    templates: {},\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    useCustomCompileOptions: {}\n  });\n}\n\n/**\n * Prepares an object to be passed to the Template widget\n */\nexport function prepareTemplateProps(_ref) {\n  var defaultTemplates = _ref.defaultTemplates,\n    templates = _ref.templates,\n    templatesConfig = _ref.templatesConfig;\n  var preparedTemplates = prepareTemplates(defaultTemplates, templates);\n  return _objectSpread({\n    templatesConfig: templatesConfig\n  }, preparedTemplates);\n}","import { omit } from \"../../lib/utils/index.js\";\nvar defaultTemplates = {\n  empty: function empty() {\n    return 'No results';\n  },\n  item: function item(data) {\n    return JSON.stringify(omit(data, ['__hitIndex']), null, 2);\n  }\n};\nexport default defaultTemplates;","/**\n * Creates a new object with the same keys as the original object, but without the excluded keys.\n * @param source original object\n * @param excluded keys to remove from the original object\n * @returns the new object\n */\nexport function omit(source, excluded) {\n  if (source === null || source === undefined) {\n    return source;\n  }\n  return Object.keys(source).reduce(function (target, key) {\n    if (excluded.indexOf(key) >= 0) {\n      return target;\n    }\n    var validKey = key;\n    target[validKey] = source[validKey];\n    return target;\n  }, {});\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h, render } from 'preact';\nimport Hits from \"../../components/Hits/Hits.js\";\nimport connectHits from \"../../connectors/hits/connectHits.js\";\nimport { withInsights } from \"../../lib/insights/index.js\";\nimport { component } from \"../../lib/suit.js\";\nimport { prepareTemplateProps } from \"../../lib/templating/index.js\";\nimport { getContainerNode, createDocumentationMessageGenerator } from \"../../lib/utils/index.js\";\nimport defaultTemplates from \"./defaultTemplates.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits'\n});\nvar suit = component('Hits');\nvar renderer = function renderer(_ref) {\n  var renderState = _ref.renderState,\n    cssClasses = _ref.cssClasses,\n    containerNode = _ref.containerNode,\n    templates = _ref.templates;\n  return function (_ref2, isFirstRendering) {\n    var receivedHits = _ref2.hits,\n      results = _ref2.results,\n      instantSearchInstance = _ref2.instantSearchInstance,\n      insights = _ref2.insights,\n      bindEvent = _ref2.bindEvent,\n      sendEvent = _ref2.sendEvent;\n    if (isFirstRendering) {\n      renderState.templateProps = prepareTemplateProps({\n        defaultTemplates: defaultTemplates,\n        templatesConfig: instantSearchInstance.templatesConfig,\n        templates: templates\n      });\n      return;\n    }\n    render(h(Hits, {\n      cssClasses: cssClasses,\n      hits: receivedHits,\n      results: results,\n      templateProps: renderState.templateProps,\n      insights: insights,\n      sendEvent: sendEvent,\n      bindEvent: bindEvent\n    }), containerNode);\n  };\n};\nvar hits = function hits(widgetParams) {\n  var _ref3 = widgetParams || {},\n    container = _ref3.container,\n    escapeHTML = _ref3.escapeHTML,\n    transformItems = _ref3.transformItems,\n    _ref3$templates = _ref3.templates,\n    templates = _ref3$templates === void 0 ? {} : _ref3$templates,\n    _ref3$cssClasses = _ref3.cssClasses,\n    userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses;\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n  var containerNode = getContainerNode(container);\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    emptyRoot: cx(suit({\n      modifierName: 'empty'\n    }), userCssClasses.emptyRoot),\n    list: cx(suit({\n      descendantName: 'list'\n    }), userCssClasses.list),\n    item: cx(suit({\n      descendantName: 'item'\n    }), userCssClasses.item)\n  };\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    renderState: {},\n    templates: templates\n  });\n  var makeWidget = withInsights(connectHits)(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({\n    escapeHTML: escapeHTML,\n    transformItems: transformItems\n  })), {}, {\n    $$widgetType: 'ais.hits'\n  });\n};\nexport default hits;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _excluded = [\"nbHits\", \"nbSortedHits\", \"cssClasses\", \"templateProps\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h } from 'preact';\nimport Template from \"../Template/Template.js\";\nvar Stats = function Stats(_ref) {\n  var nbHits = _ref.nbHits,\n    nbSortedHits = _ref.nbSortedHits,\n    cssClasses = _ref.cssClasses,\n    templateProps = _ref.templateProps,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  return h(\"div\", {\n    className: cx(cssClasses.root)\n  }, h(Template, _extends({}, templateProps, {\n    templateKey: \"text\",\n    rootTagName: \"span\",\n    rootProps: {\n      className: cssClasses.text\n    },\n    data: _objectSpread({\n      hasManySortedResults: nbSortedHits && nbSortedHits > 1,\n      hasNoSortedResults: nbSortedHits === 0,\n      hasOneSortedResults: nbSortedHits === 1,\n      hasManyResults: nbHits > 1,\n      hasNoResults: nbHits === 0,\n      hasOneResult: nbHits === 1,\n      nbHits: nbHits,\n      nbSortedHits: nbSortedHits,\n      cssClasses: cssClasses\n    }, rest)\n  })));\n};\nexport default Stats;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { checkRendering, createDocumentationMessageGenerator, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'stats',\n  connector: true\n});\n\n/**\n * **Stats** connector provides the logic to build a custom widget that will displays\n * search statistics (hits number and processing time).\n */\n\nvar connectStats = function connectStats(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    return {\n      $$type: 'ais.stats',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          stats: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref) {\n        var results = _ref.results,\n          state = _ref.state;\n        if (!results) {\n          return {\n            hitsPerPage: state.hitsPerPage,\n            nbHits: 0,\n            nbSortedHits: undefined,\n            areHitsSorted: false,\n            nbPages: 0,\n            page: state.page || 0,\n            processingTimeMS: -1,\n            query: state.query || '',\n            widgetParams: widgetParams\n          };\n        }\n        return {\n          hitsPerPage: results.hitsPerPage,\n          nbHits: results.nbHits,\n          nbSortedHits: results.nbSortedHits,\n          areHitsSorted: typeof results.appliedRelevancyStrictness !== 'undefined' && results.appliedRelevancyStrictness > 0 && results.nbSortedHits !== results.nbHits,\n          nbPages: results.nbPages,\n          page: results.page,\n          processingTimeMS: results.processingTimeMS,\n          query: results.query,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\nexport default connectStats;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h, render } from 'preact';\nimport Stats from \"../../components/Stats/Stats.js\";\nimport connectStats from \"../../connectors/stats/connectStats.js\";\nimport { formatNumber } from \"../../lib/formatNumber.js\";\nimport { component } from \"../../lib/suit.js\";\nimport { prepareTemplateProps } from \"../../lib/templating/index.js\";\nimport { getContainerNode, createDocumentationMessageGenerator } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'stats'\n});\nvar suit = component('Stats');\nexport var defaultTemplates = {\n  text: function text(props) {\n    return \"\".concat(props.areHitsSorted ? getSortedResultsSentence(props) : getResultsSentence(props), \" found in \").concat(props.processingTimeMS, \"ms\");\n  }\n};\nfunction getSortedResultsSentence(_ref) {\n  var nbHits = _ref.nbHits,\n    hasNoSortedResults = _ref.hasNoSortedResults,\n    hasOneSortedResults = _ref.hasOneSortedResults,\n    hasManySortedResults = _ref.hasManySortedResults,\n    nbSortedHits = _ref.nbSortedHits;\n  var suffix = \"sorted out of \".concat(formatNumber(nbHits));\n  if (hasNoSortedResults) {\n    return \"No relevant results \".concat(suffix);\n  }\n  if (hasOneSortedResults) {\n    return \"1 relevant result \".concat(suffix);\n  }\n  if (hasManySortedResults) {\n    return \"\".concat(formatNumber(nbSortedHits || 0), \" relevant results \").concat(suffix);\n  }\n  return '';\n}\nfunction getResultsSentence(_ref2) {\n  var nbHits = _ref2.nbHits,\n    hasNoResults = _ref2.hasNoResults,\n    hasOneResult = _ref2.hasOneResult,\n    hasManyResults = _ref2.hasManyResults;\n  if (hasNoResults) {\n    return 'No results';\n  }\n  if (hasOneResult) {\n    return '1 result';\n  }\n  if (hasManyResults) {\n    return \"\".concat(formatNumber(nbHits), \" results\");\n  }\n  return '';\n}\nvar renderer = function renderer(_ref3) {\n  var renderState = _ref3.renderState,\n    cssClasses = _ref3.cssClasses,\n    containerNode = _ref3.containerNode,\n    templates = _ref3.templates;\n  return function (_ref4, isFirstRendering) {\n    var hitsPerPage = _ref4.hitsPerPage,\n      nbHits = _ref4.nbHits,\n      nbSortedHits = _ref4.nbSortedHits,\n      areHitsSorted = _ref4.areHitsSorted,\n      nbPages = _ref4.nbPages,\n      page = _ref4.page,\n      processingTimeMS = _ref4.processingTimeMS,\n      query = _ref4.query,\n      instantSearchInstance = _ref4.instantSearchInstance;\n    if (isFirstRendering) {\n      renderState.templateProps = prepareTemplateProps({\n        defaultTemplates: defaultTemplates,\n        templatesConfig: instantSearchInstance.templatesConfig,\n        templates: templates\n      });\n      return;\n    }\n    render(h(Stats, {\n      cssClasses: cssClasses,\n      hitsPerPage: hitsPerPage,\n      nbHits: nbHits,\n      nbSortedHits: nbSortedHits,\n      areHitsSorted: areHitsSorted,\n      nbPages: nbPages,\n      page: page,\n      processingTimeMS: processingTimeMS,\n      query: query,\n      templateProps: renderState.templateProps\n    }), containerNode);\n  };\n};\n\n/**\n * The `stats` widget is used to display useful insights about the current results.\n *\n * By default, it will display the **number of hits** and the time taken to compute the\n * results inside the engine.\n */\nvar stats = function stats(widgetParams) {\n  var _ref5 = widgetParams || {},\n    container = _ref5.container,\n    _ref5$cssClasses = _ref5.cssClasses,\n    userCssClasses = _ref5$cssClasses === void 0 ? {} : _ref5$cssClasses,\n    _ref5$templates = _ref5.templates,\n    templates = _ref5$templates === void 0 ? {} : _ref5$templates;\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n  var containerNode = getContainerNode(container);\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    text: cx(suit({\n      descendantName: 'text'\n    }), userCssClasses.text)\n  };\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    templates: templates,\n    renderState: {}\n  });\n  var makeWidget = connectStats(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({})), {}, {\n    $$widgetType: 'ais.stats'\n  });\n};\nexport default stats;","import { cx } from '@algolia/ui-components-shared';\nimport { h } from 'preact';\nimport { isSpecialClick } from \"../../lib/utils/index.js\";\nimport Template from \"../Template/Template.js\";\nfunction Pagination(props) {\n  function createClickHandler(pageNumber) {\n    return function (event) {\n      if (isSpecialClick(event)) {\n        // do not alter the default browser behavior\n        // if one special key is down\n        return;\n      }\n      event.preventDefault();\n      props.setCurrentPage(pageNumber);\n    };\n  }\n  return h(\"div\", {\n    className: cx(props.cssClasses.root, props.nbPages <= 1 && props.cssClasses.noRefinementRoot)\n  }, h(\"ul\", {\n    className: props.cssClasses.list\n  }, props.showFirst && h(PaginationLink, {\n    ariaLabel: \"First\",\n    className: props.cssClasses.firstPageItem,\n    isDisabled: props.isFirstPage,\n    templates: props.templates,\n    templateKey: \"first\",\n    pageNumber: 0,\n    createURL: props.createURL,\n    cssClasses: props.cssClasses,\n    createClickHandler: createClickHandler\n  }), props.showPrevious && h(PaginationLink, {\n    ariaLabel: \"Previous\",\n    className: props.cssClasses.previousPageItem,\n    isDisabled: props.isFirstPage,\n    templates: props.templates,\n    templateKey: \"previous\",\n    pageNumber: props.currentPage - 1,\n    createURL: props.createURL,\n    cssClasses: props.cssClasses,\n    createClickHandler: createClickHandler\n  }), props.pages.map(function (pageNumber) {\n    return h(PaginationLink, {\n      key: pageNumber,\n      ariaLabel: \"Page \".concat(pageNumber + 1),\n      className: props.cssClasses.pageItem,\n      isSelected: pageNumber === props.currentPage,\n      templates: props.templates,\n      templateKey: \"page\",\n      pageNumber: pageNumber,\n      createURL: props.createURL,\n      cssClasses: props.cssClasses,\n      createClickHandler: createClickHandler\n    });\n  }), props.showNext && h(PaginationLink, {\n    ariaLabel: \"Next\",\n    className: props.cssClasses.nextPageItem,\n    isDisabled: props.isLastPage,\n    templates: props.templates,\n    templateKey: \"next\",\n    pageNumber: props.currentPage + 1,\n    createURL: props.createURL,\n    cssClasses: props.cssClasses,\n    createClickHandler: createClickHandler\n  }), props.showLast && h(PaginationLink, {\n    ariaLabel: \"Last\",\n    className: props.cssClasses.lastPageItem,\n    isDisabled: props.isLastPage,\n    templates: props.templates,\n    templateKey: \"last\",\n    pageNumber: props.nbPages - 1,\n    createURL: props.createURL,\n    cssClasses: props.cssClasses,\n    createClickHandler: createClickHandler\n  })));\n}\nfunction PaginationLink(_ref) {\n  var templates = _ref.templates,\n    templateKey = _ref.templateKey,\n    ariaLabel = _ref.ariaLabel,\n    pageNumber = _ref.pageNumber,\n    className = _ref.className,\n    _ref$isDisabled = _ref.isDisabled,\n    isDisabled = _ref$isDisabled === void 0 ? false : _ref$isDisabled,\n    _ref$isSelected = _ref.isSelected,\n    isSelected = _ref$isSelected === void 0 ? false : _ref$isSelected,\n    cssClasses = _ref.cssClasses,\n    createURL = _ref.createURL,\n    createClickHandler = _ref.createClickHandler;\n  return h(\"li\", {\n    className: cx(cssClasses.item, className, isDisabled && cssClasses.disabledItem, isSelected && cssClasses.selectedItem)\n  }, isDisabled ? h(Template, {\n    rootTagName: \"span\",\n    rootProps: {\n      className: cssClasses.link\n    },\n    templateKey: templateKey,\n    templates: templates,\n    data: {\n      page: pageNumber + 1\n    }\n  }) : h(Template, {\n    rootTagName: \"a\",\n    rootProps: {\n      className: cssClasses.link,\n      'aria-label': ariaLabel,\n      href: createURL(pageNumber),\n      onClick: createClickHandler(pageNumber)\n    },\n    templateKey: templateKey,\n    templates: templates,\n    data: {\n      page: pageNumber + 1\n    }\n  }));\n}\nexport default Pagination;","export function isSpecialClick(event) {\n  var isMiddleClick = event.button === 1;\n  return isMiddleClick || event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n}","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nexport function range(_ref) {\n  var _ref$start = _ref.start,\n    start = _ref$start === void 0 ? 0 : _ref$start,\n    end = _ref.end,\n    _ref$step = _ref.step,\n    step = _ref$step === void 0 ? 1 : _ref$step;\n  // We can't divide by 0 so we re-assign the step to 1 if it happens.\n  var limitStep = step === 0 ? 1 : step;\n\n  // In some cases the array to create has a decimal length.\n  // We therefore need to round the value.\n  // Example:\n  //   { start: 1, end: 5000, step: 500 }\n  //   => Array length = (5000 - 1) / 500 = 9.998\n  var arrayLength = Math.round((end - start) / limitStep);\n  return _toConsumableArray(Array(arrayLength)).map(function (_, current) {\n    return start + current * limitStep;\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { range } from \"../../lib/utils/index.js\";\nvar Paginator = /*#__PURE__*/function () {\n  function Paginator(params) {\n    _classCallCheck(this, Paginator);\n    _defineProperty(this, \"currentPage\", void 0);\n    _defineProperty(this, \"total\", void 0);\n    _defineProperty(this, \"padding\", void 0);\n    this.currentPage = params.currentPage;\n    this.total = params.total;\n    this.padding = params.padding;\n  }\n  _createClass(Paginator, [{\n    key: \"pages\",\n    value: function pages() {\n      var total = this.total,\n        currentPage = this.currentPage,\n        padding = this.padding;\n      if (total === 0) return [0];\n      var totalDisplayedPages = this.nbPagesDisplayed(padding, total);\n      if (totalDisplayedPages === total) {\n        return range({\n          end: total\n        });\n      }\n      var paddingLeft = this.calculatePaddingLeft(currentPage, padding, total, totalDisplayedPages);\n      var paddingRight = totalDisplayedPages - paddingLeft;\n      var first = currentPage - paddingLeft;\n      var last = currentPage + paddingRight;\n      return range({\n        start: first,\n        end: last\n      });\n    }\n  }, {\n    key: \"nbPagesDisplayed\",\n    value: function nbPagesDisplayed(padding, total) {\n      return Math.min(2 * padding + 1, total);\n    }\n  }, {\n    key: \"calculatePaddingLeft\",\n    value: function calculatePaddingLeft(current, padding, total, totalDisplayedPages) {\n      if (current <= padding) {\n        return current;\n      }\n      if (current >= total - padding) {\n        return totalDisplayedPages - (total - current);\n      }\n      return padding;\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      return this.currentPage === this.total - 1 || this.total === 0;\n    }\n  }, {\n    key: \"isFirstPage\",\n    value: function isFirstPage() {\n      return this.currentPage === 0;\n    }\n  }]);\n  return Paginator;\n}();\nexport default Paginator;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { checkRendering, createDocumentationMessageGenerator, noop } from \"../../lib/utils/index.js\";\nimport Paginator from \"./Paginator.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'pagination',\n  connector: true\n});\n/**\n * **Pagination** connector provides the logic to build a widget that will let the user\n * choose the current page of the results.\n *\n * When using the pagination with Algolia, you should be aware that the engine won't provide you pages\n * beyond the 1000th hits by default. You can find more information on the [Algolia documentation](https://www.algolia.com/doc/guides/searching/pagination/#pagination-limitations).\n */\nvar connectPagination = function connectPagination(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      totalPages = _ref.totalPages,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 3 : _ref$padding;\n    var pager = new Paginator({\n      currentPage: 0,\n      total: 0,\n      padding: padding\n    });\n    var connectorState = {};\n    function getMaxPage(_ref2) {\n      var nbPages = _ref2.nbPages;\n      return totalPages !== undefined ? Math.min(totalPages, nbPages) : nbPages;\n    }\n    return {\n      $$type: 'ais.pagination',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        return state.setQueryParameter('page', undefined);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var page = searchParameters.page || 0;\n        if (!page) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return searchParameters.setQueryParameter('page', page);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref6) {\n        var results = _ref6.results,\n          helper = _ref6.helper,\n          state = _ref6.state,\n          createURL = _ref6.createURL;\n        if (!connectorState.refine) {\n          connectorState.refine = function (page) {\n            helper.setPage(page);\n            helper.search();\n          };\n        }\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (helperState) {\n            return function (page) {\n              return createURL(helperState.setPage(page));\n            };\n          };\n        }\n        var page = state.page || 0;\n        var nbPages = getMaxPage(results || {\n          nbPages: 0\n        });\n        pager.currentPage = page;\n        pager.total = nbPages;\n        return {\n          createURL: connectorState.createURL(state),\n          refine: connectorState.refine,\n          canRefine: nbPages > 1,\n          currentRefinement: page,\n          nbHits: (results === null || results === void 0 ? void 0 : results.nbHits) || 0,\n          nbPages: nbPages,\n          pages: results ? pager.pages() : [],\n          isFirstPage: pager.isFirstPage(),\n          isLastPage: pager.isLastPage(),\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          pagination: this.getWidgetRenderState(renderOptions)\n        });\n      }\n    };\n  };\n};\nexport default connectPagination;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { cx } from '@algolia/ui-components-shared';\nimport { h, render } from 'preact';\nimport Pagination from \"../../components/Pagination/Pagination.js\";\nimport connectPagination from \"../../connectors/pagination/connectPagination.js\";\nimport { component } from \"../../lib/suit.js\";\nimport { getContainerNode, createDocumentationMessageGenerator } from \"../../lib/utils/index.js\";\nvar suit = component('Pagination');\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'pagination'\n});\nvar defaultTemplates = {\n  previous: function previous() {\n    return '‹';\n  },\n  next: function next() {\n    return '›';\n  },\n  page: function page(_ref) {\n    var _page = _ref.page;\n    return \"\".concat(_page);\n  },\n  first: function first() {\n    return '«';\n  },\n  last: function last() {\n    return '»';\n  }\n};\nvar renderer = function renderer(_ref2) {\n  var containerNode = _ref2.containerNode,\n    cssClasses = _ref2.cssClasses,\n    templates = _ref2.templates,\n    showFirst = _ref2.showFirst,\n    showLast = _ref2.showLast,\n    showPrevious = _ref2.showPrevious,\n    showNext = _ref2.showNext,\n    scrollToNode = _ref2.scrollToNode;\n  return function (_ref3, isFirstRendering) {\n    var createURL = _ref3.createURL,\n      currentRefinement = _ref3.currentRefinement,\n      nbPages = _ref3.nbPages,\n      pages = _ref3.pages,\n      isFirstPage = _ref3.isFirstPage,\n      isLastPage = _ref3.isLastPage,\n      refine = _ref3.refine;\n    if (isFirstRendering) return;\n    var setCurrentPage = function setCurrentPage(pageNumber) {\n      refine(pageNumber);\n      if (scrollToNode !== false) {\n        scrollToNode.scrollIntoView();\n      }\n    };\n    render(h(Pagination, {\n      createURL: createURL,\n      cssClasses: cssClasses,\n      currentPage: currentRefinement,\n      templates: templates,\n      nbPages: nbPages,\n      pages: pages,\n      isFirstPage: isFirstPage,\n      isLastPage: isLastPage,\n      setCurrentPage: setCurrentPage,\n      showFirst: showFirst,\n      showLast: showLast,\n      showPrevious: showPrevious,\n      showNext: showNext\n    }), containerNode);\n  };\n};\nvar pagination = function pagination(widgetParams) {\n  var _ref4 = widgetParams || {},\n    container = _ref4.container,\n    _ref4$templates = _ref4.templates,\n    userTemplates = _ref4$templates === void 0 ? {} : _ref4$templates,\n    _ref4$cssClasses = _ref4.cssClasses,\n    userCssClasses = _ref4$cssClasses === void 0 ? {} : _ref4$cssClasses,\n    totalPages = _ref4.totalPages,\n    padding = _ref4.padding,\n    _ref4$showFirst = _ref4.showFirst,\n    showFirst = _ref4$showFirst === void 0 ? true : _ref4$showFirst,\n    _ref4$showLast = _ref4.showLast,\n    showLast = _ref4$showLast === void 0 ? true : _ref4$showLast,\n    _ref4$showPrevious = _ref4.showPrevious,\n    showPrevious = _ref4$showPrevious === void 0 ? true : _ref4$showPrevious,\n    _ref4$showNext = _ref4.showNext,\n    showNext = _ref4$showNext === void 0 ? true : _ref4$showNext,\n    _ref4$scrollTo = _ref4.scrollTo,\n    userScrollTo = _ref4$scrollTo === void 0 ? 'body' : _ref4$scrollTo;\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n  var containerNode = getContainerNode(container);\n  var scrollTo = userScrollTo === true ? 'body' : userScrollTo;\n  var scrollToNode = scrollTo !== false ? getContainerNode(scrollTo) : false;\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    noRefinementRoot: cx(suit({\n      modifierName: 'noRefinement'\n    }), userCssClasses.noRefinementRoot),\n    list: cx(suit({\n      descendantName: 'list'\n    }), userCssClasses.list),\n    item: cx(suit({\n      descendantName: 'item'\n    }), userCssClasses.item),\n    firstPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'firstPage'\n    }), userCssClasses.firstPageItem),\n    lastPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'lastPage'\n    }), userCssClasses.lastPageItem),\n    previousPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'previousPage'\n    }), userCssClasses.previousPageItem),\n    nextPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'nextPage'\n    }), userCssClasses.nextPageItem),\n    pageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'page'\n    }), userCssClasses.pageItem),\n    selectedItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'selected'\n    }), userCssClasses.selectedItem),\n    disabledItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'disabled'\n    }), userCssClasses.disabledItem),\n    link: cx(suit({\n      descendantName: 'link'\n    }), userCssClasses.link)\n  };\n  var templates = _objectSpread(_objectSpread({}, defaultTemplates), userTemplates);\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    templates: templates,\n    showFirst: showFirst,\n    showLast: showLast,\n    showPrevious: showPrevious,\n    showNext: showNext,\n    scrollToNode: scrollToNode\n  });\n  var makeWidget = connectPagination(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({\n    totalPages: totalPages,\n    padding: padding\n  })), {}, {\n    $$widgetType: 'ais.pagination'\n  });\n};\nexport default pagination;","// stopBodyScroll 方法依赖\nlet bodyEl = document.body\nlet windowTop = 0\nconst bodyElPosition = bodyEl.style.position\n\nconst archerUtil = {\n  // 回到顶部\n  backTop: function (event) {\n    event.preventDefault()\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    })\n  },\n\n  // 获取元素在页面上相对左上角的位置\n  getAbsPosition: function (e) {\n    let x = e.offsetLeft,\n      y = e.offsetTop\n\n    let current = e.offsetParent\n    while (current !== null) {\n      x += current.offsetLeft\n      y += current.offsetTop\n      current = current.offsetParent\n    }\n\n    return {\n      x: x,\n      y: y,\n    }\n  },\n\n  // 格式化日期\n  dateFormater: function (date, fmt) {\n    const o = {\n      'M+': date.getMonth() + 1, // 月份\n      'd+': date.getDate(), // 日\n      'h+': date.getHours(), // 小时\n      'm+': date.getMinutes(), // 分\n      's+': date.getSeconds(), // 秒\n      'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\n      S: date.getMilliseconds(), // 毫秒\n    }\n    if (/(y+)/.test(fmt)) {\n      fmt = fmt.replace(\n        RegExp.$1,\n        String(date.getFullYear()).substr(4 - RegExp.$1.length)\n      )\n    }\n    for (const k in o) {\n      if (new RegExp('(' + k + ')').test(fmt)) {\n        fmt = fmt.replace(\n          RegExp.$1,\n          RegExp.$1.length === 1\n            ? o[k]\n            : ('00' + o[k]).substr(String(o[k]).length)\n        )\n      }\n    }\n    return fmt\n  },\n\n  // 获取 1rem 对应的 px 值\n  rem: () => {\n    return parseInt($('html').css('font-size'), 10)\n  },\n\n  // 设置地址栏 hash\n  setWindowHash: (hash) => {\n    window.history.replaceState({}, '', `#/${hash}`)\n  },\n\n  // 读取地址栏 hash\n  getWindowHash: () => {\n    return window.location.hash.replace(/^#\\//, '#')\n  },\n\n  // rAF 的 ticking\n  rafTick: function (ticking, updateFunc) {\n    if (!ticking) {\n      requestAnimationFrame(updateFunc)\n    }\n    ticking = true\n  },\n\n  // 固定 body\n  // see: https://segmentfault.com/a/1190000012313337\n  stopBodyScroll: function (isFixed) {\n    if (isFixed) {\n      windowTop = window.scrollY\n\n      bodyEl.style.position = 'fixed'\n      bodyEl.style.top = -windowTop + 'px'\n      bodyEl.style.width = '100%'\n    } else {\n      bodyEl.style.position = bodyElPosition\n      bodyEl.style.top = ''\n      bodyEl.style.width = ''\n\n      window.scrollTo(0, windowTop)\n    }\n  },\n\n  // 函数节流\n  throttle: function (func, wait, immediate = false) {\n    let timer\n    return function () {\n      const args = arguments\n      if (!timer) {\n        if (immediate) {\n          timer = setTimeout(() => {\n            timer = undefined\n          }, wait)\n          func.apply(this, args)\n        } else {\n          timer = setTimeout(() => {\n            timer = undefined\n            func.apply(this, args)\n          }, wait)\n        }\n      }\n    }\n  },\n\n  // 函数防抖\n  debounce: function (func, wait, immediate = false) {\n    let timer\n    return function () {\n      const args = arguments\n\n      timer && clearTimeout(timer)\n\n      if (immediate) {\n        !timer && func.apply(this, args)\n        timer = setTimeout(() => {\n          timer = undefined\n        }, wait)\n      } else {\n        timer = setTimeout(() => {\n          func.apply(this, args)\n        }, wait)\n      }\n    }\n  },\n}\n\nexport default archerUtil\n","// special thanks to https://blog.naaln.com/2016/07/hexo-with-algolia/\nimport algoliasearch from 'algoliasearch/lite'\nimport instantsearch from 'instantsearch.js'\nimport {\n  configure,\n  searchBox,\n  hits,\n  stats,\n  pagination,\n} from 'instantsearch.js/es/widgets'\nimport archerUtil from './util'\n\nconst initAlgolia = () => {\n  $(document).ready(function () {\n    const algoliaSettings = algolia\n    const isAlgoliaSettingsValid =\n      algoliaSettings.applicationID &&\n      algoliaSettings.apiKey &&\n      algoliaSettings.indexName\n\n    if (!isAlgoliaSettingsValid) {\n      window.console.error(\n        'Algolia Settings are invalid. Check docs: https://github.com/fi3ework/hexo-theme-archer/wiki/%E5%90%AF%E7%94%A8-Algolia-%E6%90%9C%E7%B4%A2#%E8%8E%B7%E5%8F%96-keys'\n      )\n      return\n    }\n\n    const searchClient = algoliasearch(\n      algoliaSettings.applicationID,\n      algoliaSettings.apiKey\n    )\n\n    const search = instantsearch({\n      indexName: algoliaSettings.indexName,\n      searchClient,\n      searchFunction: function (helper) {\n        const searchInput = $('#algolia-search-input').find('input')\n\n        const container = document.querySelector('.algolia-results')\n        container.style.display = helper.state.query === '' ? 'none' : ''\n\n        if (searchInput.val()) {\n          helper.search()\n        }\n      },\n      stalledSearchDelay: 500,\n    })\n\n    // Registering Widgets\n    search.addWidgets([\n      configure({\n        hitsPerPage: algoliaSettings.hits.per_page || 10,\n      }),\n      searchBox({\n        container: '#algolia-search-input',\n        placeholder: algoliaSettings.labels.input_placeholder,\n        showSubmit: false,\n        showReset: false,\n        showLoadingIndicator: false,\n      }),\n      hits({\n        container: '#algolia-hits',\n        templates: {\n          item: function (data) {\n            const link = data.permalink\n              ? data.permalink\n              : siteMeta.root + data.path\n            return (\n              '<a href=\"' +\n              link +\n              '\" class=\"algolia-hit-item-link\">' +\n              instantsearch.highlight({\n                attribute: 'title',\n                hit: data,\n                highlightedTagName: 'em',\n              }) +\n              '</a>'\n            )\n          },\n          empty: function (data) {\n            return (\n              '<i class=\"fas fa-drafting-compass fa-10x\"></i>' +\n              '<div class=\"algolia-hit-empty-label\">' +\n              algoliaSettings.labels.hits_empty.replace(\n                /\\$\\{query\\}/,\n                data.query\n              ) +\n              '</div>'\n            )\n          },\n        },\n        cssClasses: {\n          item: 'algolia-hit-item',\n          list: 'algolia-hit-list',\n          root: 'algolia-hit',\n          emptyRoot: 'algolia-hit-empty',\n        },\n      }),\n      stats({\n        container: '#algolia-stats',\n        templates: {\n          text: function (data) {\n            let stats = algoliaSettings.labels.hits_stats\n              .replace(/\\$\\{hits\\}/, data.nbHits)\n              .replace(/\\$\\{time\\}/, data.processingTimeMS)\n            return (\n              stats +\n              '<span class=\"algolia-powered\">' +\n              '  <img src=\"' +\n              siteMeta.root +\n              'assets/algolia_logo.svg\" alt=\"Algolia\" />' +\n              '</span>' +\n              '<hr />'\n            )\n          },\n        },\n        cssClasses: {\n          root: 'algolia-stat-root',\n        },\n      }),\n      pagination({\n        container: '#algolia-pagination',\n        scrollTo: false,\n        templates: {\n          first: '<i class=\"fa fa-angle-double-left\"></i>',\n          last: '<i class=\"fa fa-angle-double-right\"></i>',\n          previous: '<i class=\"fa fa-angle-left\"></i>',\n          next: '<i class=\"fa fa-angle-right\"></i>',\n        },\n      }),\n    ])\n\n    search.start()\n\n    $('.popup-trigger').on('click', function (e) {\n      e.stopPropagation()\n      $('body')\n        .prepend('<div class=\"search-popup-overlay algolia-pop-overlay\"></div>')\n        .css('overflow', 'hidden')\n      $('.popup').toggle()\n      $('#algolia-search-input').find('input').focus()\n      archerUtil.stopBodyScroll(true)\n    })\n\n    const hidePopup = () => {\n      $('.ais-SearchBox-form').trigger('reset')\n      $('.popup').hide()\n      $('.algolia-pop-overlay').remove()\n      $('body').css('overflow', '')\n      archerUtil.stopBodyScroll(false)\n    }\n\n    $('.popup-btn-close').click(function () {\n      hidePopup()\n    })\n\n    $(document).on('keydown', '.ais-SearchBox-form', function (event) {\n      if (event.key === 'Escape') {\n        hidePopup()\n      }\n    })\n\n    $('.site-search').removeClass('site-search-loading')\n  })\n}\n\ninitAlgolia()\n"],"names":["EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isObject","isUndefined","module","exports","prototype","defaultMaxListeners","setMaxListeners","n","isNaN","TypeError","emit","type","er","handler","len","args","i","listeners","error","length","arguments","Error","err","context","call","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","key","listenerCount","evlistener","emitter","AlgoliaSearchHelper","SearchParameters","SearchResults","algoliasearchHelper","client","index","opts","version","DerivedHelper","mainHelper","fn","main","lastResults","inherits","detach","detachDerivedHelper","getModifiedState","parameters","defaultsPure","omit","objectHasKeys","lib","addRefinement","refinementList","attribute","value","isRefined","valueAsString","facetRefinement","concat","mod","removeRefinement","clearRefinement","v","f","toggleRefinement","refinementType","hasChanged","newRefinementList","Object","keys","reduce","memo","values","facetList","filter","refinementValue","containsRefinements","Boolean","refinementValueAsString","indexOf","merge","intersection","find","valToNumber","isValidUserToken","RefinementList","isEqualNumericRefinement","a","b","isArray","every","el","newParameters","params","_parseNumbers","userToken","warn","facets","disjunctiveFacets","hierarchicalFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements","self","forEach","paramName","isKeyKnown","PARAMETERS","isValueDefined","partialState","numbers","k","parsedValue","parseFloat","insideBoundingBox","map","geoRect","operators","operator","parsedValues","vPrime","make","instance","facet","rootPath","currentRefinement","getHierarchicalRefinement","name","clearRefinements","toggleHierarchicalFacetRefinement","validate","currentState","tagFilters","numericFilters","constructor","patch","_clearNumericRefinements","setQueryParameters","clearTags","setIndex","setQuery","newQuery","query","setPage","newPage","page","setFacets","setDisjunctiveFacets","setHitsPerPage","hitsPerPage","setTypoTolerance","typoTolerance","addNumericRefinement","val","isNumericRefined","getConjunctiveRefinements","facetName","isConjunctiveFacet","getDisjunctiveRefinements","isDisjunctiveFacet","getExcludeRefinements","removeNumericRefinement","number","paramValue","op","getNumericRefinements","getNumericRefinement","newNumericRefinements","operatorList","outValues","addFacet","addDisjunctiveFacet","addHierarchicalFacet","hierarchicalFacet","isHierarchicalFacet","addFacetRefinement","addExcludeRefinement","addDisjunctiveFacetRefinement","addTagRefinement","tag","isTagRefined","modification","removeFacet","removeDisjunctiveFacet","removeHierarchicalFacet","removeFacetRefinement","removeExcludeRefinement","removeDisjunctiveFacetRefinement","removeTagRefinement","t","toggleFacetRefinement","toggleConjunctiveFacetRefinement","toggleDisjunctiveFacetRefinement","toggleExcludeFacetRefinement","separator","_getHierarchicalFacetSeparator","getHierarchicalFacetByName","lastIndexOf","addHierarchicalFacetRefinement","path","isHierarchicalFacetRefined","removeHierarchicalFacetRefinement","toggleTagRefinement","isFacetRefined","isExcludeRefined","isDisjunctiveFacetRefined","refinements","isOperatorDefined","array","searchedValue","isAttributeValueDefined","currentValue","getRefinedDisjunctiveFacets","disjunctiveNumericRefinedFacets","getRefinedHierarchicalFacets","getUnrefinedDisjunctiveFacets","refinedFacets","managedParameters","getQueryParams","queryParams","setQueryParameter","parameter","nextWithNumbers","previousPlainObject","acc","nextPlainObject","previous","isPreviousValueDefined","isNextValueDefined","resetPage","_getHierarchicalFacetSortBy","sortBy","_getHierarchicalRootPath","_getHierarchicalShowParentLevel","showParentLevel","hierarchicalFacetName","getHierarchicalFacetBreadcrumb","refinement","split","part","trim","toString","JSON","stringify","state","hierarchicalFacetResult","hierarchicalFacetIndex","hierarchicalFacetRefinement","hierarchicalSeparator","hierarchicalRootPath","hierarchicalShowParentLevel","prepareHierarchicalFacetSortBy","rootExhaustive","facetResult","exhaustive","generateTreeFn","hierarchicalTree","currentHierarchicalLevel","parent","level","data","subtree","picked","facetValue","tuple","parentPath","onlyMatchingTree","orderBy","facetCount","parts","escapedValue","escapeFacetValue","count","format","unescapeFacetValue","generateHierarchicalTree","results","fv","compact","findIndex","formatSort","getIndices","attributes","indices","idx","assignFacetStats","dest","facetStats","stats","options","mainSubResponse","_rawResults","processingTimeMS","sum","result","facetsIndices","disjunctiveFacetsIndices","nextDisjunctiveResult","mainFacets","facetKey","hierarchicalAttributeName","facetValueObject","facetIndex","idxAttributeName","exhaustiveFacetsCount","isFacetDisjunctive","isFacetConjunctive","facets_stats","disjunctiveFacet","dfacet","facetResults","attributeIndex","dataFromMainRequest","refinedFacet","defaultData","root","excludes","_state","extractNormalizedFacetValues","predicate","isExcluded","hierarchicalFacetValues","replace","currentRefinementSplit","unshift","setIsRefined","item","depth","child","recSort","sortFn","node","names","children","childNode","sortedChildren","getFacetStatsIfAvailable","getRefinement","attributeName","resultsFacets","getFacetByName","DEFAULT_SORT","getFacetValues","facetValues","facetOrdering","renderingContent","getFacetOrdering","orderedFacets","remainingFacets","reverseOrder","order","ordering","sortRemainingBy","sortViaFacetOrdering","sort","vanillaSortFn","getFacetStats","getRefinements","res","facetDeclaration","rootFacet","intermediateFacet","newFacet","numericValue","requestBuilder","addAlgoliaAgent","setClient","_queryId","_lastQueryIdReceived","derivedHelpers","_currentNbQueries","setCurrentPage","_change","isPageReset","getCurrentPage","search","_search","onlyWithDerivedHelpers","searchOnlyWithDerivedHelpers","getQuery","_getHitsSearchParams","searchOnce","cb","tempState","queries","_getQueries","then","content","_originalResponse","e","catch","findAnswers","derivedHelper","Promise","resolve","derivedState","attributesForPrediction","nbHits","errorMessage","initIndex","queryLanguages","searchForFacetValues","maxFacetHits","userState","clientHasSFFV","clientHasInitIndex","isDisjunctive","algoliaQuery","getSearchForFacetQuery","searchForFacetValuesPromise","indexName","response","facetHits","q","addDisjunctiveRefine","addRefine","addFacetExclusion","addExclude","addTag","removeDisjunctiveRefine","removeRefine","removeFacetExclusion","removeExclude","removeTag","toggleFacetExclusion","toggleExclude","toggleRefine","toggleTag","nextPage","previousPage","setState","newState","overrideStateWithoutTriggeringChangeEvent","hasRefinements","isDisjunctiveRefined","hasTag","hasTagRefinements","getIndex","getPage","getTags","r","states","mainQueries","queriesCount","helper","derivedQueries","derivedStateQueries","queryId","_dispatchAlgoliaResponse","bind","_dispatchAlgoliaError","s","specificResults","containsRefinement","facetFilters","_hasDisjunctiveRefinements","disjunctiveRefinements","event","clearCache","newClient","getClient","derive","pos","hasPendingRequests","reduceRight","source","String","comparator","defaults","defaultInstructions","out","sortInstruction","matchingDefault","defaultInstruction","ctor","superCtor","create","enumerable","writable","configurable","arr1","arr2","isObjectOrArrayOrFunction","_merge","target","hasOwnProperty","sourceVal","targetVal","l","obj","excluded","sourceKeys","compareAscending","other","valIsDefined","valIsNull","othIsDefined","othIsNull","collection","iteratees","orders","criteria","iteratee","object","sortObject","localeCompare","curr","_getDisjunctiveFacetSearchParams","filtersMap","segment","join","hasHierarchicalFacetFilter","some","filteredFacetFilters","facetFilter","filtered","filterValue","_getHitsHierarchicalFacetsAttributes","_getFacetFilters","_getNumericFilters","_getTagFilters","additionalParams","hierarchicalRootLevel","analytics","clickAnalytics","_getDisjunctiveHierarchicalFacetAttribute","vs","orFilters","attributeToRefine","attributesIndex","allAttributes","hierarchicalRefinement","newAttributes","rootLevel","parentLevel","stateForSearchForFacetValues","searchForFacetSearchParameters","facetQuery","test","defineProperty","getOwnPropertySymbols","getOwnPropertyDescriptor","o","getOwnPropertyDescriptors","defineProperties","Symbol","iterator","u","next","done","return","from","localStorage","window","parse","getItem","setItem","timeToLive","fromEntries","entries","timestamp","Date","getTime","get","miss","all","set","delete","clear","removeItem","caches","shift","serializable","c","Math","floor","random","encodeURIComponent","h","timeout","headers","queryParameters","cacheable","d","Read","Write","Any","p","y","status","lastUpdate","now","protocol","url","accept","O","P","j","method","toLowerCase","userAgent","pop","message","transporterStackTrace","A","S","connectTimeout","timeouts","connect","responseTimeout","request","host","triesLeft","onSuccess","onRetry","isTimedOut","logger","info","N","hostsCache","onFail","requester","send","getTimeout","statelessHosts","reverse","w","add","T","charAt","substr","x","appId","authMode","apiKey","requestsCache","responsesCache","hosts","read","mappedRequestOptions","transporter","reject","write","methods","C","E","J","requests","propertyIsEnumerable","R","I","F","Q","XMLHttpRequest","open","setRequestHeader","setTimeout","abort","onreadystatechange","readyState","OPENED","clearTimeout","onerror","responseText","onload","debug","multipleQueries","multipleSearchForFacetValues","customRequest","isCallable","tryToString","$TypeError","argument","$String","wellKnownSymbol","UNSCOPABLES","ArrayPrototype","unicode","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","fromIndex","includes","uncurryThis","IndexedObject","toObject","arraySpeciesCreate","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_REJECT","NO_HOLES","callbackfn","that","specificCreate","boundFunction","filterReject","isConstructor","SPECIES","$Array","originalArray","arraySpeciesConstructor","stringSlice","it","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","$Object","CORRECT_ARGUMENTS","tryGet","callee","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","exceptions","DESCRIPTORS","createPropertyDescriptor","bitmap","makeBuiltIn","descriptor","getter","setter","defineGlobalProperty","simple","global","unsafe","nonConfigurable","nonWritable","fails","documentAll","document","IS_HTMLDDA","EXISTS","createElement","navigator","match","process","Deno","versions","v8","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","forced","sham","exec","regexpExec","RegExpPrototype","RegExp","KEY","FORCED","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","re","flags","uncurriedNativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","uncurriedNativeMethod","$exec","NATIVE_BIND","FunctionPrototype","Function","Reflect","aCallable","getDescriptor","PROPER","CONFIGURABLE","uncurryThisWithBind","namespace","isNullOrUndefined","V","func","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","captures","namedCaptures","replacement","tailPos","symbols","ch","capture","check","globalThis","getBuiltIn","classof","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","store","functionToString","inspectSource","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","metadata","facade","STATE","enforce","getterFor","$documentAll","noop","empty","construct","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","isConstructorLegacy","called","feature","detection","normalize","POLYFILL","NATIVE","string","MATCH","isRegExp","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","CONFIGURABLE_LENGTH","TEMPLATE","arity","ceil","trunc","whitespaces","$parseInt","parseInt","ITERATOR","hex","radix","activeXDocument","anObject","definePropertiesModule","enumBugKeys","html","documentCreateElement","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObjectViaActiveX","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","JS","domain","style","display","appendChild","src","contentWindow","Properties","V8_PROTOTYPE_DEFINE_BUG","objectKeys","props","IE8_DOM_DEFINE","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","getOwnPropertyNames","$propertyIsEnumerable","NASHORN_BUG","uncurryThisAccessor","aPossiblePrototype","CORRECT_SETTER","proto","__proto__","input","pref","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","Target","Source","re1","re2","regexpFlags","stickyHelpers","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeReplace","nativeExec","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","group","raw","groups","sticky","charsAdded","strCopy","multiline","hasIndices","ignoreCase","dotAll","unicodeSets","regExpFlags","$RegExp","MISSED_STICKY","is","defineBuiltInAccessor","CONSTRUCTOR_NAME","Constructor","uid","SHARED","IS_PURE","mode","copyright","license","toIntegerOrInfinity","requireObjectCoercible","charCodeAt","CONVERT_TO_STRING","first","second","size","codeAt","ltrim","rtrim","start","end","V8_VERSION","symbol","max","min","integer","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","id","postfix","NATIVE_SYMBOL","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","$find","addToUnscopables","FIND","SKIPS_HOLES","inheritIfRequired","getRegExpFlags","proxyAccessor","setSpecies","NativeRegExp","SyntaxError","stringIndexOf","IS_NCG","CORRECT_NEW","RegExpWrapper","pattern","rawFlags","handled","thisIsRegExp","patternIsRegExp","flagsAreUndefined","rawPattern","chr","named","brackets","ncg","groupid","groupname","handleNCG","handleDotAll","nativeTest","PROPER_FUNCTION_NAME","$toString","TO_STRING","nativeToString","NOT_GENERIC","INCORRECT_NAME","fixRegExpWellKnownSymbolLogic","advanceStringIndex","getSubstitution","regExpExec","REPLACE","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","_","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","rx","functionalReplace","fullUnicode","accumulatedResult","nextSourcePosition","replacerArgs","sameValue","SEARCH","nativeSearch","searcher","previousLastIndex","Hogan","rIsWhitespace","rQuot","rNewline","rCr","rSlash","rLineSep","rParagraphSep","tagChange","text","tags","scan","delimiters","token","tagType","buf","tokens","seenTag","lineStart","otag","ctag","addBuf","filterLine","haveSeenTag","noNewLine","isAllWhitespace","lineIsWhitespace","indent","changeDelimiters","closeIndex","substring","allowedInSuper","buildTree","kind","stack","customTags","tail","instructions","opener","isOpener","nodes","isCloser","last","stringifyPartials","codeObj","partials","esc","items","stringifySubstitutions","subs","wrapMain","code","serialNo","chooseMethod","createPartial","sym","prefix","tripleStache","generate","tree","walk","asString","makeTemplate","template","Template","makePartials","codegen","ctx","inPartial","nodelist","sectionTags","cache","cacheKey","disableLambda","modelGet","compile","findInScope","scope","doModelGet","compiler","coerceToString","hChars","rAmp","rLt","rGt","rApos","render","ri","ep","partial","base","stackText","activeSub","stackSubs","stackPartials","PartialTemplate","Substitutions","subsText","createSpecializedPartial","rp","rs","section","inverted","pass","ms","returnFound","found","cx","mv","ls","oldTags","ct","fl","textSource","sub","percentTwenties","Format","formatters","RFC1738","RFC3986","formats","utils","allowDots","allowPrototypes","arrayLimit","charset","charsetSentinel","comma","decoder","decode","delimiter","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","strictNullHandling","$0","numberStr","fromCharCode","parseArrayValue","parseKeys","givenKey","valuesParsed","chain","leaf","cleanRoot","parseObject","normalizeParseOptions","tempObj","cleanStr","limit","Infinity","skipIndex","bracketEqualsPos","maybeMap","encodedVal","combine","parseValues","newObj","arrayPrefixGenerators","repeat","pushToArray","arr","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","encode","encoder","encodeValuesOnly","formatter","serializeDate","date","skipNulls","generateArrayPrefix","isBuffer","keyValue","valuesArray","valuesJoined","objKeys","keyPrefix","normalizeStringifyOptions","arrayFormat","joined","hexTable","toUpperCase","arrayToObject","assign","queue","prop","refs","compacted","compactQueue","strWithoutPlus","unescape","decodeURIComponent","defaultEncoder","escape","mapped","mergeTarget","targetItem","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","definition","component","componentName","_ref","descendantName","modifierName","descendent","modifier","getPropertyByPath","htmlEntities","regexUnescapedHtml","regexHasUnescapedHtml","htmlCharacters","regexEscapedHtml","regexHasEscapedHtml","character","_typeof","isPlainObject","isObjectLike","getTag","getPrototypeOf","_extends","enumerableOnly","_objectSpread","_defineProperty","hint","prim","_toPrimitive","_toPropertyKey","TAG_PLACEHOLDER","highlightPreTag","highlightPostTag","TAG_REPLACEMENT","recursiveEscape","suit","_ref$highlightedTagNa","highlightedTagName","hit","_ref$cssClasses","cssClasses","_ref2$value","_highlightResult","attributeValue","className","highlighted","concatHighlightedParts","isHighlighted","hasAlphanumeric","getHighlightFromSiblings","_parts","_parts2","isNextHighlighted","isPreviousHighlighted","reverseHighlightedParts","getHighlightedParts","highlightedValue","splitByPreTag","firstValue","elements","splitByPostTag","_snippetResult","serializePayload","payload","btoa","deserializePayload","serialized","atob","serializedPayload","writeDataAttributes","getInsightsAnonymousUserTokenInternal","cookie","cookies","getCookie","safelyRunOnBrowser","callback","fallback","isPrimitive","isEqual","_i","_Object$keys","_excluded","getStateWithoutPage","_objectWithoutPropertiesLoose","sourceSymbolKeys","_objectWithoutProperties","_slicedToArray","_arrayWithHoles","_s","_e","_x","_r","_arr","_n","_d","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","ALGOLIA_INSIGHTS_VERSION","ALGOLIA_INSIGHTS_SRC","isModernInsightsClient","_split$map2","Number","major","minor","createInitArgs","instantSearchInstance","uiState","getHelper","renderState","templatesConfig","createURL","scopedResults","searchMetadata","isSearchStalled","createRenderArgs","getResults","getScopedResults","extractWidgetPayload","widgets","initOptions","mainIndex","_initialUiState","widget","widgetParams","getWidgetRenderState","$$type","widgetType","$$widgetType","getWidgets","createMetadataMiddleware","_ref2$$$internal","$$internal","_ref3","payloadContainer","refNode","querySelector","onStateChange","subscribe","ua","_ua","middleware","internal","started","unsubscribe","remove","_defineProperties","setWindowTitle","title","BrowserHistory","_this","windowTitle","_ref$writeDelay","writeDelay","parseURL","getLocation","dispose","_classCallCheck","writeTimer","_createURL","_start","_dispose","_push","_ref2","latestAcknowledgedHistory","history","protoProps","qsModule","location","routeState","_this2","shouldWrite","pushState","inPopState","_this3","_onPopState","_ref4","addEventListener","_this4","isDisposed","_ref5","removeEventListener","_this5","_ref6","lastPushWasByISAfterDispose","href","getIndexStateWithoutConfigure","configure","createDocumentationMessageGenerator","_len","_key","links","_ref$connector","connector","isIndexWidget","uniq","mergeSearchParameters","left","right","hierarchicalFacetsRefinementsMerged","mergeHierarchicalFacetsRefinements","tagRefinementsMerged","mergeTagRefinements","nextFacets","mergeHierarchicalFacets","numericRefinementsMerged","mergeNumericRefinements","disjunctiveFacetsRefinementsMerged","mergeDisjunctiveFacetsRefinements","facetsExcludesMerged","mergeFacetsExcludes","facetRefinementsMerged","mergeFacetRefinements","disjunctiveFacetsMerged","mergeDisjunctiveFacets","ruleContextsMerged","ruleContexts","mergeRuleContexts","facetsMerged","mergeFacets","rest","mergeWithRest","iter","withUsage","privateHelperSetState","_uiState","getLocalWidgetsUiState","widgetStateOptions","initialUiState","getWidgetUiState","getWidgetState","getLocalWidgetsSearchParameters","widgetSearchParametersOptions","initialSearchParameters","getWidgetSearchParameters","resetPageFromWidgets","indexWidgets","widgetHelper","resolveScopedResultsFromWidgets","indexId","getIndexId","_widgetParams$indexId","localWidgets","localUiState","localInstantSearchInstance","localParent","lastValidSearchParameters","getIndexName","_derivedHelper","getPreviousState","widgetParent","getParent","nextState","searchParameters","addWidgets","init","getRenderState","storeRenderState","scheduleSearch","removeWidgets","_instantSearchInstanc","setUiState","searchWithoutTriggeringOnStateChange","resolveSearchParameters","indexInitialResults","_initialResults","scheduleStalledRender","scheduleRender","onInternalStateChange","widgetsToRender","_helper","_derivedHelper2","previousUiState","innerIndex","refreshUiState","setIndexUiState","indexUiState","nextIndexUiState","_ref7","parentIndexName","numberLocale","toLocaleString","hoganHelpers","formatNumber","highlight","reverseHighlight","snippet","reverseSnippet","insights","_JSON$parse","objectIDs","objectID","nextMicroTask","defer","progress","cancelled","wait","cancel","setIndexHelperState","finalUiState","indexWidget","_setPrototypeOf","_assertThisInitialized","ReferenceError","_getPrototypeOf","defaultCreateURL","InstantSearch","_EventEmitter","subClass","superClass","_inherits","Derived","hasNativeReflectConstruct","_super","Proxy","_isNativeReflectConstruct","Super","_possibleConstructorReturn","_this$mainHelper","shouldResetStatus","_searchStalledTimer","nextUiState","_options$indexName","_options$initialUiSta","_options$routing","routing","_options$insights","searchFunction","_options$stalledSearc","stalledSearchDelay","_options$searchClient","searchClient","_options$insightsClie","insightsClient","_options$onStateChang","helpers","compileOptions","_stalledSearchDelay","_searchFunction","sendEventToInsights","routerOptions","use","_props$router","router","_ref7$createURL","_ref8","hostname","_location$port","port","pathname","hash","queryString","portWithPrefix","_ref7$parseURL","_ref9","_ref7$writeDelay","_ref7$getLocation","_ref10","historyRouter","_props$stateMapping","stateMapping","stateToRoute","routeToState","_props$$$internal","route","lastRouteState","onUpdate","_router$start","createRouterMiddleware","insightsOptions","_insightsClient","insightsInitParams","onEvent","potentialInsightsClient","pointer","AlgoliaAnalyticsObject","shouldAddScript","existingInsightsMiddlewares","creator","unuse","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","initialParameters","_getAppIdAndApiKey2","_searchClient$transpo","APP_ID","API_KEY","applicationID","getAppIdAndApiKey","queuedUserToken","userTokenBeforeInit","_error","script","async","body","cause","setUserTokenToSearch","existingToken","anonymousUserToken","immediate","insightsClientWithLocalCredentials","insightsMethod","algoliaSource","eventModifier","createInsightsMiddleware","_window$navigator","_window$navigator$use","newMiddlewareList","newMiddleware","_len2","middlewareToUnuse","_key2","fakeClient","_mainHelperSearch","mainIndexHelper","searchFunctionHelper","originalScheduleSearch","_this$mainHelper2","callOnStateChange","deprecate","instantsearch","createInfiniteHitsSessionStorageCache","sessionStorage","hits","getInsightsAnonymousUserToken","getInitialSearchParameters","renderFn","unmountFn","connectorState","renderOptions","_renderState$configur","widgetRenderState","refine","actualState","nextSearchParameters","makeWidget","parentNode","removeChild","defaultProps","ref","__k","__","__b","__e","__d","__c","__h","__v","vnode","__r","debounceRendering","__P","L","__n","ownerSVGElement","M","nextSibling","insertBefore","setProperty","cssText","z","removeAttribute","setAttribute","H","contextType","__E","B","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffed","localName","nodeType","createTextNode","createElementNS","childNodes","dangerouslySetInnerHTML","__html","innerHTML","checked","unmount","componentWillUnmount","D","firstChild","getDerivedStateFromError","componentDidCatch","forceUpdate","Map","Fragment","HighlightPart","InternalHighlight","classNames","nonHighlightedTagName","nonHighlighted","createHighlightPartComponent","_ref4$highlightedTagN","_ref4$nonHighlightedT","_ref4$separator","_ref4$classNames","partIndex","isLastPart","subPart","subPartIndex","Highlight","_ref$classNames","toArray","ReverseHighlight","_excluded2","Snippet","ReverseSnippet","_Component","nextProps","templateKey","rootProps","RootTagName","rootTagName","useCustomCompileOptions","templates","bindEvent","sendEvent","components","transformedHelpers","helperKey","hogan","transformHelpersToHogan","spaces","renderTemplate","showSubmit","showReset","showLoadingIndicator","autofocus","searchAsYouType","disabled","onChange","onSubmit","onReset","SearchBox","focused","_this$props","_this$props2","preventDefault","stopPropagation","blur","_this$props3","focus","_this$props4","placeholder","action","role","form","noValidate","autoFocus","autoComplete","autoCorrect","autoCapitalize","spellCheck","maxLength","onInput","onBlur","onFocus","submit","hidden","reset","loadingIndicator","checkRendering","rendering","usage","defaultQueryHook","hook","getContainerNode","selectorOrHTMLElement","isSelectorString","domElement","HTMLElement","fill","fillRule","transform","strokeWidth","strokeOpacity","cy","to","dur","repeatCount","defaultTemplate","resetIcon","viewBox","width","height","submitIcon","loadingIcon","stroke","container","_ref3$placeholder","_ref3$cssClasses","userCssClasses","_ref3$autofocus","_ref3$searchAsYouType","_ref3$showReset","_ref3$showSubmit","_ref3$showLoadingIndi","queryHook","_ref3$templates","userTemplates","containerNode","defaultTemplates","specializedRenderer","renderer","_refine","_clear","_ref$queryHook","searchBox","findInsightsTarget","startElement","endElement","validator","element","parentElement","Hits","templateProps","handleInsightsClick","insightsThroughSendEvent","currentTarget","hasAttribute","getAttribute","parseInsightsEvent","single","insightsThroughFunction","_readDataAttributes","readDataAttributes","_payload","createInsightsEventHandler","emptyRoot","onClick","onAuxClick","__hitIndex","_buildEventPayloadsForHits","methodName","_args$0$split2","eventType","eventName","hitsArray","queryID","__queryID","hitsChunks","chunkSize","chunks","chunk","objectIDsByChunk","batch","positionsByChunk","__position","positions","_ref$escapeHTML","escapeHTML","_ref$transformItems","transformItems","sentEvents","timer","createSendEventForHits","payloads","createBindEventForHits","__escaped","_objectDestructuringEmpty","hitsWithAbsolutePosition","addAbsolutePosition","hitsWithAbsolutePositionAndQueryID","addQueryID","withInsights","isFirstRender","aa","withInstantSearchUsage","inferredPayload","selectedHits","selectedObjectIDs","getSelectedHits","queryIDs","getQueryID","getPositions","inferPayload","wrapInsightsClient","prepareTemplateProps","preparedTemplates","config","customTemplate","isCustomTemplate","prepareTemplates","validKey","isFirstRendering","receivedHits","nbSortedHits","hasManySortedResults","hasNoSortedResults","hasOneSortedResults","hasManyResults","hasNoResults","hasOneResult","areHitsSorted","suffix","getResultsSentence","_ref5$cssClasses","_ref5$templates","nbPages","appliedRelevancyStrictness","PaginationLink","ariaLabel","pageNumber","_ref$isDisabled","isDisabled","_ref$isSelected","isSelected","createClickHandler","disabledItem","selectedItem","link","button","altKey","ctrlKey","metaKey","shiftKey","isSpecialClick","noRefinementRoot","showFirst","firstPageItem","isFirstPage","showPrevious","previousPageItem","currentPage","pages","pageItem","showNext","nextPageItem","isLastPage","showLast","lastPageItem","range","_ref$start","_ref$step","step","limitStep","arrayLength","round","Paginator","total","padding","totalDisplayedPages","nbPagesDisplayed","paddingLeft","calculatePaddingLeft","_page","_ref4$templates","_ref4$cssClasses","totalPages","_ref4$showFirst","_ref4$showLast","_ref4$showPrevious","_ref4$showNext","_ref4$scrollTo","scrollTo","userScrollTo","scrollToNode","scrollIntoView","_ref$padding","pager","helperState","getMaxPage","canRefine","pagination","bodyEl","windowTop","bodyElPosition","archerUtil","backTop","top","behavior","getAbsPosition","offsetLeft","offsetTop","offsetParent","dateFormater","fmt","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","$1","getFullYear","rem","css","setWindowHash","replaceState","getWindowHash","rafTick","ticking","updateFunc","requestAnimationFrame","stopBodyScroll","isFixed","scrollY","throttle","debounce","ready","algoliaSettings","algolia","algoliasearch","searchInput","per_page","labels","input_placeholder","permalink","siteMeta","hits_empty","hits_stats","prepend","toggle","hidePopup","trigger","hide","click","removeClass"],"sourceRoot":""}