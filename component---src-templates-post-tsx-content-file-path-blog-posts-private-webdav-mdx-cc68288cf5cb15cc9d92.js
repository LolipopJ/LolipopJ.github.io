"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[2496],{2814:function(e,a,n){n.r(a),n.d(a,{Head:function(){return f},default:function(){return h}});var t=n(8453),s=n(6540);function c(e){const a=Object.assign({p:"p",h2:"h2",blockquote:"blockquote",a:"a",span:"span",h3:"h3"},(0,t.R)(),e.components);return s.createElement(s.Fragment,null,s.createElement(a.p,null,"今天在使用 Next Chat 时，突然想到聊天数据应该是可以备份的，在设置里面发现它支持 WebDAV 和没听说过的 UpStash 两种文件协议，而笔者使用的其它软件又广泛支持前者进行备份同步。于是今天便来捣腾 WebDAV 并实现数据备份。"),"\n",s.createElement(a.h2,null,"Docker 部署 WebDAV 服务"),"\n",s.createElement(a.blockquote,null,"\n",s.createElement(a.p,null,"此章节里笔者选用了纯净的 WebDAV 服务镜像。如果想要更友好的交互体验，可以选用支持 WebDAV 协议的文件服务器镜像，例如 ",s.createElement(a.a,{href:"https://github.com/drakkan/sftpgo"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">drakkan\nsftpgo</code>'}}))," 以及 ",s.createElement(a.a,{href:"https://github.com/sigoden/dufs"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">sigoden/dufs</code>'}}))," 等等。"),"\n"),"\n",s.createElement(a.p,null,"一旦使用上了 Docker，就再也不想回去那种将服务运行在机器本体上的时代了。笔者首选使用 Docker 部署 WebDAV 服务，在 Docker Hub 以 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">webdav</code>'}})," 为关键词搜索，有如下结果："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/6a9c4ee67a2f2fe5fc4ec925139d7389/cb9f4/docker-hub-webdav.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 44.87179487179487%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVR42p1Sy26DQAzk3oo3JAv7ABYIkIRDWvWQU///p6a2IVHUU9XDCNlrjT0zBIU+4WgJpkdZtUgKizg3hPpfCEw7wZ9WmG6C6xdk1YBUeaQHQ7B/QlJopKVBQgjiXEszIvYor+hBI0yVbHsMMn7Xzx59y7pDrhricQja4YKmP+NAzYyuCrMKtptFfkaLYqojgrwfnZByzWTcK1QL3Uz7tUS43u7w44raDULyFh/wdf/Gcv1AO5xR2UGGz+unoBsvMhcT8Xy9YZhWOD8TcSPLgnci4KvCdNualhbviRIpW22e/hT71Q/pIdn1OiceOr9QILOkLL7QMIdTuxFqv479bajHtbK9+MVzHdnFcxVBwmFCSymzDJbGm/haf7piutzEW7YioaDaYUHjNxTKyRLdjOLjUXu5mpcEzJrv+jcYMbeQf9K8SLbI91AekuNyCyLa/wCe/wFioOsM4gO0gAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="WebDAV 镜像列表"\n        title=""\n        src="/static/6a9c4ee67a2f2fe5fc4ec925139d7389/39c09/docker-hub-webdav.png"\n        srcset="/static/6a9c4ee67a2f2fe5fc4ec925139d7389/680fe/docker-hub-webdav.png 156w,\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/17474/docker-hub-webdav.png 312w,\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/39c09/docker-hub-webdav.png 624w,\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/6d2da/docker-hub-webdav.png 936w,\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/5a791/docker-hub-webdav.png 1248w,\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/cb9f4/docker-hub-webdav.png 1903w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(a.p,null,"笔者尝试了下载量和收藏数最高的 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">bytemark/webdav</code>'}}),"，但发现设置了挂载目录后无法正常上传文件，仔细阅读说明文档才看到，必须要将宿主机的挂载目录设置为写死的 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/srv/dav</code>'}}),"，意味着如果想要用其它目录来存放 WebDAV 里的文件的话，还需要额外添加一个软链接。这样的限制感觉笨笨的，很不优雅，于是找了找它的 ",s.createElement(a.a,{href:"https://github.com/BytemarkHosting/docker-webdav"},"Github 仓库"),"，发现作者在写完这个镜像，发了一篇",s.createElement(a.a,{href:"https://docs.bytemark.co.uk/article/run-your-own-webdav-server-with-docker/"},"部署文档"),"后就再没有更新了，代码也就停留在了 2018 年。也许 WebDAV 协议已经相当稳定了，但是笔者还是想要找一个不这么别扭的 WebDAV 镜像。"),"\n",s.createElement(a.p,null,"接着，笔者尝试在 Github 上以 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">webdav</code>'}})," 为关键词搜索，发现了关联度和星标均为最高，并且活跃更新的 ",s.createElement(a.a,{href:"https://github.com/hacdias/webdav"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">hacdias/webdav</code>'}})),"。它针对不同用户组的权限管理能力非常强，笔者很喜欢。但笔者遇到的一个问题是：将本地的 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">local/path/to/data</code>'}})," 目录关联给容器的 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/data</code>'}})," 目录后，同步的数据仍然被放置在了容器的根目录里，导致无法持久化备份文件。这也许是当前版本的 Bug，也有可能是没配置对的原因，总之笔者又着眼于找下一个 WebDAV 镜像去了。"),"\n",s.createElement(a.p,null,"最后，笔者尝试了 Docker Hub 上目前下载量和收藏数均为第二的 ",s.createElement(a.a,{href:"https://github.com/uGeek/docker-webdav"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ugeek/webdav</code>'}})),"，没有上述的问题，满足了笔者的需要。笔者在 MacOS 系统上部署 WebDAV 服务，因此要拉取它的 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">arm64</code>'}})," 版本："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">docker</span> pull ugeek/webdav:arm64</code></pre></div>'}}),"\n",s.createElement(a.p,null,"运行 WebDAV 容器："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">--name</span> webdav <span class="token punctuation">\\</span>\n  <span class="token parameter variable">--restart</span><span class="token operator">=</span>unless-stopped <span class="token punctuation">\\</span>\n  <span class="token parameter variable">-p</span> <span class="token number">3180</span>:80 <span class="token punctuation">\\</span>\n  <span class="token parameter variable">-v</span> <span class="token environment constant">$HOME</span>/WebDAV/data:/media <span class="token punctuation">\\</span>\n  <span class="token parameter variable">-e</span> <span class="token assign-left variable">USERNAME</span><span class="token operator">=</span>YOUR_USERNAME <span class="token punctuation">\\</span>\n  <span class="token parameter variable">-e</span> <span class="token assign-left variable">PASSWORD</span><span class="token operator">=</span>YOUR_PASSWORD <span class="token punctuation">\\</span>\n  <span class="token parameter variable">-e</span> <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai  <span class="token punctuation">\\</span>\n  <span class="token parameter variable">-e</span> <span class="token assign-left variable">UDI</span><span class="token operator">=</span><span class="token number">1000</span> <span class="token punctuation">\\</span>\n  <span class="token parameter variable">-e</span> <span class="token assign-left variable">GID</span><span class="token operator">=</span><span class="token number">1000</span> <span class="token punctuation">\\</span>\n  <span class="token parameter variable">-d</span>  ugeek/webdav:arm64</code></pre></div>'}}),"\n",s.createElement(a.p,null,"上面的配置表明，WebDAV 服务暴露在宿主机的 3180 端口，数据持久化存储在 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">$HOME/WebDAV/data</code>'}})," 目录下。访问 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">127.0.0.1:3180</code>'}}),"，输入用户名和密码，即可看见当前 WebDAV 中包含的文件列表（当然此时为空）。"),"\n",s.createElement(a.p,null,"通过 frp 将内网的服务暴露给公网服务器上，再通过配置公网服务器的 Nginx 配置，现在 WebDAV 就可以通过域名 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">https://webdav.towind.fun</code>'}})," 访问了！"),"\n",s.createElement(a.h2,null,"图形界面管理 WebDAV"),"\n",s.createElement(a.p,null,"用 Postman 来对 WebDAV 里的文件做 CRUD 显然不符合实际需要。在这一章节，笔者将分别通过 AList 和 Windows 来连接 WebDAV，方便以后实际的管理与使用。"),"\n",s.createElement(a.h3,null,"AList 挂载 WebDAV"),"\n",s.createElement(a.p,null,"笔者之前在 Docker 上部署了 AList 服务，它也支持连接并管理 WebDAV。这一切尤为简单，只需要在“管理 - 存储”页面添加 WebDAV 驱动，输入账号和密码即可连接："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/2b8cb18c69d2a43ce435d53be638580c/5e6a4/alist-webdav-connect.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 53.84615384615385%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByUlEQVR42q2SS0/bQBSFvWNRqaKpn+N5e/x+xAmJoSACEqUgddfu+v//x+HaCZW6qEBVF5/kuTNz7vE948VugD8+I7YVGOdgQiLmDAlPac0QcYUg1Qi5ppp4E0/lNdz6Etxkp6KEkQOYahHaHk6FWGcrVMpHKiWENkipKfsLXrfeoO2HRYjTYS4tmuwrVH6LVXmH0XzE9+EM1+UHmCyDq1uozNFZMiA1NVGQdE+QoRmvajtkRYGIMequFwdcK2jnsN3vME434OM3iLyHsrRnHGSWI69qXB/uUF0+gve3kC5f6l49TjDVgEhYMJ0jEQaaNrS1qLsWV4cH1Ns9OF3Qp0vKFRDNhIvdDl/2HQYaW0WuBeHJ6SfE/gdW7gafy3uEpoexirreQ22e8Hzh46GzeLQlbH4U0yQQTr/QNiUO5RmerMMVNeOzw7Jp0QzkMGHL0JOUL2knpkFsOpTyHAVP0FLaXFBoQlFgx2ASmncsHWJaJzM0U6+mQKqup990xydDgn4YIQh8BKGPVcjwKYxxTjX/D+LjuROvdW/YbDGLzvOZBWeHQRQTyUJI368E78AbtjvYoqSU0+UJxL8F/w2vHUa4sqJ3yP+L4AvaPC1cj6RdtgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="AList 连接到 WebDAV"\n        title=""\n        src="/static/2b8cb18c69d2a43ce435d53be638580c/39c09/alist-webdav-connect.png"\n        srcset="/static/2b8cb18c69d2a43ce435d53be638580c/680fe/alist-webdav-connect.png 156w,\n/static/2b8cb18c69d2a43ce435d53be638580c/17474/alist-webdav-connect.png 312w,\n/static/2b8cb18c69d2a43ce435d53be638580c/39c09/alist-webdav-connect.png 624w,\n/static/2b8cb18c69d2a43ce435d53be638580c/6d2da/alist-webdav-connect.png 936w,\n/static/2b8cb18c69d2a43ce435d53be638580c/5a791/alist-webdav-connect.png 1248w,\n/static/2b8cb18c69d2a43ce435d53be638580c/5e6a4/alist-webdav-connect.png 1469w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(a.p,null,"回到主页，WebDAV 就顺利地挂载到了指定的路由上。这样，就可以随时随地通过浏览器访问 AList，管理 WebDAV 里的文件了！"),"\n",s.createElement(a.h3,null,"Windows 挂载 WebDAV"),"\n",s.createElement(a.blockquote,null,"\n",s.createElement(a.p,null,"如果遇到报错：",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">The network path was not found</code>'}}),"，可以尝试多连接几次，直到顺利访问。笔者暂时没有找到能够稳定连接的方案，Drive me crazy，更推荐使用其它方案访问 WebDAV。"),"\n"),"\n",s.createElement(a.p,null,"笔者的 WebDAV 由 SSL 加密，因此需要首先配置 Windows Web Client 的身份验证级别，即在“运行”里输入 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">regedit</code>'}})," 打开注册表编辑器，找到 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Computer\\HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\WebClient\\Parameters</code>'}}),"，修改其中键 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">BasicAuthLevel</code>'}})," 的值为 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">2</code>'}}),"。"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/6c70cf6733a1668deca756ea01cff513/218a4/windows-webdav-auth-level.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 48.71794871794871%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVR42m1SiW6jMBDN//9X06ZKu9uQNoBCwmWDIVzmKATI27GrpIm0Iz15bGveHG8WaZIgTU8oqwplWULS2TQN6rrW5//8H9z7v1jEsYCIGXz3gMAPiDxFlmUaQiRIKGGe5/ouKWAcJ42+HzBNE2HG+TzesBhGYJBHmMYzkjSHsnEcMc8zkeSwTRsFVT4MA3VQgLGQ/iaqRsLzfV21ssvlorGYL0TQhmDeF/rzdPtUlpxKvL7bML92cI8+Yi7ItxBHAnlWYGt8UgKOe9OEU8fhHz7Rdv0DoRACOyI4HjwiSZClBWrZoSwkKkJbd7BMC4LGco37IWw8WNQyj1N6nG/ZeBTBskx4nkuilSiKnMaSaPHUXHO67x0HXdc9VjgS4X73iqMXaqWuFoQh9m4AkVc4VQ1ORYWt6cC2bS1WRRvhEKES5rHllsF1DGQU2H9/a0E0YRBSVQUNvkUlpV4VkZUIqP2ykpD0pgjVZqiq27a9ihLhYK7AaNhqFa7muh5Wqzes12tsNh8wDANPzy94/7shf4vlcqmrVTG/KhPjPHZgzgpvfz7QtM2NUO1eRHOM4xicc1KU6bXhnJFI9E6i3Y9ItfwP0GP15oGTm2cAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="修改 Windows Web Client 身份验证级别"\n        title=""\n        src="/static/6c70cf6733a1668deca756ea01cff513/39c09/windows-webdav-auth-level.png"\n        srcset="/static/6c70cf6733a1668deca756ea01cff513/680fe/windows-webdav-auth-level.png 156w,\n/static/6c70cf6733a1668deca756ea01cff513/17474/windows-webdav-auth-level.png 312w,\n/static/6c70cf6733a1668deca756ea01cff513/39c09/windows-webdav-auth-level.png 624w,\n/static/6c70cf6733a1668deca756ea01cff513/6d2da/windows-webdav-auth-level.png 936w,\n/static/6c70cf6733a1668deca756ea01cff513/218a4/windows-webdav-auth-level.png 1052w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(a.p,null,"笔者翻阅有关 Windows 系统连接 WebDAV 的",s.createElement(a.a,{href:"https://learn.microsoft.com/zh-cn/iis/publish/using-webdav/using-the-webdav-redirector#webdav-redirector-registry-settings"},"官方文档"),"发现，",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">BasicAuthLevel</code>'}})," 默认值为 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">1</code>'}})," 的时候就已经对 SSL 加密的连接启用身份验证了，但笔者仅在其值为 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">2</code>'}})," 的时候能顺利连接上。暂且蒙在鼓里。"),"\n",s.createElement(a.p,null,"右键“我的电脑”，选择“选择映射网络驱动器”，输入 WebDAV 的地址，再输入用户名和密码即可连接到服务："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/a56f46cd14f871aca90b5ef312c9f9d3/22475/windows-webdav-connect.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 57.05128205128205%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACK0lEQVR42m2SS29SURSFGdcxBAjvyxuMOkBieFhCU2uaSOpEGzGxmnRgnRjizIEdGH+IMSbqBOJI5GeAIG0R5P0MUlBAWJ69CXfQeHJX1r6D8+3XUfT7fYxGI6FfmEwmmIzHKxcai3g4HCKTySCVSiGZTCKdTiORSECpVEKv10On08kyGAxQVCoVkKq1GhqNhqx6vc6wUqkEv98PjUYDo9HIFyk2mUwwm83sa1ksFiiazSZ6vR6r2+2i1Wqxt9ttrjxfKCASiSAcDiMUCiEajfI/xYFAAA6HgysjICVU1ERlBGFQp8NOcHIaRzab5Qrtdjs8Ho8sAhFgLRlYF8CTk1OcnZ3iWy6HQj6PvBC1StBisYhgMAifzwe32w2r1QqbzcYJCEqimNpn4HQ6xXw2Q7c/QLlc5nlSy4vFAnRolivgdQbS5YuiBDJwNpvzxR/tc7S7PQwGq63/Flum0xQLimxtI7b/BHvxQ2zuxCCJKkkWSYIkrVxueQ1sDf+g0hqyys0hfjYH6J//Re57GTu7d3Dl6jV4XC54RJVej1sAJVhFZWvwepYCOAOW4lsuyYTzr2h5yYloBNu3d3E3foC9/YeI3XuA+weHuBG6CZPRAJdI4nQ65bYV8/mqwouHEvAMxdLijx7jxfEbPH95zEq8eo3NrVuiTSO83svybBlIj5iW0BFP5n+qVqv4kv6Kt+/e48PHT/icSuLZ0VNc2tiAVquFSqViqdVqfvD/AJTqPiwUgNdTAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Windows 连接到 WebDAV"\n        title=""\n        src="/static/a56f46cd14f871aca90b5ef312c9f9d3/39c09/windows-webdav-connect.png"\n        srcset="/static/a56f46cd14f871aca90b5ef312c9f9d3/680fe/windows-webdav-connect.png 156w,\n/static/a56f46cd14f871aca90b5ef312c9f9d3/17474/windows-webdav-connect.png 312w,\n/static/a56f46cd14f871aca90b5ef312c9f9d3/39c09/windows-webdav-connect.png 624w,\n/static/a56f46cd14f871aca90b5ef312c9f9d3/6d2da/windows-webdav-connect.png 936w,\n/static/a56f46cd14f871aca90b5ef312c9f9d3/22475/windows-webdav-connect.png 1039w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(a.p,null,"现在就可以在 Windows 系统上，像管理其它本地文件一样管理 WebDAV 里的文件了！"),"\n",s.createElement(a.h2,null,"备份应用数据到 WebDAV"),"\n",s.createElement(a.h3,null,"备份 Obsidian 笔记到 WebDAV"),"\n",s.createElement(a.p,null,"笔者使用 Obsidian 同步多端的笔记，过去使用 OneDrive 来同步笔记的数据，现在就可以迁移到 WebDAV 上了。只需要安装插件市场里的三方插件 Remotely Save，配置 WebDAV 即可："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/b3fe9cf4cafa7507f31873d4c610ff89/2cefc/webdav-sync-obsidian.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 77.56410256410257%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZklEQVR42l1UW5LaQAzkEGEXG/PwG9tgMI/F2SzL6xeKYglU5Qa5RP5ygNy4Vy0Yx8mHSjOamVarJbuRJAmiKEIYhgiCAL7vw3VdeJ4Hy7LQarXQ6/U0zlgY3O9xTePa7LNsiIbvewoYRaF6PiRAt9tV3+/34TiOWrvd1oeMcW3inU5Hvev5aIzHYxRFoVniOFbANE2x2+3wvlrh5eVFGfMRk9CbtTFDwHUFkGDr9VpLNoCU4XA4YDKZ6GUCkhWtXj7jxsiQ8cZ0OkVZlrohIJmGUjpjhQBmWVYB0MiEJJhsOBwilwp5h3q7cq4lb7fbiqECyloBi4mu7xpHch5hMBhojJ73GWci2xZAVwB5kOd5BcjDfJzjfP7A8XjE7XbD5fKB6/Uq/qL70+kk52e8vn7DcrlEIhjKkICkv9/vq5KNhm+rNy0rz8cYjUYYP0pTtnKPpRtdaWToeQ8N/wekn8/n+qg+FvVOsyLqx0QkYMm8ev6jyyy5PjaUgYIzxsvJIFEAdtjMptHb3KmaQiYrmbc6QwIyMz1nMstSHY367PEugVT7h4Z9ajjMRiiXXyUTO5iKvzdnWS4rQDIyA10fbMqgFTwYKmAUB5hMU4QDKceXoOeI8LGwfpcuvmKxWPxtRhRVSUypXDNeAW7LK37e/uCy+YXv6994L34gjH1s1huwYTR2O0mTO5iAs+usgtqbwWeXFTAOchTZGpN0hVm2QxIW8ANfv2E2bDabYSiPzKdmfh7mq+GeDJ+enlSaRqfnCHIHtvOMZ+sLnI6NtmjTbDb110VjObZt/+NbLas6syxb3jnCeoBPEO7TygvpvtMAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="配置 Obsidian 插件 Remotely Save"\n        title=""\n        src="/static/b3fe9cf4cafa7507f31873d4c610ff89/39c09/webdav-sync-obsidian.png"\n        srcset="/static/b3fe9cf4cafa7507f31873d4c610ff89/680fe/webdav-sync-obsidian.png 156w,\n/static/b3fe9cf4cafa7507f31873d4c610ff89/17474/webdav-sync-obsidian.png 312w,\n/static/b3fe9cf4cafa7507f31873d4c610ff89/39c09/webdav-sync-obsidian.png 624w,\n/static/b3fe9cf4cafa7507f31873d4c610ff89/6d2da/webdav-sync-obsidian.png 936w,\n/static/b3fe9cf4cafa7507f31873d4c610ff89/5a791/webdav-sync-obsidian.png 1248w,\n/static/b3fe9cf4cafa7507f31873d4c610ff89/2cefc/webdav-sync-obsidian.png 1400w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(a.p,null,"点击同步按钮，笔记数据就光速保存到 WebDAV 上啦！相比 OneDrive，使用 WebDAV 同步的速度要显著更快，源于少走了不少鉴权和请求接口罢。"),"\n",s.createElement(a.h3,null,"备份 Next Chat 数据到 WebDAV"),"\n",s.createElement(a.p,null,"笔者撰写此文时使用的 Next Chat 版本为 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">v2.15.8</code>'}}),"。"),"\n",s.createElement(a.p,null,"尽管在设置中它提供了同步配置和聊天记录到 WebDAV 的能力，但无论怎么配置也无法成功同步数据，翻看好多 Issues 和相关的帖子才终于理出来要如何使用。"),"\n",s.createElement(a.p,null,"Next Chat 设计为 Web 端使用，部署时需要配置环境变量 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">WHITE_WEBDAV_ENDPOINTS</code>'}})," 以添加 WebDAV 终端白名单。官方构建版本仅对一些常见 WebDAV 服务域名开了白名单，但像笔者这样的自建 WebDAV 服务自然是不可能在名单内。因此需要手动部署一个属于自己的 Next Chat 的 Web 版本，在环境变量中为 WebDAV 开放白名单。这样，在同步数据时，使用自建站点的域名作为代理服务器就可以了。"),"\n",s.createElement(a.p,null,"参考部署 Next Chat 到 Vercel 的",s.createElement(a.a,{href:"https://github.com/ChatGPTNextWeb/NextChat/blob/48469bd8ca4b29d40db0ade61b57f9be6f601e01/docs/vercel-cn.md"},"官方文档"),"，部署自己的 Next Chat 站点，将 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">WHITE_WEBDAV_ENDPOINTS=https://webdav.towind.fun</code>'}})," 作为构建环境变量："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/7b26f793ee6ef1393fd314a3accc4066/5e6a4/next-chat-vercel-env.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVR42mVS23aDIBDMi4jcEQFtjIn2NKf9/w+csqSatH2Ygw7s7M7unoSQMMaA8xZN06Bt239gjEEphXEckVJC13WV55zDOYdxGmGsASvxJ7qw1lZQED0iUJAQomL/11rXN/R9cEbD2x5W2pL4RzDnjG3bsCwLpJT1IQVSEqp+FyZ+T7QnsN4imYSsI9risgqSjRDCEUgg4b2iV/4VdKetRtADBhXAWoYT73gVS/khSkKEvUKCVPLg/wpaZzGYgKj9s8IYI67XK+Z5Ls3mh2Wy++hrd/RWdH8EybLNT8s+KUyXAcs24bKOWNYJcXLok678fMsVb0vCeY0wjobyWzCYYln3D8EwKZznjPvXO+6fG7aPBTF7uL6syTmWBGfc3i/1XO9vcKEI8qegcQbRRCQdHoLKdLjcJnx8rgipTNV3NaiPBkMulcYyyb7sqheVV1q99FnXoQxlKLGgCjYNgxRlWtrUs2VlkZuy0Iz6JSsq9wP63he+9rok8NLBC4OGNfgGENvohdrmcXMAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="构建 Next Chat 环境变量"\n        title=""\n        src="/static/7b26f793ee6ef1393fd314a3accc4066/39c09/next-chat-vercel-env.png"\n        srcset="/static/7b26f793ee6ef1393fd314a3accc4066/680fe/next-chat-vercel-env.png 156w,\n/static/7b26f793ee6ef1393fd314a3accc4066/17474/next-chat-vercel-env.png 312w,\n/static/7b26f793ee6ef1393fd314a3accc4066/39c09/next-chat-vercel-env.png 624w,\n/static/7b26f793ee6ef1393fd314a3accc4066/6d2da/next-chat-vercel-env.png 936w,\n/static/7b26f793ee6ef1393fd314a3accc4066/5a791/next-chat-vercel-env.png 1248w,\n/static/7b26f793ee6ef1393fd314a3accc4066/5e6a4/next-chat-vercel-env.png 1469w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(a.p,null,"现在，笔者自建的 Next Chat 站点便允许被作为请求 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">https://webdav.towind.fun</code>'}})," 的代理服务器了。"),"\n",s.createElement(a.p,null,"配置云同步，检查可用性，成功在 WebDAV 的根目录下创建了文件夹 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">chatgpt-next-chat</code>'}}),"："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/363f3b62c886bb7df30f5da642edea5e/a429e/next-chat-check-connection.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 46.15384615384615%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVR42m2S6W7CMBCE8wogSqVCLucgToAAuQ3haCX6g/d/nqlnaaVW6o+R7bX97di7TpKmKMsSi8UCy+Xyj1zXlXEye0FcH5APDbKuQtbXVhUK0yK30lbFvkS2PcAJlcJms0EcxwiCAL7vizhnzPM8zF9f0fQ92uGpumsxXm8w4wWdXfdHA2MMmq6HE4QhzDAgz3MoC/+Bckyte8/OX+ZzrNdr7HY7eQ3Vtq0Y0TrH6TTiervh835/AnubnW4IIFhrjdDGg1BZeIDZbIYoipCtVlh9iwk4FhuN6/sN5/MZdwL9IERVVQKh6CxJEoGnaSJuCWRC7mdZJnuPx0Oeua01Lh8Xccy149o/YjYe/HkugVRs5f0DpLPj8SSAXBfYbkvkRYG26+gwECBhnu8hVD4iFclF/imrPJ1OJcFvoBmMuPod05l+OuRFVpPu1nUEFSsLjuQfGZ/8A6TD8zhiv99bl884950323/sN8Kk/9wlAhUijNhG38DJ5A+QappGHLLiLEhd1xL/AsuPCXLzTKwSAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Next Chat 云同步检查 WebDAV 可用性"\n        title=""\n        src="/static/363f3b62c886bb7df30f5da642edea5e/39c09/next-chat-check-connection.png"\n        srcset="/static/363f3b62c886bb7df30f5da642edea5e/680fe/next-chat-check-connection.png 156w,\n/static/363f3b62c886bb7df30f5da642edea5e/17474/next-chat-check-connection.png 312w,\n/static/363f3b62c886bb7df30f5da642edea5e/39c09/next-chat-check-connection.png 624w,\n/static/363f3b62c886bb7df30f5da642edea5e/6d2da/next-chat-check-connection.png 936w,\n/static/363f3b62c886bb7df30f5da642edea5e/5a791/next-chat-check-connection.png 1248w,\n/static/363f3b62c886bb7df30f5da642edea5e/a429e/next-chat-check-connection.png 1717w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(a.p,null,"尝试初次同步 Next Chat 的数据：首先发出请求检查 WebDAV 里是否包含云端数据，响应值为 404 Not Found，符合预期；接着将备份的数据上传到 WebDAV，服务端响应 502 Bad Gateway："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/836bf5bb1d522cbf964bc14684dcd55f/3a188/webdav-sync-next-chat-failed.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 40.38461538461539%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYUlEQVR42l2S6W6DMBCEeZBAOMJhDOZKMIGQAKlS8f4PNN11awn1xwrLC9/OzOLkUuJ2uyEIAriuC8/zTF0uF0RRBP98RigEiq5CXheQjULcT0jvGsXUQ4w9suGGvKBeoeBIWRhgGIamgjCA7/uI4xhJkphzSS83dQ2lSlRKQdUt9PzCfZ6hxzt6rr5H09Rw+ENJKi2Ai5WdSZlRTc+pqrCPI760xofqPWjM8xMsplIV5seM5/OFZd3glGWJYRiQZRlCApxOJ7h/tj2CeX5ghnA/TVNTfBYUA4soSP32fmNdV2wbAfniMU2oyZIQmQGxumMxhAEWqsj29+dj7hQDl4Viu6JtWzg8vSJLDOaJnJkFGYV/CzoCC3K17zuulL3MJbQe0HZXylHD4S2z5a7rIPIcES3GbtvCOdMjkDOfaSG8TD5n1EuSXxeOELlpNE1jANby8df5D2Q3C9lki/be5voDEzDwMVi6laAAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Next Chat 同步失败 502 Error"\n        title=""\n        src="/static/836bf5bb1d522cbf964bc14684dcd55f/39c09/webdav-sync-next-chat-failed.png"\n        srcset="/static/836bf5bb1d522cbf964bc14684dcd55f/680fe/webdav-sync-next-chat-failed.png 156w,\n/static/836bf5bb1d522cbf964bc14684dcd55f/17474/webdav-sync-next-chat-failed.png 312w,\n/static/836bf5bb1d522cbf964bc14684dcd55f/39c09/webdav-sync-next-chat-failed.png 624w,\n/static/836bf5bb1d522cbf964bc14684dcd55f/6d2da/webdav-sync-next-chat-failed.png 936w,\n/static/836bf5bb1d522cbf964bc14684dcd55f/5a791/webdav-sync-next-chat-failed.png 1248w,\n/static/836bf5bb1d522cbf964bc14684dcd55f/3a188/webdav-sync-next-chat-failed.png 1623w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(a.p,null,"查看 Nginx 错误日志："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">tail</span> <span class="token parameter variable">-n</span> <span class="token number">10</span> /var/log/nginx/error.log\n<span class="token punctuation">..</span>.\n<span class="token punctuation">[</span>error<span class="token punctuation">]</span> <span class="token number">2107</span><span class="token comment">#2107: *36701359 client intended to send too large body: 1663429 bytes, client: xxx.xx.xxx.xxx, server: webdav.towind.fun, request: "PUT /chatgpt-next-web/backup.json HTTP/2.0", host: "webdav.towind.fun"</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"可知 Nginx 拒绝了包含超过设定大小数据的请求，那么只需要将设定的大小放开一点就好。编辑对应的 Nginx 配置，例如设置允许的最大请求体为 ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">50M</code>'}}),"："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="nginx"><pre class="language-nginx"><code class="language-nginx"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>\n  <span class="token directive"><span class="token keyword">server_name</span> webdav.towind.fun</span><span class="token punctuation">;</span>\n  <span class="token directive"><span class="token keyword">client_max_body_size</span> <span class="token number">50M</span></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"再次尝试同步 Next Chat 的数据，成功上传到 WebDAV："),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/f01541879c86f48337c22a3d8dab9842/8cae4/webdav-backup-next-chat.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCElEQVR42nWPy2rCYBCF82YuNFQkhVwQS2mpfVARQbJQMUEC2TUbsYkBKwm5/OTyNflFdw4chjNzznBGmU6nzGYzLMtC13UM08A0TckNw0DTNNTRiOFwyKjrqqoyGAwYj1+YTCa8fc35NN75tuZ8vOoo+/2e5XLJ4XBgt9vhui62bbNarViv1ziOw2azoddtt1sWiwVJklCWJUWRU+RFB0GWZ4iiQImiX4LghygKOZ1OROczx+MRz/PwfZ84jiUPw9s+CALquuZZKWlSI8qWh6Z9qpWHqqqS6fIuWc/btpXIsqxL3CUMQ8E5rro3+mVD0zRSeEfP7+hN1+uVNE3l20KIh+dy+ZOzf90kVYPTFfTuAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Next Chat 同步成功"\n        title=""\n        src="/static/f01541879c86f48337c22a3d8dab9842/39c09/webdav-backup-next-chat.png"\n        srcset="/static/f01541879c86f48337c22a3d8dab9842/680fe/webdav-backup-next-chat.png 156w,\n/static/f01541879c86f48337c22a3d8dab9842/17474/webdav-backup-next-chat.png 312w,\n/static/f01541879c86f48337c22a3d8dab9842/39c09/webdav-backup-next-chat.png 624w,\n/static/f01541879c86f48337c22a3d8dab9842/6d2da/webdav-backup-next-chat.png 936w,\n/static/f01541879c86f48337c22a3d8dab9842/8cae4/webdav-backup-next-chat.png 1109w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(a.p,null,"未来无论在什么客户端使用 Next Chat 时，都可以同步配置数据和聊天记录了！"),"\n",s.createElement(a.h2,null,"参考文章"),"\n",s.createElement(a.p,null,"在“Windows 挂载 WebDAV”章节里，主要参考了",s.createElement(a.a,{href:"https://www.expoli.tech/articles/2020/12/30/1609327097930#00ecc29c1a7b4cb783cfa61ba925073e"},"《Windows 挂载 WebDAV》"),"这篇博客，解决了挂载异常的问题。"),"\n",s.createElement(a.p,null,"在“备份应用数据到 WebDAV”章节里，主要参考了",s.createElement(a.a,{href:"https://linux.do/t/topic/373723"},"《终于拿下了NextChat的WebDAV云同步，我感觉我又行了》"),"和",s.createElement(a.a,{href:"https://linux.do/t/topic/328163"},"《【拉跨，但能用了】NextChat 的 WebDAV 云同步。。》"),"这两篇帖子。"))}var l=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,t.R)(),e.components);return a?s.createElement(a,e,s.createElement(c,e)):c(e)},i=n(197),r=n(4353),o=n.n(r),d=n(4794),p=n(6947),g=n(4017),b=n(1042),m=n(1038);const A={a:e=>{let{href:a="",children:n}=e;const t=!(null!=a&&a.startsWith("#")),c=t?a:`#${encodeURIComponent(a.slice(1))}`;return s.createElement("a",{href:c,target:t?"_blank":void 0,rel:"noreferrer"},n)},img:e=>{const{alt:a="The author is too lazy to give an alt",src:n,...t}=e;return s.createElement("a",{href:n,"data-fancybox":"gallery","data-caption":a},s.createElement("img",Object.assign({src:n,alt:a},t)))},Card:p.A,Link:d.Link},u=e=>{let{children:a,data:n}=e;const{mdx:{frontmatter:{title:c,date:l,updated:r,categories:d,tags:p,timeliness:b=!0}}}=n,u=s.useRef(null),f=o()(l),h=r?o()(r):f,w=o()().diff(h,"days");return s.useEffect((()=>{var e;const a=null===(e=u.current)||void 0===e?void 0:e.querySelectorAll("a.gatsby-resp-image-link");return null==a||a.forEach((e=>{const a=e.children.item(1);e.setAttribute("data-fancybox","gallery"),e.setAttribute("data-caption",a.alt)})),i.lX.bind("[data-fancybox]"),()=>i.lX.unbind("[data-fancybox]")}),[]),s.createElement("div",{className:"mx-auto flex max-w-xl flex-col gap-y-12"},s.createElement("div",{className:"flex flex-col gap-4"},(null==d?void 0:d.length)&&s.createElement(g.A,{name:d[0],className:"item-selectable"}),s.createElement("h1",{className:"text-3xl font-bold"},c),s.createElement("div",{className:"item-secondary flex flex-col gap-2 lg:flex-row"},l&&s.createElement("span",{title:`首次发布于：${f.toString()}\n最后更新于：${h.toString()}`},f.format("MM 月 DD 日 YYYY 年")),(null==p?void 0:p.length)&&s.createElement("div",{className:"flex flex-1 flex-wrap gap-2 lg:before:content-['•']"},p.map((e=>s.createElement(m.A,{key:e,name:e,className:"item-secondary item-selectable"})))))),s.createElement("article",{ref:u,className:"heti post-entry"},b&&w>365&&s.createElement("blockquote",{className:"border-l-4 border-orange-400"},"这是一篇",s.createElement("strong",null,"最后更新于 ",w," 天前"),"的博客，内容可能随着时间的推移而变得不再适用，建议您仔细评估信息的有效性。"),s.createElement(t.x,{components:A},a)))},f=e=>{let{data:a}=e;return s.createElement(b.A,{title:String(a.mdx.frontmatter.title)})};function h(e){return s.createElement(u,e,s.createElement(l,e))}}}]);
//# sourceMappingURL=component---src-templates-post-tsx-content-file-path-blog-posts-private-webdav-mdx-cc68288cf5cb15cc9d92.js.map