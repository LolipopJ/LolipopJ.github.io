{"version":3,"file":"component---src-templates-post-tsx-content-file-path-blog-posts-github-jsdelivr-hold-image-mdx-b6471ddef6f86995cb3b.js","mappings":"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","sources":["webpack://homepage/./blog/posts/github-jsdelivr-hold-image.mdx","webpack://homepage/./src/templates/post.tsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    blockquote: \"blockquote\",\n    p: \"p\",\n    h2: \"h2\",\n    strong: \"strong\",\n    span: \"span\",\n    a: \"a\",\n    img: \"img\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, \"使用此类公益服务时应保留敬畏之心，不要滥用服务，消耗他人的善意。\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"今天突然想去搞个图床，使用 CDN 加速图片资源。因为博客放在小水管服务器上，直接用这个服务器向用户传输图片资源对带宽有很大影响。\"), \"\\n\", React.createElement(_components.p, null, \"遂上网搜索有无免费图床的服务，看到不少将 jsDelivr 用作图床使用的教程，便自己实践一番。\"), \"\\n\", React.createElement(_components.p, null, \"在国内，直接使用 Github 链接来加载图片是很慢的，甚至于加载不出来；但访问 jsDelivr 速度较快。通过 jsDelivr 来加速 Github 上的图片资源，即可以实现我们想要的图床服务。\"), \"\\n\", React.createElement(_components.p, null, \"使用其它的可以加速 Github 资源的 CDN 服务来替换 jsDelivr 也可以；这应该算是目前对于个人开发者来说，最简单且最经济的方式了。\"), \"\\n\", React.createElement(_components.h2, null, \"创建图床仓库\"), \"\\n\", React.createElement(_components.p, null, \"在 Github 上自建一个\", React.createElement(_components.strong, null, \"公开\"), \"的仓库即可，与其它仓库区分开，您可以命名为 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">img-holder</code>\"\n    }\n  }), \"。\"), \"\\n\", React.createElement(_components.p, null, \"为什么要是公开的仓库？因为 jsDelivr 是 A free CDN for Open Source。咳咳，因为非公开的仓库别人也访问不到啦。\"), \"\\n\", React.createElement(_components.p, null, \"接下来，就可以往这个仓库里扔图片文件了。\"), \"\\n\", React.createElement(_components.h2, null, \"使用 jsDelivr 加速\"), \"\\n\", React.createElement(_components.p, null, \"使用也非常简单，jsDiliver 提供了这个例子：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"plaintext\\\"><pre class=\\\"language-plaintext\\\"><code class=\\\"language-plaintext\\\">// load any GitHub release, commit, or branch\\nhttps://cdn.jsdelivr.net/gh/user/repo@version/file</code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"按照这个格式依葫芦画瓢，例如在编写 Markdown 时，可以这样使用：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"md\\\"><pre class=\\\"language-md\\\"><code class=\\\"language-md\\\"><span class=\\\"token url\\\"><span class=\\\"token operator\\\">!</span>[<span class=\\\"token content\\\">CDN host image</span>](<span class=\\\"token url\\\">https://cdn.jsdelivr.net/gh/user/repo/file</span>)</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"其中 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">user</code>\"\n    }\n  }), \" 为 Github 账户名，\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">repo</code>\"\n    }\n  }), \" 为仓库名，\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">file</code>\"\n    }\n  }), \" 为文件路径。\"), \"\\n\", React.createElement(_components.h2, null, \"实际使用示例\"), \"\\n\", React.createElement(_components.p, null, \"在我的 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">img-folder</code>\"\n    }\n  }), \" 仓库中存放了一个 \", React.createElement(_components.a, {\n    href: \"https://github.com/LolipopJ/img-folder/blob/master/pic/less-spend.gif\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">pic/less-spend.gif</code>\"\n    }\n  })), \" 文件。\"), \"\\n\", React.createElement(_components.p, null, \"编写 Markdown 内容如下：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"md\\\"><pre class=\\\"language-md\\\"><code class=\\\"language-md\\\"><span class=\\\"token url\\\"><span class=\\\"token operator\\\">!</span>[<span class=\\\"token content\\\">Spend my money less</span>](<span class=\\\"token url\\\">https://cdn.jsdelivr.net/gh/lolipopj/img-folder/pic/less-spend.gif</span>)</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"渲染为 HTML 文件，显示内容如下：\"), \"\\n\", React.createElement(_components.img, {\n    src: \"https://cdn.jsdelivr.net/gh/lolipopj/img-folder/pic/less-spend.gif\",\n    alt: \"Spend my money less\"\n  }), \"\\n\", React.createElement(_components.p, null, \"值得注意的是，由于 jsDelivr 本身的缓存机制，刚刚上传到 Github 仓库上的图片资源可能无法成功获取。系正常现象，等待一段时间便可。\"), \"\\n\", React.createElement(_components.p, null, \"看到一些博客提到可以使用 \", React.createElement(_components.a, {\n    href: \"https://github.com/Molunerfinn/PicGo\"\n  }, \"PicGo\"), \" 来管理自己的图床资源，电脑和手机端都可以使用，甚至还提供了 VSCode 插件。Cool，对于使用图片较多的用户可能非常有帮助。\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/runner/work/homepage/homepage/blog/posts/github-jsdelivr-hold-image.mdx\";\nimport {Fancybox} from \"@fancyapps/ui\";\nimport {MDXProvider} from \"@mdx-js/react\";\nimport dayjs from \"dayjs\";\nimport {Link} from \"gatsby\";\nimport * as React from \"react\";\nimport Card from \"../components/card\";\nimport Category from \"../components/category\";\nimport SEO from \"../components/seo\";\nimport Tag from \"../components/tag\";\nconst FancyBoxImage = props => {\n  const {alt = \"The author is too lazy to give an alt\", src, ...restProps} = props;\n  return React.createElement(\"a\", {\n    href: src,\n    \"data-fancybox\": \"gallery\",\n    \"data-caption\": alt\n  }, React.createElement(\"img\", Object.assign({\n    src: src,\n    alt: alt\n  }, restProps)));\n};\nconst ALink = _ref => {\n  let {href = \"\", children} = _ref;\n  const isExternalHref = !(href !== null && href !== void 0 && href.startsWith(\"#\"));\n  const parsedHref = isExternalHref ? href : `#${encodeURIComponent(href.slice(1))}`;\n  return React.createElement(\"a\", {\n    href: parsedHref,\n    target: isExternalHref ? \"_blank\" : undefined,\n    rel: \"noreferrer\"\n  }, children);\n};\nconst components = {\n  a: ALink,\n  img: FancyBoxImage,\n  Card,\n  Link\n};\nconst PostTemplate = _ref2 => {\n  let {children, data} = _ref2;\n  const {mdx: {fields: {isDraft}, frontmatter: {title, date: dateString, updated: updatedDateString, categories, tags, timeliness}}} = data;\n  const articleRef = React.useRef(null);\n  const date = dayjs(dateString);\n  const updatedDate = updatedDateString ? dayjs(updatedDateString) : date;\n  const today = dayjs();\n  const diffDays = today.diff(updatedDate, \"days\");\n  React.useEffect(() => {\n    var _articleRef$current;\n    const optimizedImageLinks = (_articleRef$current = articleRef.current) === null || _articleRef$current === void 0 ? void 0 : _articleRef$current.querySelectorAll(\"a.gatsby-resp-image-link\");\n    optimizedImageLinks === null || optimizedImageLinks === void 0 ? void 0 : optimizedImageLinks.forEach(link => {\n      const image = link.children.item(1);\n      link.setAttribute(\"data-fancybox\", \"gallery\");\n      link.setAttribute(\"data-caption\", image.alt);\n    });\n    Fancybox.bind(\"[data-fancybox]\");\n    return () => Fancybox.unbind(\"[data-fancybox]\");\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"mx-auto flex max-w-xl flex-col gap-y-12\"\n  }, React.createElement(\"div\", {\n    className: \"flex flex-col gap-4\"\n  }, (categories === null || categories === void 0 ? void 0 : categories.length) && React.createElement(Category, {\n    name: categories[0],\n    className: \"item-selectable\"\n  }), React.createElement(\"h1\", {\n    className: \"text-3xl font-bold\"\n  }, title), React.createElement(\"div\", {\n    className: \"item-secondary flex flex-col gap-2 lg:flex-row\"\n  }, dateString && React.createElement(\"span\", {\n    title: `首次发布于：${date.toString()}\\n最后更新于：${updatedDate.toString()}`\n  }, date.format(\"MM 月 DD 日 YYYY 年\")), (tags === null || tags === void 0 ? void 0 : tags.length) && React.createElement(\"div\", {\n    className: \"flex flex-1 flex-wrap gap-2 lg:before:content-['\\u2022']\"\n  }, tags.map(tag => React.createElement(Tag, {\n    key: tag,\n    name: tag,\n    className: \"item-secondary item-selectable\"\n  }))))), React.createElement(\"article\", {\n    ref: articleRef,\n    className: \"heti post-entry\"\n  }, isDraft && React.createElement(\"blockquote\", {\n    className: \"!border-red-400\"\n  }, \"\\u8FD9\\u662F\\u4E00\\u7BC7\", React.createElement(\"strong\", null, \"\\u672A\\u6B63\\u5F0F\\u53D1\\u5E03\"), \"\\u7684\\u535A\\u5BA2\\uFF0C\\u5185\\u5BB9\\u53EF\\u80FD\\u5C1A\\u672A\\u64B0\\u5199\\u5B8C\\u5168\\u6216\\u5B58\\u5728\\u4E00\\u4E9B\\u7EB0\\u6F0F\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u4ED4\\u7EC6\\u8BC4\\u4F30\\u4FE1\\u606F\\u7684\\u6709\\u6548\\u6027\\u3002\"), timeliness !== false && diffDays > 365 && React.createElement(\"blockquote\", {\n    className: \"!border-orange-400\"\n  }, \"\\u8FD9\\u662F\\u4E00\\u7BC7\", React.createElement(\"strong\", null, \"\\u6700\\u540E\\u66F4\\u65B0\\u4E8E \", diffDays, \" \\u5929\\u524D\"), \"\\u7684\\u535A\\u5BA2\\uFF0C\\u5185\\u5BB9\\u53EF\\u80FD\\u968F\\u7740\\u65F6\\u95F4\\u7684\\u63A8\\u79FB\\u800C\\u53D8\\u5F97\\u4E0D\\u518D\\u9002\\u7528\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u4ED4\\u7EC6\\u8BC4\\u4F30\\u4FE1\\u606F\\u7684\\u6709\\u6548\\u6027\\u3002\"), React.createElement(MDXProvider, {\n    components: components\n  }, children)));\n};\nconst query = \"2264136072\";\nexport const Head = _ref3 => {\n  let {data} = _ref3;\n  return React.createElement(SEO, {\n    title: String(data.mdx.frontmatter.title)\n  });\n};\nPostTemplate\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PostTemplate, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","blockquote","p","h2","strong","span","a","img","_provideComponents","components","React","dangerouslySetInnerHTML","__html","href","src","alt","wrapper","MDXLayout","_ref","children","isExternalHref","startsWith","parsedHref","encodeURIComponent","slice","target","undefined","rel","restProps","Card","Link","PostTemplate","_ref2","data","mdx","fields","isDraft","frontmatter","title","date","dateString","updated","updatedDateString","categories","tags","timeliness","articleRef","dayjs","updatedDate","diffDays","diff","_articleRef$current","optimizedImageLinks","current","querySelectorAll","forEach","link","image","item","setAttribute","Fancybox","bind","unbind","className","length","Category","name","toString","format","map","tag","Tag","key","ref","MDXProvider","Head","_ref3","SEO","String","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}