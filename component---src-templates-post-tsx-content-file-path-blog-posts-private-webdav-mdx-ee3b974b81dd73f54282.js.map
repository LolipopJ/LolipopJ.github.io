{"version":3,"file":"component---src-templates-post-tsx-content-file-path-blog-posts-private-webdav-mdx-ee3b974b81dd73f54282.js","mappings":"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","sources":["webpack://homepage/./blog/posts/private-webdav.mdx","webpack://homepage/./src/templates/post.tsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    h2: \"h2\",\n    blockquote: \"blockquote\",\n    a: \"a\",\n    span: \"span\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"今天在使用 Next Chat 时，突然想到聊天数据应该是可以备份的，在设置里面发现它支持 WebDAV 和没听说过的 UpStash 两种文件协议，而笔者使用的其它软件又广泛支持前者进行备份同步。于是今天便来捣腾 WebDAV 并实现数据备份。\"), \"\\n\", React.createElement(_components.h2, null, \"Docker 部署 WebDAV 服务\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, \"此章节里笔者选用了纯净的 WebDAV 服务镜像。如果想要更友好的交互体验，可以选用支持 WebDAV 协议的文件服务器镜像，例如 \", React.createElement(_components.a, {\n    href: \"https://github.com/drakkan/sftpgo\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">drakkan/sftpgo</code>\"\n    }\n  })), \" 以及 \", React.createElement(_components.a, {\n    href: \"https://github.com/sigoden/dufs\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">sigoden/dufs</code>\"\n    }\n  })), \" 等等。\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"一旦使用上了 Docker，就再也不想回去那种将服务运行在机器本体上的时代了。笔者首选使用 Docker 部署 WebDAV 服务，在 Docker Hub 以 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">webdav</code>\"\n    }\n  }), \" 为关键词搜索，有如下结果：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/6a9c4ee67a2f2fe5fc4ec925139d7389/cb9f4/docker-hub-webdav.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 44.87179487179487%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVR42p1Sy26DQAzk3oo3JAv7ABYIkIRDWvWQU///p6a2IVHUU9XDCNlrjT0zBIU+4WgJpkdZtUgKizg3hPpfCEw7wZ9WmG6C6xdk1YBUeaQHQ7B/QlJopKVBQgjiXEszIvYor+hBI0yVbHsMMn7Xzx59y7pDrhricQja4YKmP+NAzYyuCrMKtptFfkaLYqojgrwfnZByzWTcK1QL3Uz7tUS43u7w44raDULyFh/wdf/Gcv1AO5xR2UGGz+unoBsvMhcT8Xy9YZhWOD8TcSPLgnci4KvCdNualhbviRIpW22e/hT71Q/pIdn1OiceOr9QILOkLL7QMIdTuxFqv479bajHtbK9+MVzHdnFcxVBwmFCSymzDJbGm/haf7piutzEW7YioaDaYUHjNxTKyRLdjOLjUXu5mpcEzJrv+jcYMbeQf9K8SLbI91AekuNyCyLa/wCe/wFioOsM4gO0gAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"WebDAV 镜像列表\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/6a9c4ee67a2f2fe5fc4ec925139d7389/39c09/docker-hub-webdav.png\\\"\\n        srcset=\\\"/static/6a9c4ee67a2f2fe5fc4ec925139d7389/680fe/docker-hub-webdav.png 156w,\\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/17474/docker-hub-webdav.png 312w,\\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/39c09/docker-hub-webdav.png 624w,\\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/6d2da/docker-hub-webdav.png 936w,\\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/5a791/docker-hub-webdav.png 1248w,\\n/static/6a9c4ee67a2f2fe5fc4ec925139d7389/cb9f4/docker-hub-webdav.png 1903w\\\"\\n        sizes=\\\"(max-width: 624px) 100vw, 624px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"笔者尝试了下载量和收藏数最高的 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">bytemark/webdav</code>\"\n    }\n  }), \"，但发现设置了挂载目录后无法正常上传文件，仔细阅读说明文档才看到，必须要将宿主机的挂载目录设置为写死的 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">/srv/dav</code>\"\n    }\n  }), \"，意味着如果想要用其它目录来存放 WebDAV 里的文件的话，还需要额外添加一个软链接。这样的限制感觉笨笨的，很不优雅，于是找了找它的 \", React.createElement(_components.a, {\n    href: \"https://github.com/BytemarkHosting/docker-webdav\"\n  }, \"Github 仓库\"), \"，发现作者在写完这个镜像，发了一篇\", React.createElement(_components.a, {\n    href: \"https://docs.bytemark.co.uk/article/run-your-own-webdav-server-with-docker/\"\n  }, \"部署文档\"), \"后就再没有更新了，代码也就停留在了 2018 年。也许 WebDAV 协议已经相当稳定了，但是笔者还是想要找一个不这么别扭的 WebDAV 镜像。\"), \"\\n\", React.createElement(_components.p, null, \"接着，笔者尝试在 Github 上以 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">webdav</code>\"\n    }\n  }), \" 为关键词搜索，发现了关联度和星标均为最高，并且活跃更新的 \", React.createElement(_components.a, {\n    href: \"https://github.com/hacdias/webdav\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">hacdias/webdav</code>\"\n    }\n  })), \"。它针对不同用户组的权限管理能力非常强，笔者很喜欢。但笔者遇到的一个问题是：将本地的 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">local/path/to/data</code>\"\n    }\n  }), \" 目录关联给容器的 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">/data</code>\"\n    }\n  }), \" 目录后，同步的数据仍然被放置在了容器的根目录里，导致无法持久化备份文件。这也许是当前版本的 Bug，也有可能是没配置对的原因，总之笔者又着眼于找下一个 WebDAV 镜像去了。\"), \"\\n\", React.createElement(_components.p, null, \"最后，笔者尝试了 Docker Hub 上目前下载量和收藏数均为第二的 \", React.createElement(_components.a, {\n    href: \"https://github.com/uGeek/docker-webdav\"\n  }, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">ugeek/webdav</code>\"\n    }\n  })), \"，没有上述的问题，满足了笔者的需要。笔者在 MacOS 系统上部署 WebDAV 服务，因此要拉取它的 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">arm64</code>\"\n    }\n  }), \" 版本：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\"><pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">docker</span> pull ugeek/webdav:arm64</code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"运行 WebDAV 容器：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\"><pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">docker</span> run <span class=\\\"token parameter variable\\\">--name</span> webdav <span class=\\\"token punctuation\\\">\\\\</span>\\n  <span class=\\\"token parameter variable\\\">--restart</span><span class=\\\"token operator\\\">=</span>unless-stopped <span class=\\\"token punctuation\\\">\\\\</span>\\n  <span class=\\\"token parameter variable\\\">-p</span> <span class=\\\"token number\\\">3180</span>:80 <span class=\\\"token punctuation\\\">\\\\</span>\\n  <span class=\\\"token parameter variable\\\">-v</span> <span class=\\\"token environment constant\\\">$HOME</span>/WebDAV/data:/media <span class=\\\"token punctuation\\\">\\\\</span>\\n  <span class=\\\"token parameter variable\\\">-e</span> <span class=\\\"token assign-left variable\\\">USERNAME</span><span class=\\\"token operator\\\">=</span>YOUR_USERNAME <span class=\\\"token punctuation\\\">\\\\</span>\\n  <span class=\\\"token parameter variable\\\">-e</span> <span class=\\\"token assign-left variable\\\">PASSWORD</span><span class=\\\"token operator\\\">=</span>YOUR_PASSWORD <span class=\\\"token punctuation\\\">\\\\</span>\\n  <span class=\\\"token parameter variable\\\">-e</span> <span class=\\\"token assign-left variable\\\">TZ</span><span class=\\\"token operator\\\">=</span>Asia/Shanghai  <span class=\\\"token punctuation\\\">\\\\</span>\\n  <span class=\\\"token parameter variable\\\">-e</span> <span class=\\\"token assign-left variable\\\">UDI</span><span class=\\\"token operator\\\">=</span><span class=\\\"token number\\\">1000</span> <span class=\\\"token punctuation\\\">\\\\</span>\\n  <span class=\\\"token parameter variable\\\">-e</span> <span class=\\\"token assign-left variable\\\">GID</span><span class=\\\"token operator\\\">=</span><span class=\\\"token number\\\">1000</span> <span class=\\\"token punctuation\\\">\\\\</span>\\n  <span class=\\\"token parameter variable\\\">-d</span>  ugeek/webdav:arm64</code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"上面的配置表明，WebDAV 服务暴露在宿主机的 3180 端口，数据持久化存储在 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">$HOME/WebDAV/data</code>\"\n    }\n  }), \" 目录下。访问 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">127.0.0.1:3180</code>\"\n    }\n  }), \"，输入用户名和密码，即可看见当前 WebDAV 中包含的文件列表（当然此时为空）。\"), \"\\n\", React.createElement(_components.p, null, \"通过 frp 将内网的服务暴露给公网服务器上，再通过配置公网服务器的 Nginx 配置，现在 WebDAV 就可以通过域名 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">https://webdav.towind.fun</code>\"\n    }\n  }), \" 访问了！\"), \"\\n\", React.createElement(_components.h2, null, \"图形界面管理 WebDAV\"), \"\\n\", React.createElement(_components.p, null, \"用 Postman 来对 WebDAV 里的文件做 CRUD 显然不符合实际需要。在这一章节，笔者将分别通过 AList 和 Windows 来连接 WebDAV，方便以后实际的管理与使用。\"), \"\\n\", React.createElement(_components.h3, null, \"AList 挂载 WebDAV\"), \"\\n\", React.createElement(_components.p, null, \"笔者之前在 Docker 上部署了 AList 服务，它也支持连接并管理 WebDAV。这一切尤为简单，只需要在“管理 - 存储”页面添加 WebDAV 驱动，输入账号和密码即可连接：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/2b8cb18c69d2a43ce435d53be638580c/5e6a4/alist-webdav-connect.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 53.84615384615385%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByUlEQVR42q2SS0/bQBSFvWNRqaKpn+N5e/x+xAmJoSACEqUgddfu+v//x+HaCZW6qEBVF5/kuTNz7vE948VugD8+I7YVGOdgQiLmDAlPac0QcYUg1Qi5ppp4E0/lNdz6Etxkp6KEkQOYahHaHk6FWGcrVMpHKiWENkipKfsLXrfeoO2HRYjTYS4tmuwrVH6LVXmH0XzE9+EM1+UHmCyDq1uozNFZMiA1NVGQdE+QoRmvajtkRYGIMequFwdcK2jnsN3vME434OM3iLyHsrRnHGSWI69qXB/uUF0+gve3kC5f6l49TjDVgEhYMJ0jEQaaNrS1qLsWV4cH1Ns9OF3Qp0vKFRDNhIvdDl/2HQYaW0WuBeHJ6SfE/gdW7gafy3uEpoexirreQ22e8Hzh46GzeLQlbH4U0yQQTr/QNiUO5RmerMMVNeOzw7Jp0QzkMGHL0JOUL2knpkFsOpTyHAVP0FLaXFBoQlFgx2ASmncsHWJaJzM0U6+mQKqup990xydDgn4YIQh8BKGPVcjwKYxxTjX/D+LjuROvdW/YbDGLzvOZBWeHQRQTyUJI368E78AbtjvYoqSU0+UJxL8F/w2vHUa4sqJ3yP+L4AvaPC1cj6RdtgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"AList 连接到 WebDAV\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/2b8cb18c69d2a43ce435d53be638580c/39c09/alist-webdav-connect.png\\\"\\n        srcset=\\\"/static/2b8cb18c69d2a43ce435d53be638580c/680fe/alist-webdav-connect.png 156w,\\n/static/2b8cb18c69d2a43ce435d53be638580c/17474/alist-webdav-connect.png 312w,\\n/static/2b8cb18c69d2a43ce435d53be638580c/39c09/alist-webdav-connect.png 624w,\\n/static/2b8cb18c69d2a43ce435d53be638580c/6d2da/alist-webdav-connect.png 936w,\\n/static/2b8cb18c69d2a43ce435d53be638580c/5a791/alist-webdav-connect.png 1248w,\\n/static/2b8cb18c69d2a43ce435d53be638580c/5e6a4/alist-webdav-connect.png 1469w\\\"\\n        sizes=\\\"(max-width: 624px) 100vw, 624px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"回到主页，WebDAV 就顺利地挂载到了指定的路由上。这样，就可以随时随地通过浏览器访问 AList，管理 WebDAV 里的文件了！\"), \"\\n\", React.createElement(_components.h3, null, \"Windows 挂载 WebDAV\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, \"如果遇到报错：\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">The network path was not found</code>\"\n    }\n  }), \"，可以尝试多连接几次，直到顺利访问。笔者暂时没有找到能够稳定连接的方案，Drive me crazy，更推荐使用其它方案访问 WebDAV。\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"笔者的 WebDAV 由 SSL 加密，因此需要首先配置 Windows Web Client 的身份验证级别，即在“运行”里输入 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">regedit</code>\"\n    }\n  }), \" 打开注册表编辑器，找到 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">Computer\\\\HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\CurrentControlSet\\\\Services\\\\WebClient\\\\Parameters</code>\"\n    }\n  }), \"，修改其中键 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">BasicAuthLevel</code>\"\n    }\n  }), \" 的值为 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">2</code>\"\n    }\n  }), \"。\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/6c70cf6733a1668deca756ea01cff513/218a4/windows-webdav-auth-level.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 48.71794871794871%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVR42m1SiW6jMBDN//9X06ZKu9uQNoBCwmWDIVzmKATI27GrpIm0Iz15bGveHG8WaZIgTU8oqwplWULS2TQN6rrW5//8H9z7v1jEsYCIGXz3gMAPiDxFlmUaQiRIKGGe5/ouKWAcJ42+HzBNE2HG+TzesBhGYJBHmMYzkjSHsnEcMc8zkeSwTRsFVT4MA3VQgLGQ/iaqRsLzfV21ssvlorGYL0TQhmDeF/rzdPtUlpxKvL7bML92cI8+Yi7ItxBHAnlWYGt8UgKOe9OEU8fhHz7Rdv0DoRACOyI4HjwiSZClBWrZoSwkKkJbd7BMC4LGco37IWw8WNQyj1N6nG/ZeBTBskx4nkuilSiKnMaSaPHUXHO67x0HXdc9VjgS4X73iqMXaqWuFoQh9m4AkVc4VQ1ORYWt6cC2bS1WRRvhEKES5rHllsF1DGQU2H9/a0E0YRBSVQUNvkUlpV4VkZUIqP2ykpD0pgjVZqiq27a9ihLhYK7AaNhqFa7muh5Wqzes12tsNh8wDANPzy94/7shf4vlcqmrVTG/KhPjPHZgzgpvfz7QtM2NUO1eRHOM4xicc1KU6bXhnJFI9E6i3Y9ItfwP0GP15oGTm2cAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"修改 Windows Web Client 身份验证级别\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/6c70cf6733a1668deca756ea01cff513/39c09/windows-webdav-auth-level.png\\\"\\n        srcset=\\\"/static/6c70cf6733a1668deca756ea01cff513/680fe/windows-webdav-auth-level.png 156w,\\n/static/6c70cf6733a1668deca756ea01cff513/17474/windows-webdav-auth-level.png 312w,\\n/static/6c70cf6733a1668deca756ea01cff513/39c09/windows-webdav-auth-level.png 624w,\\n/static/6c70cf6733a1668deca756ea01cff513/6d2da/windows-webdav-auth-level.png 936w,\\n/static/6c70cf6733a1668deca756ea01cff513/218a4/windows-webdav-auth-level.png 1052w\\\"\\n        sizes=\\\"(max-width: 624px) 100vw, 624px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"笔者翻阅有关 Windows 系统连接 WebDAV 的\", React.createElement(_components.a, {\n    href: \"https://learn.microsoft.com/zh-cn/iis/publish/using-webdav/using-the-webdav-redirector#webdav-redirector-registry-settings\"\n  }, \"官方文档\"), \"发现，\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">BasicAuthLevel</code>\"\n    }\n  }), \" 默认值为 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">1</code>\"\n    }\n  }), \" 的时候就已经对 SSL 加密的连接启用身份验证了，但笔者仅在其值为 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">2</code>\"\n    }\n  }), \" 的时候能顺利连接上。暂且蒙在鼓里。\"), \"\\n\", React.createElement(_components.p, null, \"右键“我的电脑”，选择“选择映射网络驱动器”，输入 WebDAV 的地址，再输入用户名和密码即可连接到服务：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/a56f46cd14f871aca90b5ef312c9f9d3/22475/windows-webdav-connect.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 57.05128205128205%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACK0lEQVR42m2SS29SURSFGdcxBAjvyxuMOkBieFhCU2uaSOpEGzGxmnRgnRjizIEdGH+IMSbqBOJI5GeAIG0R5P0MUlBAWJ69CXfQeHJX1r6D8+3XUfT7fYxGI6FfmEwmmIzHKxcai3g4HCKTySCVSiGZTCKdTiORSECpVEKv10On08kyGAxQVCoVkKq1GhqNhqx6vc6wUqkEv98PjUYDo9HIFyk2mUwwm83sa1ksFiiazSZ6vR6r2+2i1Wqxt9ttrjxfKCASiSAcDiMUCiEajfI/xYFAAA6HgysjICVU1ERlBGFQp8NOcHIaRzab5Qrtdjs8Ho8sAhFgLRlYF8CTk1OcnZ3iWy6HQj6PvBC1StBisYhgMAifzwe32w2r1QqbzcYJCEqimNpn4HQ6xXw2Q7c/QLlc5nlSy4vFAnRolivgdQbS5YuiBDJwNpvzxR/tc7S7PQwGq63/Flum0xQLimxtI7b/BHvxQ2zuxCCJKkkWSYIkrVxueQ1sDf+g0hqyys0hfjYH6J//Re57GTu7d3Dl6jV4XC54RJVej1sAJVhFZWvwepYCOAOW4lsuyYTzr2h5yYloBNu3d3E3foC9/YeI3XuA+weHuBG6CZPRAJdI4nQ65bYV8/mqwouHEvAMxdLijx7jxfEbPH95zEq8eo3NrVuiTSO83svybBlIj5iW0BFP5n+qVqv4kv6Kt+/e48PHT/icSuLZ0VNc2tiAVquFSqViqdVqfvD/AJTqPiwUgNdTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"Windows 连接到 WebDAV\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/a56f46cd14f871aca90b5ef312c9f9d3/39c09/windows-webdav-connect.png\\\"\\n        srcset=\\\"/static/a56f46cd14f871aca90b5ef312c9f9d3/680fe/windows-webdav-connect.png 156w,\\n/static/a56f46cd14f871aca90b5ef312c9f9d3/17474/windows-webdav-connect.png 312w,\\n/static/a56f46cd14f871aca90b5ef312c9f9d3/39c09/windows-webdav-connect.png 624w,\\n/static/a56f46cd14f871aca90b5ef312c9f9d3/6d2da/windows-webdav-connect.png 936w,\\n/static/a56f46cd14f871aca90b5ef312c9f9d3/22475/windows-webdav-connect.png 1039w\\\"\\n        sizes=\\\"(max-width: 624px) 100vw, 624px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"现在就可以在 Windows 系统上，像管理其它本地文件一样管理 WebDAV 里的文件了！\"), \"\\n\", React.createElement(_components.h2, null, \"备份应用数据到 WebDAV\"), \"\\n\", React.createElement(_components.h3, null, \"备份 Obsidian 笔记到 WebDAV\"), \"\\n\", React.createElement(_components.p, null, \"笔者使用 Obsidian 同步多端的笔记，过去使用 OneDrive 来同步笔记的数据，现在就可以迁移到 WebDAV 上了。只需要安装插件市场里的三方插件 Remotely Save，配置 WebDAV 即可：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/b3fe9cf4cafa7507f31873d4c610ff89/2cefc/webdav-sync-obsidian.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 77.56410256410257%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZklEQVR42l1UW5LaQAzkEGEXG/PwG9tgMI/F2SzL6xeKYglU5Qa5RP5ygNy4Vy0Yx8mHSjOamVarJbuRJAmiKEIYhgiCAL7vw3VdeJ4Hy7LQarXQ6/U0zlgY3O9xTePa7LNsiIbvewoYRaF6PiRAt9tV3+/34TiOWrvd1oeMcW3inU5Hvev5aIzHYxRFoVniOFbANE2x2+3wvlrh5eVFGfMRk9CbtTFDwHUFkGDr9VpLNoCU4XA4YDKZ6GUCkhWtXj7jxsiQ8cZ0OkVZlrohIJmGUjpjhQBmWVYB0MiEJJhsOBwilwp5h3q7cq4lb7fbiqECyloBi4mu7xpHch5hMBhojJ73GWci2xZAVwB5kOd5BcjDfJzjfP7A8XjE7XbD5fKB6/Uq/qL70+kk52e8vn7DcrlEIhjKkICkv9/vq5KNhm+rNy0rz8cYjUYYP0pTtnKPpRtdaWToeQ8N/wekn8/n+qg+FvVOsyLqx0QkYMm8ev6jyyy5PjaUgYIzxsvJIFEAdtjMptHb3KmaQiYrmbc6QwIyMz1nMstSHY367PEugVT7h4Z9ajjMRiiXXyUTO5iKvzdnWS4rQDIyA10fbMqgFTwYKmAUB5hMU4QDKceXoOeI8LGwfpcuvmKxWPxtRhRVSUypXDNeAW7LK37e/uCy+YXv6994L34gjH1s1huwYTR2O0mTO5iAs+usgtqbwWeXFTAOchTZGpN0hVm2QxIW8ANfv2E2bDabYSiPzKdmfh7mq+GeDJ+enlSaRqfnCHIHtvOMZ+sLnI6NtmjTbDb110VjObZt/+NbLas6syxb3jnCeoBPEO7TygvpvtMAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"配置 Obsidian 插件 Remotely Save\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/b3fe9cf4cafa7507f31873d4c610ff89/39c09/webdav-sync-obsidian.png\\\"\\n        srcset=\\\"/static/b3fe9cf4cafa7507f31873d4c610ff89/680fe/webdav-sync-obsidian.png 156w,\\n/static/b3fe9cf4cafa7507f31873d4c610ff89/17474/webdav-sync-obsidian.png 312w,\\n/static/b3fe9cf4cafa7507f31873d4c610ff89/39c09/webdav-sync-obsidian.png 624w,\\n/static/b3fe9cf4cafa7507f31873d4c610ff89/6d2da/webdav-sync-obsidian.png 936w,\\n/static/b3fe9cf4cafa7507f31873d4c610ff89/5a791/webdav-sync-obsidian.png 1248w,\\n/static/b3fe9cf4cafa7507f31873d4c610ff89/2cefc/webdav-sync-obsidian.png 1400w\\\"\\n        sizes=\\\"(max-width: 624px) 100vw, 624px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"点击同步按钮，笔记数据就光速保存到 WebDAV 上啦！相比 OneDrive，使用 WebDAV 同步的速度要显著更快，但是也失去了 OneDrive 提供的历史版本管理能力，得失兼而有之。\"), \"\\n\", React.createElement(_components.p, null, \"尽管 OneDrive 的能力更加强大，但笔者还是倾心于玩弄自己的小玩具，暂且不与 OneDrive 同步了 XD。\"), \"\\n\", React.createElement(_components.h3, null, \"备份 Next Chat 数据到 WebDAV\"), \"\\n\", React.createElement(_components.p, null, \"笔者撰写此文时使用的 Next Chat 版本为 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">v2.15.8</code>\"\n    }\n  }), \"。\"), \"\\n\", React.createElement(_components.p, null, \"尽管在设置中它提供了同步配置和聊天记录到 WebDAV 的能力，但无论怎么配置也无法成功同步数据，翻看好多 Issues 和相关的帖子才终于理出来要如何使用。\"), \"\\n\", React.createElement(_components.p, null, \"Next Chat 设计为 Web 端使用，部署时需要配置环境变量 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">WHITE_WEBDAV_ENDPOINTS</code>\"\n    }\n  }), \" 以添加 WebDAV 终端白名单。官方构建版本仅对一些常见 WebDAV 服务域名开了白名单，但像笔者这样的自建 WebDAV 服务自然是不可能在名单内。因此需要手动部署一个属于自己的 Next Chat 的 Web 版本，在环境变量中为 WebDAV 开放白名单。这样，在同步数据时，使用自建站点的域名作为代理服务器就可以了。\"), \"\\n\", React.createElement(_components.p, null, \"参考部署 Next Chat 到 Vercel 的\", React.createElement(_components.a, {\n    href: \"https://github.com/ChatGPTNextWeb/NextChat/blob/48469bd8ca4b29d40db0ade61b57f9be6f601e01/docs/vercel-cn.md\"\n  }, \"官方文档\"), \"，部署自己的 Next Chat 站点，将 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">WHITE_WEBDAV_ENDPOINTS=https://webdav.towind.fun</code>\"\n    }\n  }), \" 作为构建环境变量：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/7b26f793ee6ef1393fd314a3accc4066/5e6a4/next-chat-vercel-env.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVR42mVS23aDIBDMi4jcEQFtjIn2NKf9/w+csqSatH2Ygw7s7M7unoSQMMaA8xZN06Bt239gjEEphXEckVJC13WV55zDOYdxGmGsASvxJ7qw1lZQED0iUJAQomL/11rXN/R9cEbD2x5W2pL4RzDnjG3bsCwLpJT1IQVSEqp+FyZ+T7QnsN4imYSsI9risgqSjRDCEUgg4b2iV/4VdKetRtADBhXAWoYT73gVS/khSkKEvUKCVPLg/wpaZzGYgKj9s8IYI67XK+Z5Ls3mh2Wy++hrd/RWdH8EybLNT8s+KUyXAcs24bKOWNYJcXLok678fMsVb0vCeY0wjobyWzCYYln3D8EwKZznjPvXO+6fG7aPBTF7uL6syTmWBGfc3i/1XO9vcKEI8qegcQbRRCQdHoLKdLjcJnx8rgipTNV3NaiPBkMulcYyyb7sqheVV1q99FnXoQxlKLGgCjYNgxRlWtrUs2VlkZuy0Iz6JSsq9wP63he+9rok8NLBC4OGNfgGENvohdrmcXMAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"构建 Next Chat 环境变量\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/7b26f793ee6ef1393fd314a3accc4066/39c09/next-chat-vercel-env.png\\\"\\n        srcset=\\\"/static/7b26f793ee6ef1393fd314a3accc4066/680fe/next-chat-vercel-env.png 156w,\\n/static/7b26f793ee6ef1393fd314a3accc4066/17474/next-chat-vercel-env.png 312w,\\n/static/7b26f793ee6ef1393fd314a3accc4066/39c09/next-chat-vercel-env.png 624w,\\n/static/7b26f793ee6ef1393fd314a3accc4066/6d2da/next-chat-vercel-env.png 936w,\\n/static/7b26f793ee6ef1393fd314a3accc4066/5a791/next-chat-vercel-env.png 1248w,\\n/static/7b26f793ee6ef1393fd314a3accc4066/5e6a4/next-chat-vercel-env.png 1469w\\\"\\n        sizes=\\\"(max-width: 624px) 100vw, 624px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"现在，笔者自建的 Next Chat 站点便允许被作为请求 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">https://webdav.towind.fun</code>\"\n    }\n  }), \" 的代理服务器了。\"), \"\\n\", React.createElement(_components.p, null, \"配置云同步，检查可用性，成功在 WebDAV 的根目录下创建了文件夹 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">chatgpt-next-chat</code>\"\n    }\n  }), \"：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/363f3b62c886bb7df30f5da642edea5e/a429e/next-chat-check-connection.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 46.15384615384615%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVR42m2S6W7CMBCE8wogSqVCLucgToAAuQ3haCX6g/d/nqlnaaVW6o+R7bX97di7TpKmKMsSi8UCy+Xyj1zXlXEye0FcH5APDbKuQtbXVhUK0yK30lbFvkS2PcAJlcJms0EcxwiCAL7vizhnzPM8zF9f0fQ92uGpumsxXm8w4wWdXfdHA2MMmq6HE4QhzDAgz3MoC/+Bckyte8/OX+ZzrNdr7HY7eQ3Vtq0Y0TrH6TTiervh835/AnubnW4IIFhrjdDGg1BZeIDZbIYoipCtVlh9iwk4FhuN6/sN5/MZdwL9IERVVQKh6CxJEoGnaSJuCWRC7mdZJnuPx0Oeua01Lh8Xccy149o/YjYe/HkugVRs5f0DpLPj8SSAXBfYbkvkRYG26+gwECBhnu8hVD4iFclF/imrPJ1OJcFvoBmMuPod05l+OuRFVpPu1nUEFSsLjuQfGZ/8A6TD8zhiv99bl884950323/sN8Kk/9wlAhUijNhG38DJ5A+QappGHLLiLEhd1xL/AsuPCXLzTKwSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"Next Chat 云同步检查 WebDAV 可用性\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/363f3b62c886bb7df30f5da642edea5e/39c09/next-chat-check-connection.png\\\"\\n        srcset=\\\"/static/363f3b62c886bb7df30f5da642edea5e/680fe/next-chat-check-connection.png 156w,\\n/static/363f3b62c886bb7df30f5da642edea5e/17474/next-chat-check-connection.png 312w,\\n/static/363f3b62c886bb7df30f5da642edea5e/39c09/next-chat-check-connection.png 624w,\\n/static/363f3b62c886bb7df30f5da642edea5e/6d2da/next-chat-check-connection.png 936w,\\n/static/363f3b62c886bb7df30f5da642edea5e/5a791/next-chat-check-connection.png 1248w,\\n/static/363f3b62c886bb7df30f5da642edea5e/a429e/next-chat-check-connection.png 1717w\\\"\\n        sizes=\\\"(max-width: 624px) 100vw, 624px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"尝试初次同步 Next Chat 的数据：首先发出请求检查 WebDAV 里是否包含云端数据，响应值为 404 Not Found，符合预期；接着将备份的数据上传到 WebDAV，服务端响应 502 Bad Gateway：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/836bf5bb1d522cbf964bc14684dcd55f/3a188/webdav-sync-next-chat-failed.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 40.38461538461539%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYUlEQVR42l2S6W6DMBCEeZBAOMJhDOZKMIGQAKlS8f4PNN11awn1xwrLC9/OzOLkUuJ2uyEIAriuC8/zTF0uF0RRBP98RigEiq5CXheQjULcT0jvGsXUQ4w9suGGvKBeoeBIWRhgGIamgjCA7/uI4xhJkphzSS83dQ2lSlRKQdUt9PzCfZ6hxzt6rr5H09Rw+ENJKi2Ai5WdSZlRTc+pqrCPI760xofqPWjM8xMsplIV5seM5/OFZd3glGWJYRiQZRlCApxOJ7h/tj2CeX5ghnA/TVNTfBYUA4soSP32fmNdV2wbAfniMU2oyZIQmQGxumMxhAEWqsj29+dj7hQDl4Viu6JtWzg8vSJLDOaJnJkFGYV/CzoCC3K17zuulL3MJbQe0HZXylHD4S2z5a7rIPIcES3GbtvCOdMjkDOfaSG8TD5n1EuSXxeOELlpNE1jANby8df5D2Q3C9lki/be5voDEzDwMVi6laAAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"Next Chat 同步失败 502 Error\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/836bf5bb1d522cbf964bc14684dcd55f/39c09/webdav-sync-next-chat-failed.png\\\"\\n        srcset=\\\"/static/836bf5bb1d522cbf964bc14684dcd55f/680fe/webdav-sync-next-chat-failed.png 156w,\\n/static/836bf5bb1d522cbf964bc14684dcd55f/17474/webdav-sync-next-chat-failed.png 312w,\\n/static/836bf5bb1d522cbf964bc14684dcd55f/39c09/webdav-sync-next-chat-failed.png 624w,\\n/static/836bf5bb1d522cbf964bc14684dcd55f/6d2da/webdav-sync-next-chat-failed.png 936w,\\n/static/836bf5bb1d522cbf964bc14684dcd55f/5a791/webdav-sync-next-chat-failed.png 1248w,\\n/static/836bf5bb1d522cbf964bc14684dcd55f/3a188/webdav-sync-next-chat-failed.png 1623w\\\"\\n        sizes=\\\"(max-width: 624px) 100vw, 624px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"查看 Nginx 错误日志：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\"><pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">tail</span> <span class=\\\"token parameter variable\\\">-n</span> <span class=\\\"token number\\\">10</span> /var/log/nginx/error.log\\n<span class=\\\"token punctuation\\\">..</span>.\\n<span class=\\\"token punctuation\\\">[</span>error<span class=\\\"token punctuation\\\">]</span> <span class=\\\"token number\\\">2107</span><span class=\\\"token comment\\\">#2107: *36701359 client intended to send too large body: 1663429 bytes, client: xxx.xx.xxx.xxx, server: webdav.towind.fun, request: \\\"PUT /chatgpt-next-web/backup.json HTTP/2.0\\\", host: \\\"webdav.towind.fun\\\"</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"可知 Nginx 拒绝了包含超过设定大小数据的请求，那么只需要将设定的大小放开一点就好。编辑对应的 Nginx 配置，例如设置允许的最大请求体为 \", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<code class=\\\"language-text\\\">50M</code>\"\n    }\n  }), \"：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"nginx\\\"><pre class=\\\"language-nginx\\\"><code class=\\\"language-nginx\\\"><span class=\\\"token directive\\\"><span class=\\\"token keyword\\\">server</span></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token directive\\\"><span class=\\\"token keyword\\\">server_name</span> webdav.towind.fun</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token directive\\\"><span class=\\\"token keyword\\\">client_max_body_size</span> <span class=\\\"token number\\\">50M</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"再次尝试同步 Next Chat 的数据，成功上传到 WebDAV：\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/f01541879c86f48337c22a3d8dab9842/8cae4/webdav-backup-next-chat.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCElEQVR42nWPy2rCYBCF82YuNFQkhVwQS2mpfVARQbJQMUEC2TUbsYkBKwm5/OTyNflFdw4chjNzznBGmU6nzGYzLMtC13UM08A0TckNw0DTNNTRiOFwyKjrqqoyGAwYj1+YTCa8fc35NN75tuZ8vOoo+/2e5XLJ4XBgt9vhui62bbNarViv1ziOw2azoddtt1sWiwVJklCWJUWRU+RFB0GWZ4iiQImiX4LghygKOZ1OROczx+MRz/PwfZ84jiUPw9s+CALquuZZKWlSI8qWh6Z9qpWHqqqS6fIuWc/btpXIsqxL3CUMQ8E5rro3+mVD0zRSeEfP7+hN1+uVNE3l20KIh+dy+ZOzf90kVYPTFfTuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        alt=\\\"Next Chat 同步成功\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/f01541879c86f48337c22a3d8dab9842/39c09/webdav-backup-next-chat.png\\\"\\n        srcset=\\\"/static/f01541879c86f48337c22a3d8dab9842/680fe/webdav-backup-next-chat.png 156w,\\n/static/f01541879c86f48337c22a3d8dab9842/17474/webdav-backup-next-chat.png 312w,\\n/static/f01541879c86f48337c22a3d8dab9842/39c09/webdav-backup-next-chat.png 624w,\\n/static/f01541879c86f48337c22a3d8dab9842/6d2da/webdav-backup-next-chat.png 936w,\\n/static/f01541879c86f48337c22a3d8dab9842/8cae4/webdav-backup-next-chat.png 1109w\\\"\\n        sizes=\\\"(max-width: 624px) 100vw, 624px\\\"\\n        style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n        loading=\\\"lazy\\\"\\n        decoding=\\\"async\\\"\\n      />\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"未来无论在什么客户端使用 Next Chat 时，都可以同步配置数据和聊天记录了！\"), \"\\n\", React.createElement(_components.h2, null, \"参考文章\"), \"\\n\", React.createElement(_components.p, null, \"在“Windows 挂载 WebDAV”章节里，主要参考了\", React.createElement(_components.a, {\n    href: \"https://www.expoli.tech/articles/2020/12/30/1609327097930#00ecc29c1a7b4cb783cfa61ba925073e\"\n  }, \"《Windows 挂载 WebDAV》\"), \"这篇博客，解决了挂载异常的问题。\"), \"\\n\", React.createElement(_components.p, null, \"在“备份应用数据到 WebDAV”章节里，主要参考了\", React.createElement(_components.a, {\n    href: \"https://linux.do/t/topic/373723\"\n  }, \"《终于拿下了NextChat的WebDAV云同步，我感觉我又行了》\"), \"和\", React.createElement(_components.a, {\n    href: \"https://linux.do/t/topic/328163\"\n  }, \"《【拉跨，但能用了】NextChat 的 WebDAV 云同步。。》\"), \"这两篇帖子。\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/runner/work/homepage/homepage/blog/posts/private-webdav.mdx\";\nimport {Fancybox} from \"@fancyapps/ui\";\nimport {MDXProvider} from \"@mdx-js/react\";\nimport dayjs from \"dayjs\";\nimport {Link} from \"gatsby\";\nimport * as React from \"react\";\nimport Card from \"../components/card\";\nimport Category from \"../components/category\";\nimport SEO from \"../components/seo\";\nimport Tag from \"../components/tag\";\nconst FancyBoxImage = props => {\n  const {alt = \"The author is too lazy to give an alt\", src, ...restProps} = props;\n  return React.createElement(\"a\", {\n    href: src,\n    \"data-fancybox\": \"gallery\",\n    \"data-caption\": alt\n  }, React.createElement(\"img\", Object.assign({\n    src: src,\n    alt: alt\n  }, restProps)));\n};\nconst ALink = _ref => {\n  let {href = \"\", children} = _ref;\n  const isExternalHref = !(href !== null && href !== void 0 && href.startsWith(\"#\"));\n  const parsedHref = isExternalHref ? href : `#${encodeURIComponent(href.slice(1))}`;\n  return React.createElement(\"a\", {\n    href: parsedHref,\n    target: isExternalHref ? \"_blank\" : undefined,\n    rel: \"noreferrer\"\n  }, children);\n};\nconst components = {\n  a: ALink,\n  img: FancyBoxImage,\n  Card,\n  Link\n};\nconst PostTemplate = _ref2 => {\n  let {children, data} = _ref2;\n  const {mdx: {fields: {isDraft}, frontmatter: {title, date: dateString, updated: updatedDateString, categories, tags, timeliness}}} = data;\n  const articleRef = React.useRef(null);\n  const date = dayjs(dateString);\n  const updatedDate = updatedDateString ? dayjs(updatedDateString) : date;\n  const today = dayjs();\n  const diffDays = today.diff(updatedDate, \"days\");\n  React.useEffect(() => {\n    var _articleRef$current;\n    const optimizedImageLinks = (_articleRef$current = articleRef.current) === null || _articleRef$current === void 0 ? void 0 : _articleRef$current.querySelectorAll(\"a.gatsby-resp-image-link\");\n    optimizedImageLinks === null || optimizedImageLinks === void 0 ? void 0 : optimizedImageLinks.forEach(link => {\n      const image = link.children.item(1);\n      link.setAttribute(\"data-fancybox\", \"gallery\");\n      link.setAttribute(\"data-caption\", image.alt);\n    });\n    Fancybox.bind(\"[data-fancybox]\");\n    return () => Fancybox.unbind(\"[data-fancybox]\");\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"mx-auto flex max-w-xl flex-col gap-y-12\"\n  }, React.createElement(\"div\", {\n    className: \"flex flex-col gap-4\"\n  }, (categories === null || categories === void 0 ? void 0 : categories.length) && React.createElement(Category, {\n    name: categories[0],\n    className: \"item-selectable\"\n  }), React.createElement(\"h1\", {\n    className: \"text-3xl font-bold\"\n  }, title), React.createElement(\"div\", {\n    className: \"item-secondary flex flex-col gap-2 lg:flex-row\"\n  }, dateString && React.createElement(\"span\", {\n    title: `首次发布于：${date.toString()}\\n最后更新于：${updatedDate.toString()}`\n  }, date.format(\"MM 月 DD 日 YYYY 年\")), (tags === null || tags === void 0 ? void 0 : tags.length) && React.createElement(\"div\", {\n    className: \"flex flex-1 flex-wrap gap-2 lg:before:content-['\\u2022']\"\n  }, tags.map(tag => React.createElement(Tag, {\n    key: tag,\n    name: tag,\n    className: \"item-secondary item-selectable\"\n  }))))), React.createElement(\"article\", {\n    ref: articleRef,\n    className: \"heti post-entry\"\n  }, isDraft && React.createElement(\"blockquote\", {\n    className: \"!border-red-400\"\n  }, \"\\u8FD9\\u662F\\u4E00\\u7BC7\", React.createElement(\"strong\", null, \"\\u672A\\u6B63\\u5F0F\\u53D1\\u5E03\"), \"\\u7684\\u535A\\u5BA2\\uFF0C\\u5185\\u5BB9\\u53EF\\u80FD\\u5C1A\\u672A\\u64B0\\u5199\\u5B8C\\u5168\\u6216\\u5B58\\u5728\\u4E00\\u4E9B\\u7EB0\\u6F0F\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u4ED4\\u7EC6\\u8BC4\\u4F30\\u4FE1\\u606F\\u7684\\u6709\\u6548\\u6027\\u3002\"), timeliness !== false && diffDays > 365 && React.createElement(\"blockquote\", {\n    className: \"!border-orange-400\"\n  }, \"\\u8FD9\\u662F\\u4E00\\u7BC7\", React.createElement(\"strong\", null, \"\\u6700\\u540E\\u66F4\\u65B0\\u4E8E \", diffDays, \" \\u5929\\u524D\"), \"\\u7684\\u535A\\u5BA2\\uFF0C\\u5185\\u5BB9\\u53EF\\u80FD\\u968F\\u7740\\u65F6\\u95F4\\u7684\\u63A8\\u79FB\\u800C\\u53D8\\u5F97\\u4E0D\\u518D\\u9002\\u7528\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u4ED4\\u7EC6\\u8BC4\\u4F30\\u4FE1\\u606F\\u7684\\u6709\\u6548\\u6027\\u3002\"), React.createElement(MDXProvider, {\n    components: components\n  }, children)));\n};\nconst query = \"2264136072\";\nexport const Head = _ref3 => {\n  let {data} = _ref3;\n  return React.createElement(SEO, {\n    title: String(data.mdx.frontmatter.title)\n  });\n};\nPostTemplate\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(PostTemplate, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","p","h2","blockquote","a","span","h3","_provideComponents","components","React","href","dangerouslySetInnerHTML","__html","wrapper","MDXLayout","_ref","children","isExternalHref","startsWith","parsedHref","encodeURIComponent","slice","target","undefined","rel","img","alt","src","restProps","Card","Link","PostTemplate","_ref2","data","mdx","fields","isDraft","frontmatter","title","date","dateString","updated","updatedDateString","categories","tags","timeliness","articleRef","dayjs","updatedDate","diffDays","diff","_articleRef$current","optimizedImageLinks","current","querySelectorAll","forEach","link","image","item","setAttribute","Fancybox","bind","unbind","className","length","Category","name","toString","format","map","tag","Tag","key","ref","MDXProvider","Head","_ref3","SEO","String","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}