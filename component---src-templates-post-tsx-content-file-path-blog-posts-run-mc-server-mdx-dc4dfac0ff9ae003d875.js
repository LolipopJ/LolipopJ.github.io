"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[6655],{8349:function(e,a,n){n.r(a),n.d(a,{Head:function(){return h},default:function(){return A}});var t=n(8453),l=n(6540);function c(e){const a=Object.assign({p:"p",a:"a",h2:"h2",h3:"h3",span:"span",strong:"strong",blockquote:"blockquote",ul:"ul",li:"li"},(0,t.R)(),e.components),{Link:n}=a;return n||function(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Link",!0),l.createElement(l.Fragment,null,l.createElement(a.p,null,"笔者在今年五月份部署了一个与朋友同玩共乐的 Minecraft 服务器，稳定运行至今。忽然想记录为一篇博客，分享分享折腾的经历。"),"\n",l.createElement(a.p,null,"笔者结合个人喜好（最新版本，模组优先）和大众推荐（Fabric 更适合新版本 Minecraft），决定基于 Fabric 搭建一个可以添加模组的 Minecraft 服务器。此类服务器简称为模组服务器，还有基于 ",l.createElement(a.a,{href:"https://github.com/PaperMC/Paper"},"Paper"),", ",l.createElement(a.a,{href:"https://www.spigotmc.org"},"Spigot")," 等搭建的插件服务器，可以综合自身需求，选择最合适的搭建方案。"),"\n",l.createElement(a.h2,null,"部署 Minecraft 服务器"),"\n",l.createElement(a.h3,null,"安装 Java 环境"),"\n",l.createElement(a.p,null,"Java 版的 Minecraft 服务器依赖于 Java 启动，因此在一切的最开始，需要在服务器上安装 Java 环境。"),"\n",l.createElement(a.p,null,"Java 版的 Minecraft 自 1.18 版本开始需要 Java >= 17。参考网上俯拾皆是的教程，通过包管理工具或前往 ",l.createElement(a.a,{href:"https://jdk.java.net/"},"Oracle OpenJDK")," 页面下载并安装合适版本的 Java。"),"\n",l.createElement(a.p,null,"输入 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">java -version</code>'}})," 命令查看是否安装成功，在笔者的服务器上打印的结果如下："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">java</span> <span class="token parameter variable">-version</span>\nopenjdk version <span class="token string">"21.0.2"</span> <span class="token number">2024</span>-01-16\nOpenJDK Runtime Environment <span class="token punctuation">(</span>build <span class="token number">21.0</span>.2+13-alpine-r0<span class="token punctuation">)</span>\nOpenJDK <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">21.0</span>.2+13-alpine-r0, mixed mode, sharing<span class="token punctuation">)</span></code></pre></div>'}}),"\n",l.createElement(a.h3,null,"下载 Minecraft 服务器启动器"),"\n",l.createElement(a.p,null,"前往 Fabric 提供的",l.createElement(a.a,{href:"https://fabricmc.net/use/server"},"下载 Minecraft 服务器启动器页面"),"，选择欲部署的 Minecraft 服务器版本，Fabric 加载器和 Fabric 模组版本："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/68928009486fdd91d4422bec99fcd223/e5ca1/download-fabric-mc-server-launcher.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 78.84615384615384%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACOUlEQVR42p1Uy47TQBD0BYndxI7jtz1+x05ikt1EQhyQkODCiRPSInHhkC/gJ/gCJJA48AMguPCBRfUM3l0ikgOHUs9kPDXV3dWxqqbDi+fP4Mclpm6EC9vHZBbi0gn+gj2P9XmQlEjyVscoqxGlFUJC9jM/hZWVC2z3T9ANO4PVNRZrwQ7VYkC7vELdPYJNMiF1vARukOnLx5Bzy/FSuGEOLyqInErvoiDOG5TtWquxSTYqHeN9aEK9YYqS5tQ10awjrWQeKgRMSQhHZXLxFKxzhzbVq2aAqleIiw5eXPH35D8Jqfby4QPMnCl8b4656+CC+8lkcpb0H4T8eObDjjqUrz5iePMFw81n9K8/YXnzFfHT95g63klS635Rx/pNhFDt0b39ht3hJ/aHH9i8+47t4RfUyw+wfXVaofhH7FESEsUidb9FOzyGKlt6rECiGoKN4TqlzVS70V7Myh5psaATWu0IEWXJoqAt8mbJCzUNakwaxDk7mmnfibVGmPpGpxUKYUNFTW9ejVXLyFf5slHQUVWHhHtBVvVUXesamsfuoAnFZzFTEkg6QiDEclnS0Y8IskavZcxOTYqQaoVVZ+oniuRALowYP3YDdWt0gUzTPMxv93JmFPJAMY3sD/K6ZzNomXaFolnp+hbNmuZess4rKjclEYwZjKXSCqUJ4wWZiKjcICw4u+UAL6k5HZxpNkmiPH5ct2NYEWvXLrca0pyiu0ax2EB1e/jlFdLKKJM/CEl9eqbDkvJvVAigYVNEdwAAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="下载 Minecraft 服务器启动器"\n        title=""\n        src="/static/68928009486fdd91d4422bec99fcd223/39c09/download-fabric-mc-server-launcher.png"\n        srcset="/static/68928009486fdd91d4422bec99fcd223/680fe/download-fabric-mc-server-launcher.png 156w,\n/static/68928009486fdd91d4422bec99fcd223/17474/download-fabric-mc-server-launcher.png 312w,\n/static/68928009486fdd91d4422bec99fcd223/39c09/download-fabric-mc-server-launcher.png 624w,\n/static/68928009486fdd91d4422bec99fcd223/6d2da/download-fabric-mc-server-launcher.png 936w,\n/static/68928009486fdd91d4422bec99fcd223/5a791/download-fabric-mc-server-launcher.png 1248w,\n/static/68928009486fdd91d4422bec99fcd223/e5ca1/download-fabric-mc-server-launcher.png 1332w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(a.p,null,"在服务器上通过 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">curl</code>'}})," 命令下载。如上图所示，可以执行命令："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-OJ</span> https://meta.fabricmc.net/v2/versions/loader/1.21/0.15.11/1.0.1/server/jar</code></pre></div>'}}),"\n",l.createElement(a.p,null,"得到 Java 可执行的归档文件 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">fabric-server-mc.1.21-loader.0.15.11-launcher.1.0.1.jar</code>'}}),"。"),"\n",l.createElement(a.h3,null,"启动服务器"),"\n",l.createElement(a.p,null,"新建一个存放 Minecraft 服务器文件的目录，移动到此目录，通过 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">java</code>'}})," 命令执行刚刚得到的文件："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">java</span> <span class="token parameter variable">-Xmx2G</span> <span class="token parameter variable">-jar</span> fabric-server-mc.1.21-loader.0.15.11-launcher.1.0.1.jar nogui</code></pre></div>'}}),"\n",l.createElement(a.p,null,"将自动在",l.createElement(a.strong,null,"当前所在的目录"),"生成必要的数据文件。首次启动将会以失败告终，此时需要手动编辑目录下的 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">eula.txt</code>'}}),"，同意 Minecraft 的最终用户许可协议："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="txt"><pre class="language-txt"><code class="language-txt">eula=true</code></pre></div>'}}),"\n",l.createElement(a.p,null,"再次启动就一切 OK 了。"),"\n",l.createElement(a.blockquote,null,"\n",l.createElement(a.p,null,"Minecraft 服务器默认监听 25565 端口，请确保防火墙放行了该端口的 TCP 类型请求。"),"\n"),"\n",l.createElement(a.p,null,"测试一切正常运行，可以通过服务器公网 IP 连接到服务器后，使用 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">screen</code>'}})," 命令管理 Minecraft 服务器进程："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">screen</span> <span class="token parameter variable">-dmS</span> mc-server <span class="token function">java</span> <span class="token parameter variable">-Xmx2G</span> <span class="token parameter variable">-jar</span> fabric-server-mc.1.21-loader.0.15.11-launcher.1.0.1.jar nogui</code></pre></div>'}}),"\n",l.createElement(a.p,null,"这样，我们就建立了一个名为 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mc-server</code>'}})," 的 Screen 终端，需要查看运行日志时使用 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">screen -r mc-server</code>'}})," 进入。"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/371c42fb54f4c0bca1c37c47cc2d1805/74e37/server-log.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 62.17948717948718%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACAUlEQVR42n2SXW8SQRSGh+8EoQaCZaHgsixdWJb9xMSmNtrG2vg7+yu88VbbxKStfCyljZp4ZQsk9Q+8njMFi8Vw8WRmZ+e88553Rvy8GuF6PMJ4fI3BaIxROMT3H98wubnFDfHrdobZdIbpGiaTKe7ufiMcXUIcf/yCD58vcH5+hrOLHoZhKOkPhvja66PXH2IwDO8Jw4f5Erz3cnyFTyenEM299+js7OPw6AgHh+8ke6/3Ybs+mqYFTW+gqmqoPK9hq6rSuEpVraFYKuPNwVuIl90ApmHAdRxYlgXTNGFsb0Or1VDXNJTLZSjFIp5ubCCVSiGZTEoSicTfOa8LIdCxbQjX89EiEc/34fsBPM+TPyqVLaTTaUQiEUk0GpVEiFgs9g/xeFwK2mRKcHGz2YRDH67rwu506IAWDFrTdR2KoiCXyyGTzVBhTDpjYRZYwAfy2G5bEA6JcDE788hthwT5AEuOBlRVRaPRQL1el+3n83lks1npPjoXWgi2Wi0ItmlQhuyQ5y4Ja5Td5uYzKszIlhaOIksCyy4fBE0Izo4vgwW5fW6bHaXmwXPgj1t8zIqgzUJzQT/wZQSc13LBOhYH8uUKdsSZsWibnHJ2ekNHJvOENq93tuqQMgx2unBsB90XXQRBQE+Hng+NHANfQqlU+i+Kcg/PeV+hUMDu7iv8AbD+jbfiu3+rAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="查看 Minecraft 服务端日志"\n        title=""\n        src="/static/371c42fb54f4c0bca1c37c47cc2d1805/39c09/server-log.png"\n        srcset="/static/371c42fb54f4c0bca1c37c47cc2d1805/680fe/server-log.png 156w,\n/static/371c42fb54f4c0bca1c37c47cc2d1805/17474/server-log.png 312w,\n/static/371c42fb54f4c0bca1c37c47cc2d1805/39c09/server-log.png 624w,\n/static/371c42fb54f4c0bca1c37c47cc2d1805/6d2da/server-log.png 936w,\n/static/371c42fb54f4c0bca1c37c47cc2d1805/5a791/server-log.png 1248w,\n/static/371c42fb54f4c0bca1c37c47cc2d1805/74e37/server-log.png 1732w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(a.p,null,"是的，这就是全部。接下来就是发挥创造力的环节了，正如我们在 Minecraft 中一直做的那样。"),"\n",l.createElement(a.h2,null,"让朋友们连接到 Minecraft 服务器"),"\n",l.createElement(a.p,null,"笔者推荐使用开源作者",l.createElement(a.a,{href:"https://github.com/LTCatt"},"龙腾猫跃"),"开发的 ",l.createElement(a.a,{href:"https://github.com/Hex-Dragon/PCL2"},"Plain Craft Launcher"),"（",l.createElement(a.a,{href:"https://afdian.net/p/0164034c016c11ebafcb52540025c377"},"爱发电"),"）来下载与启动 Minecraft 客户端。"),"\n",l.createElement(a.p,null,"下载时需选择与服务端相同的 Fabric Loader 和 Fabric API 版本："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/1d15811d67890044c9b8da0e7c44cfc4/38a65/download-mc-client.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 69.87179487179486%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC+UlEQVR42k2TS2/UVhzF/f26RSxYIGBSNhWtWPA9ukERLaBJIbSk6kcoJDwrRFBIBJOxx4/xe8bP67edTE7PnQHE4sj32v/7u+f/sDJ+6ePa/VOMHqq49kDDaEfH9bGJW3/ZlIt/PgjsvhP4+e8Av+z5uPXUxe09B6Oxha0dA1tjHTfHM1z9/RRP3oRQ/nzLwF0Nd/ZM/PTYxJXf+PGhhR8fObj5xMf91wJ3X2QY7foYPXZwfWeOG3+YuHRPxeV7E1za/oTL28f44ddDbD8zocRiQCTOUPdAN5zDDFucujXKZkDbDYjLAXlzhu7sHK0UY5qBe6rqB55jHNdxVUNfxlAWaQ11HmFqBgjSFlOngGV78KMcQSKQVx0BFzy8+qa6v0DZXsCOVzi0zjHxVpjHPT57BBZlhUzUdHOGZd5B8yqEUYas7BEXLWLRIKuGDWStL+BuhaJdIa1XEN0FFsVAcAIlSnJohouibJHw5ZGeQbUz6EENa9lhYidQvQLzZIBFF2bUUS2MqIGxrKkKxqLECePWQFHUcPwIomiQiB4negLDTeAwKEg7liOE4acIsx5+1iGgPJbGSxq4Cc/GFZyoYN1jTIMUiky1ZSqyIRFT/qjF0B0CeftGDRtVQPdyAlq4aU91cLi244a1YwzBaigIzKA0TY+yHtY1lMBjNYLtZwgY7DPYDnJY3Pt0JZsW0mGY92un8p2fMo6N1RinhjmB7VfgxuHRdAnVXBAi4Mo6eSk0O2ZaTDGWqVKpTHvjVLp2ePHUZy+YyXdAOsxaHGtLmKyHzRTWDvm0CPW43jjaOJUON3XduNQJm7Hu31JuJJAfjiYhTo0Q80DACUs65c12BEvuI9mEZq11Pb+6JVT/0nGlJrCQc9ZyDgn89z8b++89PD/0sf8hxMHRAgfHEV6cJHj5ifqc4dVE4NW0wGutwhu9wVujxQHXU46a0snfR/5mfAr+FaqVQJunmNk5Zg7lCsw4h7pfUpy5gArpZsHuL9u15HzqnM+l6PE/jvX9USPLdO4AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="通过 PCL 下载 Minecraft 客户端"\n        title=""\n        src="/static/1d15811d67890044c9b8da0e7c44cfc4/39c09/download-mc-client.png"\n        srcset="/static/1d15811d67890044c9b8da0e7c44cfc4/680fe/download-mc-client.png 156w,\n/static/1d15811d67890044c9b8da0e7c44cfc4/17474/download-mc-client.png 312w,\n/static/1d15811d67890044c9b8da0e7c44cfc4/39c09/download-mc-client.png 624w,\n/static/1d15811d67890044c9b8da0e7c44cfc4/6d2da/download-mc-client.png 936w,\n/static/1d15811d67890044c9b8da0e7c44cfc4/38a65/download-mc-client.png 1075w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(a.p,null,"使用正版账号或离线账号启动客户端："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/a1c7e4a4c958fc6ec3e208ff73996c65/38a65/start-mc-client.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 69.87179487179486%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADBElEQVR42lWTWW8bVRiG/fe4hd67LUSAQC38E67KXiVR0zbtBRJCQhXdqB1vqQKxvIyXmbEdezxeZ+xZbY/98M04Re3FJ52b85x3+U7qMGNw85c6Xx63+Oywxc37KgfHOqfnc47yc7541OfrJ0PuPjX55qnBndMB3z654vZRh4MjnYNDlc8P26R/VniYM0k9yg+5c6KR/lUnfb/DVyc97p72+f3S4aeMRfrY4NaDIZ+eGNx+cEVaQLeONT75scGNH+p8fK/CjXuXfPTdW75/qZPabrdsd/C4FPGssmW9AX8Nu92OznRFbbimboZUDI9y3+HfK5uL7ox/ehPedkxKukFB6/OmqdEwR6Q8f4XjR/irCDeIz2ucYEuw3tIYBuTaPqVOQEH3yakO2bbNm9acV40JL5QRz2sGf9X6/FHWuewJ0A/XeMFGYBGRqFpHWwFGe6Dhk2+7nHd8zruhgH1R4wjYJtOe8XdzImCTl4rBn5Uelf5kD3QFGIQ7nmcyXFSqiNhEcWPgkW85lDRPrAUCDinqHjltydl70NeNEc+qfSqD6YcKsxe/UW7mRR0Eqw1K3yXXXFJS3T208yE0q1pifyb5TRLrtcFMgEEMjFg4AePpMpk4x1AsK1diT1lQbDsUE6hYj6HdOFN5TFtIphYZgb5QTGqGtQe6/iZR6XgrOa8StcE18KxuUWy9B9X30GLnGqouxL6VlKQM7RgYQ/a2/VAmsb8RhRFKT7KqzSk0bApiPYaWVO9/aFxSPi5JlL5uzgS4JBUrWrhrljK2u2HhxUr3MdS68np1RkGxBCoqW9dQ7RoqzRfj5nVHsrRkDx1SCycUiOyg7GKrv6Q7cvHCKNnNqm5zVplSqM8TaLG5h74r6V2e511fbC9pyd3UUsowRhZadyiF2JhjC7VrMLWWlGUtXl2MyJQnZCozstU52bo8IkWdNcVqKy4mVhiIQlc+gkcqXMnPEKhlO2JT8vT2Z1+iGIwdmj2btihvDxxUQ2boynhopo82CtDGAfpkhToOGS9W/AdYLetWSdPwLAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="通过 PCL 启动 Minecraft 客户端"\n        title=""\n        src="/static/a1c7e4a4c958fc6ec3e208ff73996c65/39c09/start-mc-client.png"\n        srcset="/static/a1c7e4a4c958fc6ec3e208ff73996c65/680fe/start-mc-client.png 156w,\n/static/a1c7e4a4c958fc6ec3e208ff73996c65/17474/start-mc-client.png 312w,\n/static/a1c7e4a4c958fc6ec3e208ff73996c65/39c09/start-mc-client.png 624w,\n/static/a1c7e4a4c958fc6ec3e208ff73996c65/6d2da/start-mc-client.png 936w,\n/static/a1c7e4a4c958fc6ec3e208ff73996c65/38a65/start-mc-client.png 1075w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(a.h2,null,"添加与管理模组"),"\n",l.createElement(a.p,null,"我们可以向 Minecraft 服务器添加各种各样的 Fabric 模组。"),"\n",l.createElement(a.p,null,"模组存放于服务器根目录的 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mods/</code>'}})," 目录下，服务器初始化后会默认包含一个 Fabric 依赖的必要模组 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mods/fabric-api-1.0.1+1.21.jar</code>'}}),"。我们也只需要像这样，把 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.jar</code>'}})," 格式的模组文件放置到 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mods/</code>'}})," 目录下，就算成功添加模组了。"),"\n",l.createElement(a.p,null,"您可以在 ",l.createElement(a.a,{href:"https://modrinth.com/mods"},"Modrinth")," 和 ",l.createElement(a.a,{href:"https://www.curseforge.com/minecraft/search?class=mc-mods"},"CurseForge")," 探索和下载想要使用的模组。"),"\n",l.createElement(a.p,null,"下面举几个笔者使用到的模组的例子。"),"\n",l.createElement(a.h3,null,"AutoModpack / 自动分发客户端模组"),"\n",l.createElement(a.p,null,"按模组的使用环境，可以划分为以下四类："),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,"客户端模组：安装在客户端。服务端安装无效。"),"\n",l.createElement(a.li,null,"服务端模组：安装在服务端。客户端安装无效。"),"\n",l.createElement(a.li,null,"客户端或服务端模组：通常安装在服务端，在客户端同时安装可以增强体验。"),"\n",l.createElement(a.li,null,"客户端和服务端模组：在客户端和服务端同时安装才有效。"),"\n"),"\n",l.createElement(a.p,null,"为了跟朋友们都有相似的游戏体验（也顺便照顾不大懂模组安装的朋友），考虑去实现服务端与客户端的模组同步能力。笔者找到了模组 ",l.createElement(a.a,{href:"https://modrinth.com/mod/automodpack"},"AutoModpack")," 来实现此功能。"),"\n",l.createElement(a.p,null,"AutoModpack 是一个",l.createElement(a.strong,null,"客户端和服务端模组"),"，安装了此模组的客户端会自动同步服务端上托管的模组到本地，保证不同客户端体验的一致性。因此对于一起玩的朋友，只需要让他们在客户端的 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mods/</code>'}})," 目录下放入此模组，并在首次进入服务器时确认同步客户端模组就可以了。"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/b3e199d110718b49ee3157436375d45a/ad12c/sync-client-mods.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 60.89743589743589%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0klEQVR42oVSy27aUBBl26QFx2AbiI3jBwaMMLSmQKRuumuakgdF+ceqipRIiZJsiPJS+1enM9fjmkaJujg6vuO5Z87M3NLP0x+4vLzG1dUNVqs7PD39xuPjr//iYQ2r23vFZ+cXKHmmBtcowzXLaBnvFNwcZrmAUXCel0FitbcImjWU/IYOr74F/wXkIjtmBTtWRZ09S4Pf2MqQ59K3V6+g7Vi5oCbgBGK6HDR17I56mCZdTIddvI8DfBoPkIQtVYTz14tzobZjiqAlgsxSnQX7/jbSfohJ0lE8jFxEtrHmqjDCJkSw+MFtRY6Bj4MICV1O2i1y2MGMnH7eTTEm0dhrIiW3o46H3Iz/mqAnlQNKZIdhsyrVNTVHFSf4gkDmn+eE9jNBtQiaj61vwK5uYLu6CYdR21QLsXU56wLK4a5YkLm9LuhLyz1qaTrq09x6mA06mIxijAddxIGDyTAm9DD+0FU8pTO3ye2qpdhmsWUW5reX0uXviyMs5vs4+foFi6MDHOzvYZYmWBzOcUyYL/eIv2F5fIi+bJ0NZTMUu6pKXVOiqmVpm9kh/BP/izc02+wJMSvBkB5jSE+BB8rMweeImO2MC1iIWhbFDblvIHIb+AMhIWn4nIsjDAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="同步客户端模组"\n        title=""\n        src="/static/b3e199d110718b49ee3157436375d45a/39c09/sync-client-mods.png"\n        srcset="/static/b3e199d110718b49ee3157436375d45a/680fe/sync-client-mods.png 156w,\n/static/b3e199d110718b49ee3157436375d45a/17474/sync-client-mods.png 312w,\n/static/b3e199d110718b49ee3157436375d45a/39c09/sync-client-mods.png 624w,\n/static/b3e199d110718b49ee3157436375d45a/ad12c/sync-client-mods.png 856w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(a.p,null,"对于不应当被同步到客户端去的模组，AutoModpack 也提供了简单的配置方式：以 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">server-</code>'}})," 开头重命名文件。例如对于只需要安装在服务端的模组 ",l.createElement(a.a,{href:"https://modrinth.com/plugin/dynmap"},"Dynmap"),"，将模组文件 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mods/Dynmap-3.7-beta-6-fabric-1.21.jar</code>'}})," 重命名为 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mods/server-Dynmap-3.7-beta-6-fabric-1.21.jar</code>'}})," 即可。"),"\n",l.createElement(a.h3,null,"Dynmap / 服务器地图"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/bc03e83410d86980ba54f8f5ba0bb4e3/c2d13/server-map-202407051718.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 48.07692307692307%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAClElEQVR42h2S2VMaaRTFuyo1WyWlkRgRGgeF0HSzL4kBhKZpgg1tAyIiixAByTaj4pJZMs6kat7yX//yJQ/34d5b55y69xzpw6jJp9sLkkYdORpFKZSJGu/JHtyxJmf54adHpHbTPH66Ss4MYTQy5CoK8ZqXiOElpLsJlJ/gi7vwP3Mj6VaYy0mH4WuDSMFDJLdCvJonZ1uYPQPzRKcxiNIYJrHHacrHYV60gmhVD0rJjWp42DFcyMnHBFIbSMruGvnGlgBoOMMYpZqC00wwmb5k/s5iMDC5/ThisTikdZJgv54mb8XIVkIkS9uohQ3iRZmw4caXWUV6ltlAfbmO2c1Taj0XJB0+/X3Pv//ccHU552J5wX+ff+f+zw9cvj/n7vqG2WxOuZFD1TdJ7PmIl2SC5jrhvDi5UNMo7UdIVHLkWn0OT03ezmwGwxqjic1sbjM+22f+W5vr6yn/f77nrz9u6J7mUWtutotP8KdcrPp+RvavITnjDEVbodIMMFrmubnVefM2Rf+8zULspqcR3l31xfw1y7s6y48TenOTdE0ma+8QrXjxxdZYefoLLvdDpG+/y5Q3sQ5DdBcKg2UY+3Kb4fI5E2FK3WnTGffpnPc4EQLtszTmeRyzH6PshNEEVnu1SUyXieVlpANhRKMfxTxSaI9TtGYq1ixIfZLFGtUpd8/QO1dUjr9QdJY4/Tr70xi5Q4XdZuh7bMK6h0w9QLS2hdQZJjgQhM15gvYsydEiQ7UXZtcUpH2V1lSjdqpidqp05kcUnCSpV7+SdnZIWH6iZZHF4gaatUlgbx2p1AiiC6Xv5YSoHoh/CvXGOIY9ieNMElg9Dasb5IVwMb7nQTO3iFT8qBVxru4VvRd/2sWPjx7wFf8eXM7LeNH/AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="服务器地图，摄制于 2024.07.05 17:18"\n        title=""\n        src="/static/bc03e83410d86980ba54f8f5ba0bb4e3/39c09/server-map-202407051718.png"\n        srcset="/static/bc03e83410d86980ba54f8f5ba0bb4e3/680fe/server-map-202407051718.png 156w,\n/static/bc03e83410d86980ba54f8f5ba0bb4e3/17474/server-map-202407051718.png 312w,\n/static/bc03e83410d86980ba54f8f5ba0bb4e3/39c09/server-map-202407051718.png 624w,\n/static/bc03e83410d86980ba54f8f5ba0bb4e3/6d2da/server-map-202407051718.png 936w,\n/static/bc03e83410d86980ba54f8f5ba0bb4e3/5a791/server-map-202407051718.png 1248w,\n/static/bc03e83410d86980ba54f8f5ba0bb4e3/c2d13/server-map-202407051718.png 2560w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(a.p,null,"想要用浏览器在线查看 Minecraft 服务器地图，查看当前在线玩家的游玩情况，直接向在线的玩家发送消息？这一切仅需要一个服务端模组 ",l.createElement(a.a,{href:"https://modrinth.com/plugin/dynmap"},"Dynmap")," 就可以实现！"),"\n",l.createElement(a.p,null,"成功启用 Dynmap 后，Web 服务将默认监听本机的 8123 端口，请确保防火墙放行了该端口的 TCP 类型请求。"),"\n",l.createElement(a.p,null,"起始时通过浏览器查看会是一片黑暗，伴随玩家在世界里的探索，Dynmap 会逐渐绘制成形完整的地图。"),"\n",l.createElement(a.h3,null,"Fabric Tailor / 离线服务器自定义换肤"),"\n",l.createElement(a.p,null,"对于离线服务器，哪怕以正版用户的身份登录，也无法获取到自己上传的皮肤；由于技术问题，部分 Minecraft 启动器也无法修改高版本客户端的玩家皮肤。大家登入服务器发现彼此都是 N-word，实在不能带来愉快的视觉体验。"),"\n",l.createElement(a.p,null,"服务端模组 ",l.createElement(a.a,{href:"https://modrinth.com/mod/fabrictailor"},"Fabric Tailor")," 可以解决这个问题，它向游戏添加了 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/skin</code>'}})," 命令，玩家可以调用此命令实现自定义换肤。例如："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># 设置为指定 URL 链接对应的皮肤</span>\n/skin <span class="token builtin class-name">set</span> URL classic https://s.namemc.com/i/b80558ff4b834410.png <span class="token comment"># 经典身材</span>\n/skin <span class="token builtin class-name">set</span> URL slim https://s.namemc.com/i/b80558ff4b834410.png <span class="token comment"># 纤细身材</span>\n\n<span class="token comment"># 设置为指定正版用户上传的皮肤</span>\n/skin <span class="token builtin class-name">set</span> player Lolipop0703</code></pre></div>'}}),"\n",l.createElement(a.h2,null,"服务器运维"),"\n",l.createElement(a.h3,null,"配置服务器"),"\n",l.createElement(a.p,null,"参考",l.createElement(a.a,{href:"https://minecraft.fandom.com/wiki/Server.properties"},"此文档"),"按需修改服务器根目录下的 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">server.properties</code>'}})," 配置文件。"),"\n",l.createElement(a.p,null,"其中值得一提的有："),"\n",l.createElement(a.ul,null,"\n",l.createElement(a.li,null,l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">motd</code>'}}),"：服务器描述信息，在服务器列表展示。可以通过这个",l.createElement(a.a,{href:"https://minecraft.tools/en/motd.php?motd"},"小工具"),"生成与预览。"),"\n",l.createElement(a.li,null,l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">online-mode</code>'}}),"：如果你有并没有购买正版 Minecraft 的朋友，可设置为 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">false</code>'}})," 来允许他们进入服务器。"),"\n",l.createElement(a.li,null,l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">spawn-protection</code>'}}),"：出生点方块保护，默认值为 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">16</code>'}}),"，保护以出生点为中心的 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">2 * 16 + 1 = 33</code>'}})," 块方格。可以设置小一点，避免朋友们因破坏不了方块导致的困惑。当然，如果没有设置管理员，这个选项会自动被禁用。"),"\n"),"\n",l.createElement(a.p,null,"此外，将自定义的服务器图标保存到服务器根目录，命名为 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">server-icon.png</code>'}}),"，即可在服务器列表展示。"),"\n",l.createElement(a.h3,null,"服务器状态卡片"),"\n",l.createElement("img",{alt:"Minecraft 服务器状态",src:"https://mcapi.us/server/image?ip=mc.towind.fun"}),"\n",l.createElement(a.p,null,"一些开放服务可以用来查询 Minecraft 服务器状态，并生成类似上面这样的卡片。想要生成同样的卡片？访问 ",l.createElement(a.a,{href:"https://mcapi.us"},"MCApi.us")," 了解更多。"),"\n",l.createElement(a.h3,null,"通过域名连接到服务器"),"\n",l.createElement(a.p,null,"假设您已拥有一个域名并通过 DNS 服务商解析到了服务器，那么连接服务器时不再需要填写服务器的公网 IP 地址，使用域名就行。"),"\n",l.createElement(a.p,null,"笔者的服务器就可以通过域名 ",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mc.towind.fun</code>'}})," 连接，Minecraft 客户端将查询到域名背后的 IP 地址，访问其 25565 端口。"),"\n",l.createElement(a.p,null,"假设您还安装和配置好了 Nginx 服务，我们可以将服务器地图进行转发。例如："),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="conf"><pre class="language-conf"><code class="language-conf">server {\n  listen 443 ssl;\n  ssl_certificate /path/to/fullchain.pem;\n  ssl_certificate_key /path/to/privkey.pem;\n\n  server_name mc.towind.fun;\n\n  location /map/ {\n    proxy_pass http://127.0.0.1:8123/;\n  }\n}</code></pre></div>'}}),"\n",l.createElement(a.p,null,"现在，我们不再需要放行 8123 端口，服务器地图通过 Nginx 监听的 443 端口转发，访问链接 ",l.createElement(a.a,{href:"https://mc.towind.fun/map"},"https://mc.towind.fun/map")," 即可。"),"\n",l.createElement(a.h3,null,"服务器备份"),"\n",l.createElement(a.p,null,"时常 Minecraft 备份服务器数据并上传到云盘是一个非常好的习惯，笔者在",l.createElement(n,{to:"/posts/backup-mc-server"},"另一篇博客"),"里实现了数据的定时备份与上传，供君参考。"))}var s=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,t.R)(),e.components);return a?l.createElement(a,e,l.createElement(c,e)):c(e)};var r=n(197),i=n(4353),o=n.n(i),m=n(4810),d=n(6947),p=n(4017),g=n(1042),u=n(1038);const b={a:e=>{let{href:a="",children:n}=e;const t=!(null!=a&&a.startsWith("#")),c=t?a:`#${encodeURIComponent(a.slice(1))}`;return l.createElement("a",{href:c,target:t?"_blank":void 0,rel:"noreferrer"},n)},img:e=>{const{alt:a="The author is too lazy to give an alt",src:n,...t}=e;return l.createElement("a",{href:n,"data-fancybox":"gallery","data-caption":a},l.createElement("img",Object.assign({src:n,alt:a},t)))},Card:d.A,Link:m.N_},f=e=>{let{children:a,data:n}=e;const{mdx:{frontmatter:{title:c,date:s,updated:i,categories:m,tags:d,timeliness:g=!0}}}=n,f=l.useRef(null),h=o()(s),A=i?o()(i):h,E=o()().diff(A,"days");return l.useEffect((()=>{var e;const a=null===(e=f.current)||void 0===e?void 0:e.querySelectorAll("a.gatsby-resp-image-link");return null==a||a.forEach((e=>{const a=e.children.item(1);e.setAttribute("data-fancybox","gallery"),e.setAttribute("data-caption",a.alt)})),r.lX.bind("[data-fancybox]"),()=>r.lX.unbind("[data-fancybox]")}),[]),l.createElement("div",{className:"mx-auto flex max-w-xl flex-col gap-y-12"},l.createElement("div",{className:"flex flex-col gap-4"},(null==m?void 0:m.length)&&l.createElement(p.A,{name:m[0],className:"item-selectable"}),l.createElement("h1",{className:"text-3xl font-bold"},c),l.createElement("div",{className:"item-secondary flex flex-col gap-2 lg:flex-row"},s&&l.createElement("span",{title:`首次发布于：${h.toString()}\n最后更新于：${A.toString()}`},h.format("MM 月 DD 日 YYYY 年")),(null==d?void 0:d.length)&&l.createElement("div",{className:"flex flex-1 flex-wrap gap-2 lg:before:content-['•']"},d.map((e=>l.createElement(u.A,{key:e,name:e,className:"item-secondary item-selectable"})))))),l.createElement("article",{ref:f,className:"heti post-entry"},g&&E>365&&l.createElement("blockquote",{className:"border-l-4 border-orange-400"},"这是一篇",l.createElement("strong",null,"最后更新于 ",E," 天前"),"的博客，内容可能随着时间的推移而变得不再适用，建议您仔细评估信息的有效性。"),l.createElement(t.x,{components:b},a)))},h=e=>{let{data:a}=e;return l.createElement(g.A,{title:String(a.mdx.frontmatter.title)})};function A(e){return l.createElement(f,e,l.createElement(s,e))}}}]);
//# sourceMappingURL=component---src-templates-post-tsx-content-file-path-blog-posts-run-mc-server-mdx-dc4dfac0ff9ae003d875.js.map