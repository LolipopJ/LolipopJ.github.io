"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[5458],{1173:function(n,s,a){a.r(s),a.d(s,{Head:function(){return f},default:function(){return h}});var t=a(8453),e=a(6540);function p(n){const s=Object.assign({p:"p",h2:"h2",h3:"h3",span:"span",a:"a",strong:"strong",ol:"ol",li:"li",blockquote:"blockquote"},(0,t.R)(),n.components);return e.createElement(e.Fragment,null,e.createElement(s.p,null,"æœ€è¿‘åœ¨æ£è…¾æˆ‘çš„ Timeline æ—¶é—´çº¿é¡¹ç›®ï¼Œå¸Œæœ›å°†æˆ‘åœ¨ä¸åŒå¹³å°ä¸Šçš„å‘è¨€å’Œæ´»è·ƒè®°å½•åŒæ­¥è¿‡æ¥ï¼Œåœ¨ç‹¬ç«‹çš„ç«™ç‚¹ä¸ŠæŒ‰ç…§åˆ›å»ºæ—¶é—´å€’åºå‘ˆç°ã€‚"),"\n",e.createElement(s.p,null,"è¿‡å»ï¼Œæˆ‘å°è¯•æŠŠè¿™ä¸ªæƒ³æ³•æ”¾åˆ° Telegram ä¸Šå®ç°ï¼ŒæŠŠå‘è¨€å’Œè®°å½•åŒæ­¥åˆ°æˆ‘çš„é¢‘é“ä¸Šã€‚ä½†æ˜¯æ ¼å¼è½¬æ¢çš„ç¹æ‚ä»¥åŠè‡ªç”±åº¦ä¸Šçš„é™åˆ¶è®©æˆ‘å¤§è´¹å‘¨ç« ï¼ŒåŠ ä¹‹å¢é‡å¼€è®¾çš„åŒæ­¥å†…å®¹ä¼šä»¥æ¶ˆæ¯çš„æ–¹å¼ä¸€æ¡ä¸€æ¡æ·»åŠ åˆ°æœ«å°¾ï¼Œæ— æ³•æŒ‰æ—¶é—´æ’åºï¼Œæœ€ç»ˆæˆ‘æ”¾å¼ƒäº†è¿™ä¸ªæ–¹æ¡ˆã€‚"),"\n",e.createElement(s.p,null,"è¨€å½’æ­£ä¼ ï¼Œåœ¨é¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°çš„ä¸€ä¸ªç›¸å¯¹å¤æ‚çš„åœºæ™¯å³ QQ ç©ºé—´è¯´è¯´çš„åŒæ­¥ã€‚æœ¬æ–‡äº‹æ— å·¨ç»†åœ°è®°å½•ä¸‹æˆ‘åœ¨å¤„ç† QQ ç©ºé—´è¯´è¯´åŒæ­¥çš„è¿‡ç¨‹ä¸­ï¼Œåšäº†å“ªäº›å·¥ä½œï¼Œå¸Œæœ›ä¸ºæœ‰ç›¸åº”éœ€æ±‚çš„åšç±³ä»¬å¸¦æ¥ä¸€äº›çµæ„Ÿã€‚"),"\n",e.createElement(s.h2,null,"åŒæ­¥ QQ ç©ºé—´è¯´è¯´"),"\n",e.createElement(s.h3,null,"åŒæ­¥æ–¹æ¡ˆçš„æ¢ç´¢ä¸ç¡®å®š"),"\n",e.createElement(s.p,null,"éå¸¸è‡ªç„¶è€Œç„¶çš„ï¼Œç¬”è€…è®¾æƒ³ä½¿ç”¨ Puppeteer æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼Œæ‰“å¼€ QQ ç©ºé—´ç½‘é¡µç«¯ï¼Œè¾“å…¥è´¦å·å’Œå¯†ç ï¼Œè¿›å…¥åˆ°ä¸ªäººä¸»é¡µï¼Œæ ¹æ® DOM ç»“æ„çˆ¬å–å¾—åˆ°è¯´è¯´çš„ä¿¡æ¯ã€‚åŒæ ·éå¸¸è‡ªç„¶è€Œç„¶çš„ï¼Œåœ¨åˆ‡æ¢ç™»å½•æ¨¡å¼ï¼ˆä»äºŒç»´ç ç™»å½•åˆ°è´¦å·å¯†ç ç™»å½•ï¼‰æ­¥éª¤å°±å¡ç€äº†ï¼Œæ¨¡æ‹Ÿç‚¹å‡»åˆ‡æ¢ç™»å½•æ¨¡å¼æŒ‰é’®æ— æ•ˆã€‚ç¬”è€…å¹¶éçˆ¬è™«ä¸“å®¶ï¼Œæ²¡æœ‰æ­¤ç±»é—®é¢˜çš„å¯¹æŠ—ç»éªŒï¼Œåœ¨æœç´¢æ— æœåæ— å¥ˆæ”¾å¼ƒã€‚å†æƒ³åˆ°åç»­å¯èƒ½è¿˜è¦å¤„ç†ç™»å½•å®‰å…¨éªŒè¯ï¼Œæˆ–å¤„ç†åˆ«çš„é˜²çˆ¬æ‰‹æ®µï¼Œåˆ¤æ–­ Puppeteer çš„æ–¹æ¡ˆå…¶å®å¹¶ä¸åˆé€‚ QQ ç©ºé—´è¯´è¯´çš„åŒæ­¥ã€‚"),"\n",e.createElement(s.p,null,"äºæ˜¯æƒ³åˆ°æ¥å£çš„æ–¹æ¡ˆï¼Œæ¨¡æ‹Ÿç™»å½•è¯·æ±‚ï¼Œå¹¶æŠŠè¿”å›çš„ Cookies å¡ç»™è·å–è¯´è¯´ä¿¡æ¯çš„è¯·æ±‚ã€‚æŸ¥çœ‹ç½‘ç»œè¯·æ±‚å¯çŸ¥ï¼ŒH5 ç«¯çš„ QQ ç©ºé—´ä½¿ç”¨ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">https://h5.qzone.qq.com/webapp/json/mqzone_feeds/getActiveFeeds</code>'}})," æ¥å£æ‹‰å–è¯´è¯´ä¿¡æ¯ï¼Œç„¶è€ŒåŒæ—¶ä¹Ÿå‘ç°è¯·æ±‚è·¯å¾„é‡ŒåŒ…å«äº†ä¸¤ä¸ªä¸å­˜åœ¨äº Cookies çš„å‚æ•°ï¼š",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">qzonetoken</code>'}})," å’Œ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">g_tk</code>'}}),"ï¼Œå®ƒæ˜¯é€šè¿‡æŸç§ç‰¹æ®Šç®—æ³•åœ¨å‰ç«¯ç”Ÿæˆçš„ï¼"),"\n",e.createElement(s.p,null,"æ—¢ç„¶æ˜¯å‰ç«¯ç”Ÿæˆçš„ï¼Œé‚£ä¹ˆç®—æ³•ä¸€å®šæœ‰è¿¹å¯å¾ªï¼Œæ±‚åŠ©äºæœç´¢å¼•æ“æœç„¶æ‰¾åˆ°äº† ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">g_tk</code>'}})," çš„ç”Ÿæˆç®—æ³•ã€‚"),"\n",e.createElement(s.p,null,"åœ¨æœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜å‘ç°å¤§å®¶ä¸€èˆ¬é€šè¿‡ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">https://user.qzone.qq.com/proxy/domain/taotao.qq.com/cgi-bin/emotion_cgi_msglist_v6</code>'}})," æ¥å£æ‹‰å–è¯´è¯´è¯´ä¿¡æ¯ï¼›å¦å¤–åœ¨ Github ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªé«˜æ˜Ÿæ ‡çš„ Python å®ç° ",e.createElement(s.a,{href:"https://github.com/LibraHp/GetQzonehistory"},"GetQzonehistory"),"ï¼Œå¯ä»¥åŸºäºå®ƒæ”¹å·´æ”¹å·´å®ç° Node.js ç‰ˆæœ¬ã€‚"),"\n",e.createElement(s.p,null,"è‡³æ­¤ï¼ŒåŒæ­¥æ–¹æ¡ˆå¾—åˆ°äº†ç¡®å®šï¼ˆæ¯•ç«Ÿå®ç°å¥½çš„ GetQzonehistory ç ç‰åœ¨å‰ï¼‰ï¼Œæˆ‘ä»¬å°†é€šè¿‡æ¥å£çš„æ–¹å¼æ‹‰å–è¯´è¯´ä¿¡æ¯ã€‚"),"\n",e.createElement(s.h3,null,"ç™»å½•æ–¹æ¡ˆçš„ç¡®å®šä¸å®ç°"),"\n",e.createElement(s.p,null,"ç°åœ¨å¼€å§‹å®ç° QQ ç©ºé—´ç™»å½•çš„åŠŸèƒ½ï¼Œç¿»çœ‹ GetQzonehistory æºç ï¼Œå‘ç°å…¶é‡‡ç”¨äº†æ‰«ç ç™»å½•çš„å®ç°æ–¹å¼ï¼Œè¿™åº”å½“æ˜¯æœ‰æ‰€è€ƒé‡çš„ï¼Œå¯ä»¥ç»•è¿‡ç™»å½•å®‰å…¨éªŒè¯ç­‰æ£˜æ‰‹çš„é—®é¢˜ï¼Œå½“ç„¶ä¹Ÿå­˜åœ¨æ— æ³•è‡ªåŠ¨åŒ–åŒæ­¥ä»»åŠ¡çš„é—®é¢˜ã€‚"),"\n",e.createElement(s.p,null,"è€ƒè™‘åˆ°å‘ç©ºé—´è¯´è¯´å¹¶ä¸æ˜¯ä¸€ä¸ªé«˜é¢‘è¡Œä¸ºï¼Œåœ¨æƒ³è¦åŒæ­¥æ—¶æ‰‹åŠ¨æ‰«ç æ˜¯å¯æ¥å—çš„ï¼Œé‚æ²¿ç”¨äº†",e.createElement(s.strong,null,"æ‰«ç ç™»å½•"),"çš„å®ç°ã€‚æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š"),"\n",e.createElement(s.ol,null,"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"ç”¨æˆ·ç«¯ï¼šè®¿é—®è·å–ç™»å½•äºŒç»´ç é¡µé¢ã€‚"),"\n"),"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"æœåŠ¡ç«¯ï¼šè¯·æ±‚ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">https://ssl.ptlogin2.qq.com/ptqrshow</code>'}})," æ¥å£è·å–ç™»å½•äºŒç»´ç ï¼Œä»å“åº”çš„ Cookies é‡Œè·å– ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">qrsig</code>'}}),"ã€‚å°†ç™»å½•äºŒç»´ç è¿”å›ç»™ç”¨æˆ·ã€‚"),"\n"),"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"æœåŠ¡ç«¯ï¼šè½®è¯¢è¯·æ±‚ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">https://ssl.ptlogin2.qq.com/ptqrlogin</code>'}})," å¾—åˆ°æ‰«ç ç»“æœï¼Œè¯·æ±‚çš„è·¯å¾„å‚æ•° ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ptqrtoken</code>'}})," åŸºäºä¸Šä¸€æ­¥å¾—åˆ°çš„ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">qrsig</code>'}})," ç”Ÿæˆï¼Œç”Ÿæˆç®—æ³•å¦‚ä¸‹ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> <span class="token function-variable function">getPtqrToken</span> <span class="token operator">=</span> <span class="token punctuation">(</span>qrSig<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> ptqrToken <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> qrSig<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    ptqrToken <span class="token operator">+=</span> <span class="token punctuation">(</span>ptqrToken <span class="token operator">&lt;&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> qrSig<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> <span class="token number">2147483647</span> <span class="token operator">&amp;</span> ptqrToken<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n"),"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"ç”¨æˆ·ç«¯ï¼šä½¿ç”¨æ‰‹æœºæ‰«ç å¹¶ç¡®è®¤ç™»å½•ã€‚"),"\n"),"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"æœåŠ¡ç«¯ï¼šè½®è¯¢å“åº”åŒ…å« ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ç™»å½•æˆåŠŸ</code>'}})," å­—æ®µï¼Œè·å–å“åº”ä½“é‡Œ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ptsigx</code>'}})," å’Œå“åº” Cookies é‡Œé”® ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">uin</code>'}})," çš„å€¼ã€‚"),"\n"),"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"æœåŠ¡ç«¯ï¼šå°†ä¸Šä¸€æ­¥å¾—åˆ°çš„ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ptsigx</code>'}})," å’Œ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">uin</code>'}})," ä½œä¸ºè¯·æ±‚ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">https://ptlogin2.qzone.qq.com/check_sig</code>'}})," çš„è·¯å¾„å‚æ•°ã€‚è¯·æ±‚æˆåŠŸï¼Œå“åº”ä¸º 302 çŠ¶æ€ç ï¼Œå°†å“åº”çš„ Cookies ä¿å­˜åˆ°æœ¬åœ°ï¼Œæ­¤å³ä¸ºæ‰€éœ€çš„ç”¨æˆ·ç™»å½•æ€ Cookiesã€‚"),"\n"),"\n"),"\n",e.createElement(s.h3,null,"åŒæ­¥æ–¹æ¡ˆçš„å®ç°"),"\n",e.createElement(s.p,null,"ç™»å½•æ€ Cookies å·²è§£å†³ï¼ŒåŒæ­¥çš„å…·ä½“å®ç°ä¹Ÿå°±è½»è€Œæ˜“ä¸¾äº†ã€‚æµç¨‹å¦‚ä¸‹ï¼š"),"\n",e.createElement(s.ol,null,"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"è¯»å–ä¿å­˜åœ¨æœ¬åœ°çš„ç”¨æˆ·ç™»å½•æ€ Cookiesï¼Œè·å– ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">p_skey</code>'}})," é”®å¯¹åº”çš„å€¼ï¼ŒåŸºäºå®ƒç”Ÿæˆ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">g_tk</code>'}}),"ï¼Œç”Ÿæˆç®—æ³•å¦‚ä¸‹ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> <span class="token function-variable function">getGTk</span> <span class="token operator">=</span> <span class="token punctuation">(</span>pSkey<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> gTk <span class="token operator">=</span> <span class="token number">5381</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pSkey<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    gTk <span class="token operator">+=</span> <span class="token punctuation">(</span>gTk <span class="token operator">&lt;&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> pSkey<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> gTk <span class="token operator">&amp;</span> <span class="token number">2147483647</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n"),"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"è¯·æ±‚ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">https://user.qzone.qq.com/proxy/domain/taotao.qq.com/cgi-bin/emotion_cgi_msglist_v6</code>'}})," æ¥å£ï¼Œå°† ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">g_tk</code>'}})," ä½œä¸ºè·¯å¾„å‚æ•°ã€‚æ­¤å¤–ç”± ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">pos</code>'}})," æŒ‡å®šæŸ¥è¯¢åç§»é‡ï¼Œ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">num</code>'}})," æŒ‡å®šæŸ¥è¯¢æ¡æ•°ã€‚"),"\n"),"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"ä»å“åº”é‡Œæå–è¯´è¯´çš„å…·ä½“ä¿¡æ¯ï¼Œé€šè¿‡ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">JSON.parse()</code>'}})," æ–¹æ³•è½¬æ¢ä¸º JSON æ ¼å¼åšè¿›ä¸€æ­¥å¤„ç†ã€‚å…¶æ ¼å¼å®šä¹‰ç®€ç•¥è¡¨ç¤ºå¦‚ä¸‹ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">interface</span> <span class="token class-name">QZoneInfo</span> <span class="token punctuation">{</span>\n  code<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  logininfo<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token comment">/** ç”¨æˆ·å */</span>\n    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    <span class="token comment">/** QQ å· */</span>\n    uin<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token comment">/** è¯´è¯´åˆ—è¡¨ */</span>\n  msglist<span class="token operator">:</span> QZoneTalk<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token comment">/** è¯´è¯´æ€»æ•° */</span>\n  total<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">QZoneTalk</span> <span class="token punctuation">{</span>\n  <span class="token comment">/** è¯„è®ºåˆ—è¡¨ */</span>\n  commentlist<span class="token operator">?</span><span class="token operator">:</span> QZoneTalkComment<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token comment">/** è¯´è¯´å†…å®¹ */</span>\n  content<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  <span class="token comment">/** åˆ›å»ºæ—¶é—´(s) */</span>\n  created_time<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token comment">/** ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´(s)ã€‚é»˜è®¤å€¼ä¸º 0 */</span>\n  lastmodify<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token comment">/** å®šä½ä¿¡æ¯ */</span>\n  lbs<span class="token operator">:</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    pos_x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    pos_y<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  <span class="token comment">/** è¯´è¯´å›¾ç‰‡é™„ä»¶ï¼ˆä»…æœ‰å›¾ç‰‡æˆ–åŒæ—¶åŒ…å«å›¾ç‰‡å’Œè§†é¢‘æ—¶ï¼Œä½¿ç”¨è¯¥å­—æ®µï¼‰ */</span>\n  pic<span class="token operator">?</span><span class="token operator">:</span> QZoneTalkPic<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token comment">/** æ˜¯å¦ç§å¯† */</span>\n  secret<span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">;</span>\n  <span class="token comment">/** è¯´è¯´ ID */</span>\n  tid<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  uin<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>\n  <span class="token comment">/** è¯´è¯´è§†é¢‘é™„ä»¶ï¼ˆä»…æœ‰è§†é¢‘æ—¶ï¼Œä½¿ç”¨è¯¥å­—æ®µï¼‰ */</span>\n  video<span class="token operator">?</span><span class="token operator">:</span> QZoneTalkVideo<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n"),"\n",e.createElement(s.li,null,"\n",e.createElement(s.p,null,"æ ¹æ®è‡ªèº«éœ€è¦å¤„ç†å¾—åˆ°çš„è¯´è¯´ç»“æœï¼Œå®ŒæˆåŒæ­¥çš„éœ€æ±‚ã€‚"),"\n"),"\n"),"\n",e.createElement(s.h2,null,"è¯´è¯´è§†é¢‘æ’­æ”¾ä¼˜åŒ–"),"\n",e.createElement(s.p,null,"ç¬”è€…å¿ƒæ»¡æ„è¶³åœ°æµè§ˆç€å‘ˆç°åœ¨æ—¶é—´çº¿é¡¹ç›®é‡Œçš„ QQ ç©ºé—´è¯´è¯´ï¼Œå…´è¶£ç›ç„¶åœ°ç‚¹å‡»äº†ä¸€ä¸ªä»¥å‰ä¸Šä¼ çš„è§†é¢‘ï¼Œè§†é¢‘å´åœ¨ç¬”è€…ç„¦è™‘åœ°ç­‰å¾…åå¤šç§’åæ‰å¼€å§‹æ’­æ”¾ã€‚è¿™ä¸‹å­ç¬”è€…çŸ¥é“åˆæœ‰æ–°çš„é—®é¢˜è¦è§£å†³äº† â€”â€” æ€ä¹ˆå®ç°è§†é¢‘çš„è¾¹ä¸‹è½½è¾¹æ’­æ”¾ï¼Ÿ"),"\n",e.createElement(s.p,null,"æ±‚åŠ©äºæœç´¢å¼•æ“ï¼Œå¾—çŸ¥ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.mp4</code>'}})," æ ¼å¼çš„è§†é¢‘æ–‡ä»¶æœ¬æ¥æ˜¯å¯ä»¥è¾¹ä¸‹è½½è¾¹æ’­æ”¾çš„ã€‚å¦‚æœä¸èƒ½è¾¹ä¸‹è½½è¾¹æ’­æ”¾ï¼Œåˆ™è¯´æ˜æè¿°å®ƒçš„",e.createElement(s.strong,null,"è§†é¢‘æ ¼å¼ä¿¡æ¯å…ƒæ•°æ®"),"è¢«æ”¾ç½®åˆ°äº†è§†é¢‘æ–‡ä»¶çš„ä¸­é—´æˆ–æœ«å°¾ã€‚ä¸€ä¸ªç®€å•ä¸”å¸¸ç”¨çš„å¤„ç†æ–¹æ¡ˆæ˜¯ä½¿ç”¨ ",e.createElement(s.a,{href:"https://github.com/danielgtaylor/qtfaststart"},e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">qt-faststart</code>'}}))," å·¥å…·ï¼Œå°†è¿™äº›å…ƒæ•°æ®ç§»åŠ¨åˆ°è§†é¢‘æ–‡ä»¶çš„å¤´éƒ¨ã€‚"),"\n",e.createElement(s.p,null,"ç¬”è€…åœ¨å¯¼å‡ºè¯´è¯´åï¼Œå‘ç°åŒæ—¶åŒ…å«æœ‰ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.mp4</code>'}})," å’Œ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.m3u8</code>'}})," ä¸¤ç§æ ¼å¼çš„æ–‡ä»¶ã€‚å…¶ä¸­ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.m3u8</code>'}})," æ˜¯æ’­æ”¾åˆ—è¡¨æ–‡ä»¶ï¼Œè¿˜éœ€è¦æŠŠé‡Œé¢åŒ…å«çš„è§†é¢‘ç‰‡æ®µæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä¸ç„¶æ— æ³•æ­£å¸¸æ’­æ”¾ã€‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µä¾›å›å‚è€ƒï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">if</span> <span class="token punctuation">(</span>videoFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">".m3u8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> videoSliceFilenameMatches <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>responseData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>\n    <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">^</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>videoFilename<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.+$</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">"gm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> videoBaseUrl <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>videoUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>videoSliceFilenameMatches<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>videoSliceFilenameMatch<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> sliceFilename <span class="token operator">=</span> videoSliceFilenameMatch<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> sliceDownloadUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>videoBaseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sliceFilename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> sliceSavePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>\n      videoSaveDir<span class="token punctuation">,</span>\n      sliceFilename<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    axios\n      <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>sliceDownloadUrl<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n        responseType<span class="token operator">:</span> <span class="token string">"arraybuffer"</span><span class="token punctuation">,</span>\n        maxContentLength<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span> <span class="token comment">// é¿å…æ–‡ä»¶è¿‡å¤§å¼‚å¸¸è·³å‡ºï¼›åœ¨ä¸‹è½½åŸå§‹è§†é¢‘æ—¶ä¹Ÿåº”å½“é…ç½®æ­¤é¡¹</span>\n        maxBodyLength<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span> <span class="token comment">// åŒä¸Š</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>getSliceResponse<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>sliceSavePath<span class="token punctuation">,</span> getSliceResponse<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",e.createElement(s.blockquote,null,"\n",e.createElement(s.p,null,"ä¸ä¼ ç»Ÿçš„è§†é¢‘æ ¼å¼ä¸åŒï¼ŒM3U8 è§†é¢‘æ ¼å¼å°†æ•´ä¸ªè§†é¢‘åˆ†æˆ",e.createElement(s.strong,null,"å¤šä¸ªå°ç‰‡æ®µ"),"è¿›è¡Œä¼ è¾“ï¼Œè¿™äº›å°ç‰‡æ®µå¯ä»¥æ ¹æ®ç½‘ç»œæƒ…å†µè‡ªåŠ¨è°ƒèŠ‚å…¶è´¨é‡å’Œå¤§å°ã€‚è¿™ç§æ–¹å¼ä½¿å¾— M3U8 è§†é¢‘æ ¼å¼éå¸¸é€‚åˆåœ¨ç½‘ç»œç¯å¢ƒä¸ç¨³å®šæˆ–å¸¦å®½ä¸è¶³çš„æƒ…å†µä¸‹æ’­æ”¾è§†é¢‘ã€‚"),"\n"),"\n",e.createElement(s.p,null,"ç»è¿‡å¤æ‚ä¸”æŠ˜è…¾çš„æ€æƒ³æ–—äº‰åï¼Œç¬”è€…å†³å®šä½¿ç”¨ ",e.createElement(s.a,{href:"https://ffmpeg.org"},e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ffmpeg</code>'}}))," å·¥å…·ï¼Œå°†æ‰€æœ‰ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.mp4</code>'}})," æ ¼å¼çš„è§†é¢‘æ–‡ä»¶è½¬æ¢ä¸º ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.m3u8</code>'}})," æ ¼å¼ï¼Œå®Œæˆæ ¼å¼ä¸Šçš„ç»Ÿä¸€ä¸è¾¹ä¸‹è½½è¾¹æ’­æ”¾çš„éœ€æ±‚ã€‚"),"\n",e.createElement(s.h3,null,"æœåŠ¡ç«¯è½¬æ¢è§†é¢‘æ–‡ä»¶ä¸º ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.m3u8</code>'}})," æ ¼å¼"),"\n",e.createElement(s.p,null,"æœåŠ¡ç«¯å®‰è£…ä½¿ç”¨ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ffmpeg</code>'}})," æ‰€éœ€çš„ä¾èµ–ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> fluent-ffmpeg ffmpeg-static</code></pre></div>'}}),"\n",e.createElement(s.p,null,"å…¶ä¸­ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ffmpeg-static</code>'}})," åœ¨å®‰è£…æ—¶ä¼šè‡ªåŠ¨ä¸‹è½½ä¸€ä¸ªç¼–è¯‘å¥½çš„ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ffmpeg</code>'}})," äºŒè¿›åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°ï¼Œä¾› ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">fluent-ffmpeg</code>'}})," ä½¿ç”¨ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> pathToFfmpeg <span class="token keyword">from</span> <span class="token string">"ffmpeg-static"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Ffmpeg <span class="token keyword">from</span> <span class="token string">"fluent-ffmpeg"</span><span class="token punctuation">;</span>\n\nFfmpeg<span class="token punctuation">.</span><span class="token function">setFfmpegPath</span><span class="token punctuation">(</span>pathToFfmpeg<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",e.createElement(s.p,null,"å°† ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.mp4</code>'}})," æ–‡ä»¶è½¬æ¢ä¸º ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.m3u8</code>'}})," æ ¼å¼ï¼Œå¯ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> <span class="token function-variable function">convertVideoToM3u8</span> <span class="token operator">=</span> <span class="token punctuation">(</span>videoFilePath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> outputFilePath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token function">Ffmpeg</span><span class="token punctuation">(</span>videoFilePath<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">outputFormat</span><span class="token punctuation">(</span><span class="token string">"hls"</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">outputOptions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"-hls_list_size 0"</span><span class="token punctuation">,</span> <span class="token string">"-hls_allow_cache 1"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span>outputFilePath<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",e.createElement(s.p,null,"å…¶ä¸­ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">outputOptions()</code>'}})," çš„å®Œæ•´å‚æ•°åˆ—è¡¨å®šä¹‰å¯ä»¥",e.createElement(s.a,{href:"https://ffmpeg.org/ffmpeg-formats.html#hls-2"},"åœ¨è¿™é‡Œ"),"æ‰¾åˆ°ã€‚",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">-hls_list_size</code>'}})," é…ç½®ä¿ç•™çš„è§†é¢‘ç‰‡æ®µæ•°é‡ï¼Œæ­¤å¤„çš„è§†é¢‘æ ¼å¼è½¬æ¢å¹¶éç›´æ’­åœºæ™¯ï¼Œå› æ­¤éœ€è¦è®¾ä¸º ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">0</code>'}}),"ï¼›",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">-hls_allow_cache</code>'}})," å³æ˜¯å¦å…è®¸å®¢æˆ·ç«¯ç¼“è§†é¢‘ç‰‡æ®µï¼Œè®¾ä¸ºå…è®¸ï¼›å¦å¤– ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">-hls_time</code>'}})," å¯ä»¥é…ç½®æ¯ä¸ªè§†é¢‘ç‰‡æ®µçš„é•¿åº¦ï¼Œé»˜è®¤å€¼ä¸º ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">2</code>'}}),"ï¼ˆç§’ï¼‰ï¼Œæ­¤å¤„ä¿æŒé»˜è®¤ã€‚"),"\n",e.createElement(s.p,null,"è½¬æ¢åçš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/f0cfb906268e9bed6d939ea3fae18181/9cea8/m3u8-results.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 55.769230769230774%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0klEQVR42lVS2XLbMBDzj8SHZJ3URVGXJdmOHU876fT/fwfFLh03ecAsSVFYANyNm94xLh/YBhkOkfmBMCkRZQ0qN8P2K5puQdWetMq+Hc7cj4jzBkluEfCfTdsNcMQ2SLELM4Ws98fcXzQ1jmmNjo370w2WJKYZlSDieZT574IwqbBJihbNeNGuNZWIgtotKO0Jph55sdGL3XTDfP2N6+Mv1vdP3l9fRD8I35Iah+4GUzntnNe9r1VPdVaVBrzYn+443z4xX35hmO9sPKOhbREgzSWWtHAkjEvs6gVxViGiRYFYFSthUmAXJNq5Ha+Yzg8MzNtxXYqTzjsp7KT1P2F1Yh4ljjmlC3HmaxCTMEwR0nY/f1DhHyy0LQolHslTavmMSQkPcY6i7ajK6kHKTBPjIa/8RTgI4d0TylRIhna4KJHa5z4rO2y2VBE0My3XiJlZooRW8UUogbf8eVofGAlZF82kRAXzNvWgexHxzHCm5UItR0/bgkNsvin0j7IS+ihU9rJsv1l+iyvs3ZVzVVGd08NE5+9pmTMZZZYZ3nVcFsL2F6qTMVuZnycUtWnReYX7xr+y5ChWY9MoAr6yDLmcxzmj4A+J6XT9gnEeOYUYh3/0oFVAEap86AAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="m3u8-results"\n        title=""\n        src="/static/f0cfb906268e9bed6d939ea3fae18181/39c09/m3u8-results.png"\n        srcset="/static/f0cfb906268e9bed6d939ea3fae18181/680fe/m3u8-results.png 156w,\n/static/f0cfb906268e9bed6d939ea3fae18181/17474/m3u8-results.png 312w,\n/static/f0cfb906268e9bed6d939ea3fae18181/39c09/m3u8-results.png 624w,\n/static/f0cfb906268e9bed6d939ea3fae18181/6d2da/m3u8-results.png 936w,\n/static/f0cfb906268e9bed6d939ea3fae18181/5a791/m3u8-results.png 1248w,\n/static/f0cfb906268e9bed6d939ea3fae18181/9cea8/m3u8-results.png 1278w"\n        sizes="(max-width: 624px) 100vw, 624px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",e.createElement(s.p,null,"ç‰¹åˆ«çš„ï¼Œå¦‚æœæœºå™¨çš„è¿è¡Œå†…å­˜ä¸è¶³å¤Ÿæ‰¹é‡å¤„ç†å¤šä¸ªè§†é¢‘æ–‡ä»¶ï¼Œå»ºè®®å°è£…ä¸€ä¸ªä¸²è¡Œæ‰§è¡Œ Promise ä»»åŠ¡çš„æ–¹æ³•ï¼ˆæœ€è¿‘ä¸€æ¬¡é¢è¯•é‡åˆ°çš„é¢˜ç›®ï¼Œå±…ç„¶å³åˆ»åœ¨è‡ªå·±çš„é¡¹ç›®é‡Œç”¨ä¸ŠğŸ‘ğŸ¼ï¼‰ï¼Œä¾æ¬¡æ‰§è¡Œè½¬æ¢ä»»åŠ¡ï¼Œé¿å…å†…å­˜æº¢å‡ºå¯¼è‡´çš„ç¨‹åºå¼‚å¸¸è·³å‡ºã€‚å¯å‚è€ƒç¬”è€…çš„å®ç°ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> <span class="token function-variable function">createPromiseQueue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> queue<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> isProcessing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> <span class="token function-variable function">processQueue</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>isProcessing<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n    isProcessing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> task <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">try</span> <span class="token punctuation">{</span>\n        <span class="token keyword">await</span> task<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰§è¡Œä»»åŠ¡</span>\n      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Queue task failed:"</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    isProcessing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// å¤„ç†å®Œæˆ</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function-variable function">promiseFunction</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>promiseFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">processQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> addToConvertQueue <span class="token operator">=</span> <span class="token function">createPromiseQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">convertVideoToM3u8</span> <span class="token operator">=</span> <span class="token punctuation">(</span>videoFilePath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> outputFilePath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token function">addToConvertQueue</span><span class="token punctuation">(</span>\n    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n      <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token function">Ffmpeg</span><span class="token punctuation">(</span>videoFilePath<span class="token punctuation">)</span>\n          <span class="token punctuation">.</span><span class="token function">outputFormat</span><span class="token punctuation">(</span><span class="token string">"hls"</span><span class="token punctuation">)</span>\n          <span class="token punctuation">.</span><span class="token function">outputOptions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"-hls_list_size 0"</span><span class="token punctuation">,</span> <span class="token string">"-hls_allow_cache 1"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n          <span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span>outputFilePath<span class="token punctuation">)</span>\n          <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"end"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span>\n          <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n            <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">)</span>\n          <span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",e.createElement(s.h3,null,"å®¢æˆ·ç«¯æ’­æ”¾ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.m3u8</code>'}})," æ ¼å¼è§†é¢‘æ”¯æŒ"),"\n",e.createElement(s.p,null,"æµè§ˆå™¨è‡ªå¸¦çš„ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">&lt;video></code>'}})," æ ‡ç­¾å¹¶ä¸åŸç”Ÿæ”¯æŒæ’­æ”¾ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.m3u8</code>'}})," æ ¼å¼çš„è§†é¢‘ï¼Œè¿™é‡Œç¬”è€…å¼•å…¥äº† ",e.createElement(s.a,{href:"https://videojs.com/"},e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">video.js</code>'}}))," åº“å®ç°æ’­æ”¾åŠŸèƒ½ã€‚åŸºäºå®˜æ–¹æä¾›çš„",e.createElement(s.a,{href:"https://videojs.com/guides/react/"},"ç»„ä»¶å®ç°"),"ï¼Œæ”¹å·´æ”¹å·´å®ç°ä¸ºè‡ªå·±çš„ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> videojs <span class="token keyword">from</span> <span class="token string">"video.js"</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Player <span class="token keyword">from</span> <span class="token string">"video.js/dist/types/player"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">VideoPlayerProps</span> <span class="token punctuation">{</span>\n  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  options<span class="token operator">:</span> <span class="token punctuation">{</span>\n    sources<span class="token operator">:</span> <span class="token punctuation">{</span> src<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> type<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    controls<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>\n    poster<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n    preload<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">"auto"</span> <span class="token operator">|</span> <span class="token string">"metadata"</span> <span class="token operator">|</span> <span class="token string">"none"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  className<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n  onReady<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>player<span class="token operator">:</span> Player<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">/** https://videojs.com/guides/react/ */</span>\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">VideoPlayer</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token operator">:</span> VideoPlayerProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> options<span class="token punctuation">,</span> className <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> onReady <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> videoRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useRef</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLDivElement<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> playerRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useRef</span><span class="token generic class-name"><span class="token operator">&lt;</span>Player<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>videoRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>playerRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> videoElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"video-js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n      videoElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"vjs-default-skin"</span><span class="token punctuation">,</span> <span class="token string">"vjs-big-play-centered"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      videoElement<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>setup <span class="token operator">=</span> <span class="token string">\'{"fluid": true}\'</span><span class="token punctuation">;</span>\n      videoRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>videoElement<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n      <span class="token comment">// @ts-expect-error: playerRef is writable</span>\n      <span class="token keyword">const</span> player <span class="token operator">=</span> <span class="token punctuation">(</span>playerRef<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token function">videojs</span><span class="token punctuation">(</span>videoElement<span class="token punctuation">,</span> options<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        videojs<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Video player for </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is ready.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        onReady<span class="token operator">?.</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>id<span class="token punctuation">,</span> onReady<span class="token punctuation">,</span> options<span class="token punctuation">,</span> videoRef<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// Dispose the Video.js player when the functional component unmounts</span>\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> player <span class="token operator">=</span> playerRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>player <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>player<span class="token punctuation">.</span><span class="token function">isDisposed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        player<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token comment">// @ts-expect-error: playerRef is writable</span>\n        playerRef<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n        videojs<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Video player for </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is disposed.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>id<span class="token punctuation">,</span> playerRef<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// ç¦»å¼€è§†é‡åè‡ªåŠ¨æš‚åœæ’­æ”¾</span>\n  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> video <span class="token operator">=</span> videoRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span>\n    <span class="token keyword">const</span> player <span class="token operator">=</span> playerRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span>\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>video <span class="token operator">&amp;&amp;</span> player<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> pauseObserver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>entry<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>entry<span class="token punctuation">.</span>isIntersecting<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          player<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      pauseObserver<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>video<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        pauseObserver<span class="token punctuation">.</span><span class="token function">unobserve</span><span class="token punctuation">(</span>video<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>videoRef<span class="token punctuation">,</span> playerRef<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-vjs-player</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>videoRef<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> VideoPlayer<span class="token punctuation">;</span></code></pre></div>'}}),"\n",e.createElement(s.p,null,"ä¸€åˆ‡å°±ç»ªï¼Œå†æ¬¡ç‚¹å‡»è§†é¢‘ï¼Œç¼“å†²æ¡å¦‚é¢„æœŸèˆ¬ä¸€èŠ‚èŠ‚åŠ è½½ï¼Œå®ç°äº†è§†é¢‘çš„è¾¹ä¸‹è½½è¾¹æ’­æ”¾ï¼Œå¯å–œå¯è´ºå¯å–œå¯è´ºï¼"),"\n",e.createElement(s.h3,null,"å®¢æˆ·ç«¯æ„å»ºä½“ç§¯ï¼ˆé¦–å±é€Ÿåº¦ï¼‰ä¼˜åŒ–"),"\n",e.createElement(s.p,null,"å¦‚æœæ‚¨å·²ç»å…·å¤‡äº†ä¸€å®šçš„å‰ç«¯å¼€å‘ç»éªŒï¼Œå°±ä¼šå¯¹æ‰“åŒ…è¿›é¡¹ç›®çš„ä¸‰æ–¹åº“éå¸¸æ•æ„Ÿï¼šæ‰“åŒ…æœªç»ï¼ˆæˆ–æ— æ³•ï¼‰æŒ‰éœ€å¼•å…¥ä¼˜åŒ–çš„ä¸‰æ–¹åº“ï¼Œæ„å‘³ç€å°†ä¸‰æ–¹åº“çš„å…¨éƒ¨ä»£ç å¡åˆ°é¡¹ç›®ä¸­ï¼Œå°†å¯¼è‡´é¡¹ç›®çš„æ„å»ºåä½“ç§¯å¤§å¹…å¢é•¿ã€‚åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œç¬”è€…ä¸ºäº†å…¼å®¹ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.m3u8</code>'}})," æ ¼å¼è§†é¢‘çš„æ’­æ”¾ï¼Œå¼•å…¥äº†å¹¿æ³›ç”¨äºè§†é¢‘ç½‘ç«™çš„ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">video.js</code>'}})," åº“ï¼Œæ„å»ºæ’­æ”¾è¯´è¯´è§†é¢‘çš„ç»„ä»¶ã€‚è€Œå®ƒå°±æ˜¯æ— æ³•æŒ‰éœ€å¼•å…¥çš„ä¸‰æ–¹åº“ï¼Œæ‰“åŒ…åçš„ä»£ç ä½“ç§¯å› è€Œå¤§å¹…å¢é•¿ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="plaintext"><pre class="language-plaintext"><code class="language-plaintext">Route (app)                              Size     First Load JS\nâ”Œ â—‹ /                                    217 kB          338 kB\nâ”” â—‹ /_not-found                          873 B          88.1 kB\n+ First Load JS shared by all            87.3 kB\n  â”œ chunks/364-54e0b660da1a9f95.js       31.7 kB\n  â”œ chunks/618f8807-5ab9f851e4f8eeba.js  53.6 kB\n  â”” other shared chunks (total)          1.96 kB</code></pre></div>'}}),"\n",e.createElement(s.p,null,"å¹¶éæ¯ä¸€ä¸ªç«™é•¿éƒ½ä¼šé…ç½®åŒ…å«è§†é¢‘çš„æ—¶é—´çº¿æºï¼ˆä¾‹å¦‚æœ¬æ–‡çš„ QQ ç©ºé—´ï¼‰ï¼Œé¦–å±åŠ è½½çš„æ—¶é—´çº¿å†…å®¹ä¹Ÿå¹¶éä¸€å®šåŒ…å«è§†é¢‘å†…å®¹ï¼Œå¦‚æœä¸€è‚¡è„‘åœ°å°† ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">video.js</code>'}})," æ‰“åŒ…åœ¨é¦–å± JS ä»£ç å†…ï¼ŒåŠ¿å¿…æ— æ³•å¸¦æ¥æœ€å¥½çš„è®¿é—®ä½“éªŒã€‚"),"\n",e.createElement(s.p,null,"å¹¸è¿çš„æ˜¯ï¼Œ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">next.js</code>'}})," å·²ç»å†…ç½®äº†åŠ¨æ€å¼•å…¥ç»„ä»¶çš„æ–¹æ³• ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">dynamic()</code>'}}),"ï¼Œå¦‚æœè¦åŠ¨æ€å¼•å…¥ä½¿ç”¨åˆ° ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">video.js</code>'}})," åº“çš„ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">&lt;VideoPlayer></code>'}})," ç»„ä»¶ï¼Œåªéœ€è¦ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> dynamic <span class="token keyword">from</span> <span class="token string">"next/dynamic"</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> VideoPlayer <span class="token operator">=</span> <span class="token function">dynamic</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/components/VideoPlayer"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",e.createElement(s.p,null,"å¦‚æ˜¯ä¼˜åŒ–åï¼Œé¦–å±åŠ è½½çš„ JS ä½“ç§¯è‡ª ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">338 kB</code>'}})," é™è‡³ ",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">142 kB</code>'}}),"ã€‚ç­‰åˆ°ç”¨æˆ·é‡åˆ°åŒ…å«è§†é¢‘çš„æ—¶é—´çº¿å†…å®¹æ—¶ï¼Œæ‰ä¼šåŠ è½½ä¸è§†é¢‘æ’­æ”¾ç›¸å…³çš„ JS èµ„æºï¼Œå®ç°äº†å¯¹è®¿é—®ä½“éªŒçš„ä¼˜åŒ–ã€‚"),"\n",e.createElement(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="plaintext"><pre class="language-plaintext"><code class="language-plaintext">Route (app)                              Size     First Load JS\nâ”Œ â—‹ /                                    20.4 kB         142 kB\nâ”” â—‹ /_not-found                          873 B          88.2 kB\n+ First Load JS shared by all            87.4 kB\n  â”œ chunks/364-54e0b660da1a9f95.js       31.7 kB\n  â”œ chunks/618f8807-5ab9f851e4f8eeba.js  53.6 kB\n  â”” other shared chunks (total)          2.06 kB</code></pre></div>'}}))}var o=function(n){void 0===n&&(n={});const{wrapper:s}=Object.assign({},(0,t.R)(),n.components);return s?e.createElement(s,n,e.createElement(p,n)):p(n)},c=a(197),l=a(4353),u=a.n(l),i=a(4794),r=a(6947),k=a(4017),d=a(1042),g=a(1038);const m={a:n=>{let{href:s="",children:a}=n;const t=!(null!=s&&s.startsWith("#")),p=t?s:`#${encodeURIComponent(s.slice(1))}`;return e.createElement("a",{href:p,target:t?"_blank":void 0,rel:"noreferrer"},a)},img:n=>{const{alt:s="The author is too lazy to give an alt",src:a,...t}=n;return e.createElement("a",{href:a,"data-fancybox":"gallery","data-caption":s},e.createElement("img",Object.assign({src:a,alt:s},t)))},Card:r.A,Link:i.Link},y=n=>{let{children:s,data:a}=n;const{mdx:{frontmatter:{title:p,date:o,updated:l,categories:i,tags:r,timeliness:d}}}=a,y=e.useRef(null),f=u()(o),h=l?u()(l):f,E=u()().diff(h,"days");return e.useEffect((()=>{var n;const s=null===(n=y.current)||void 0===n?void 0:n.querySelectorAll("a.gatsby-resp-image-link");return null==s||s.forEach((n=>{const s=n.children.item(1);n.setAttribute("data-fancybox","gallery"),n.setAttribute("data-caption",s.alt)})),c.lX.bind("[data-fancybox]"),()=>c.lX.unbind("[data-fancybox]")}),[]),e.createElement("div",{className:"mx-auto flex max-w-xl flex-col gap-y-12"},e.createElement("div",{className:"flex flex-col gap-4"},(null==i?void 0:i.length)&&e.createElement(k.A,{name:i[0],className:"item-selectable"}),e.createElement("h1",{className:"text-3xl font-bold"},p),e.createElement("div",{className:"item-secondary flex flex-col gap-2 lg:flex-row"},o&&e.createElement("span",{title:`é¦–æ¬¡å‘å¸ƒäºï¼š${f.toString()}\næœ€åæ›´æ–°äºï¼š${h.toString()}`},f.format("MM æœˆ DD æ—¥ YYYY å¹´")),(null==r?void 0:r.length)&&e.createElement("div",{className:"flex flex-1 flex-wrap gap-2 lg:before:content-['â€¢']"},r.map((n=>e.createElement(g.A,{key:n,name:n,className:"item-secondary item-selectable"})))))),e.createElement("article",{ref:y,className:"heti post-entry"},!1!==d&&E>365&&e.createElement("blockquote",{className:"border-l-4 border-orange-400"},"è¿™æ˜¯ä¸€ç¯‡",e.createElement("strong",null,"æœ€åæ›´æ–°äº ",E," å¤©å‰"),"çš„åšå®¢ï¼Œå†…å®¹å¯èƒ½éšç€æ—¶é—´çš„æ¨ç§»è€Œå˜å¾—ä¸å†é€‚ç”¨ï¼Œå»ºè®®æ‚¨ä»”ç»†è¯„ä¼°ä¿¡æ¯çš„æœ‰æ•ˆæ€§ã€‚"),e.createElement(t.x,{components:m},s)))},f=n=>{let{data:s}=n;return e.createElement(d.A,{title:String(s.mdx.frontmatter.title)})};function h(n){return e.createElement(y,n,e.createElement(o,n))}}}]);
//# sourceMappingURL=component---src-templates-post-tsx-content-file-path-blog-posts-sync-qzone-talks-mdx-6cac13e91fe0249b35f4.js.map